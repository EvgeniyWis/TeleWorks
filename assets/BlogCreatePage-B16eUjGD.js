import{r as t,j as e}from"./react-CA4AiUJV.js";import{B as m,t as S,F as o,U as B,b as F,I as N,A as R,a as E,c as u,d,e as I}from"./index-JqCcGUv2.js";import{b as A,B as w}from"./BlogFilter-lrSg6JDi.js";import{M as $,L as k,a as V,T as U}from"./TagsInput-aWFrLoOA.js";import{A as W,a as D}from"./AttachFileContainerItems-GIdIxa_7.js";import{U as G,L as M,a as y}from"./LocalStorageKeys-C2ntjbQE.js";import"./@babel-jg6GbPat.js";import"./react-dom-mZ7R76Rh.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-C4CIq1k1.js";import"./react-router--Uu7wFb4.js";import"./@remix-run-BFLWy9pZ.js";import"./react-share-social-CSearPVt.js";import"./@mui-BW_0i19t.js";import"./@emotion-CqIcrw5X.js";import"./hoist-non-react-statics-C4lTEsBz.js";import"./react-is-8JwjhRSi.js";import"./clsx-B-dksMZM.js";import"./react-transition-group-oWkHeoYW.js";import"./@popperjs-BQBsAJpH.js";import"./jss-plugin-rule-value-function-CAswgHnP.js";import"./jss-CXMHkjJw.js";import"./is-in-browser-I-S1O4Zl.js";import"./jss-plugin-global-CDk7pOKb.js";import"./jss-plugin-nested-LssfNFBT.js";import"./jss-plugin-camel-case-B3itHn0h.js";import"./hyphenate-style-name-HOLnhz8K.js";import"./jss-plugin-default-unit-BZKBd3fT.js";import"./jss-plugin-vendor-prefixer-CUcSaikn.js";import"./css-vendor-C7Aa5bc-.js";import"./jss-plugin-props-sort-D2CdvUsV.js";import"./react-share-BRKbMSKU.js";import"./classnames-DTKT5ssy.js";import"./jsonp-Daw0h_Hj.js";import"./styled-components-BSCJP4GN.js";import"./tslib-B7u9K5VY.js";import"./stylis-DinRj2j6.js";import"./@reduxjs-BnO5hRPg.js";import"./redux-DITMfSWq.js";import"./immer-C45-hHMi.js";import"./reselect-BEFkisvr.js";import"./redux-thunk-ClJT1hhx.js";import"./react-redux-Bi_GanN6.js";import"./use-sync-external-store-CsUaFA4Z.js";import"./primereact-G5W_VwUW.js";import"./chart.js-DKcZzhFa.js";import"./@kurkle-BZxJdD1U.js";import"./react-chartjs-2-BAlDKNlw.js";import"./react-select-BR1w2Auk.js";import"./@floating-ui-ClGdVCbi.js";import"./use-isomorphic-layout-effect-CSuNPc5A.js";import"./memoize-one-BdPwpGay.js";import"./swiper-DHqg-7HD.js";import"./react-quill-new-Dv8AEmum.js";import"./lodash-BTUL-dFh.js";import"./quill-nNlu4ERL.js";import"./parchment-Crftfyop.js";import"./quill-delta-B24wi69x.js";import"./fast-diff-Az_-rVRq.js";import"./lodash.clonedeep-DpV3PQoZ.js";import"./lodash.isequal-B9v94zCv.js";import"./eventemitter3-DrUq7uaq.js";import"./lodash-es-BKPNmaDy.js";const f=(s,n)=>G(s,M.BLOG_CREATE,n),O="_BlogCreatePageContainer_nbvgj_1",z="_BlogCreatePageContainer__img_nbvgj_6",Z="_BlogCreatePageContainer__category_nbvgj_13",K="_BlogCreatePageContainer__postType_nbvgj_18",q="_BlogCreatePageContainer__postType__svg_nbvgj_26",H="_BlogCreatePageContainer__postType__svg__active_nbvgj_31",J="_BlogCreatePageContainer__postType__text_nbvgj_34",Q="_BlogCreatePageContainer__postType__text__active_nbvgj_41",X="_BlogCreatePageContainer__desc_nbvgj_44",Y="_BlogCreatePageContainer__titleInput_nbvgj_58",ee="_BlogCreatePageContainer__load_nbvgj_67",te="_BlogCreatePageContainer__inputWrapper_nbvgj_70",ae="_BlogCreatePageContainer__username_nbvgj_73",oe="_BlogCreatePageContainer__button_nbvgj_78",se="_BlogCreatePageContainer__footerDesc_nbvgj_84",a={BlogCreatePageContainer:O,BlogCreatePageContainer__img:z,BlogCreatePageContainer__category:Z,BlogCreatePageContainer__postType:K,BlogCreatePageContainer__postType__svg:q,BlogCreatePageContainer__postType__svg__active:H,BlogCreatePageContainer__postType__text:J,BlogCreatePageContainer__postType__text__active:Q,BlogCreatePageContainer__desc:X,BlogCreatePageContainer__titleInput:Y,BlogCreatePageContainer__load:ee,BlogCreatePageContainer__inputWrapper:te,BlogCreatePageContainer__username:ae,BlogCreatePageContainer__button:oe,BlogCreatePageContainer__footerDesc:se},re=s=>t.createElement("svg",{width:10,height:18,viewBox:"0 0 10 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.337951 17.6562C-0.112651 17.1977 -0.112651 16.4544 0.337951 15.996L7.21433 8.99998L0.337951 2.00391C-0.112651 1.54546 -0.112651 0.802292 0.337951 0.34384C0.788553 -0.114615 1.51908 -0.114615 1.9697 0.34384L9.66204 8.16995C10.1127 8.6284 10.1127 9.37157 9.66204 9.83002L1.9697 17.6562C1.51908 18.1146 0.788553 18.1146 0.337951 17.6562Z",fill:"#FF5555"})),ne=s=>t.createElement("svg",{width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2211 0.762396C16.2046 -0.25413 14.5564 -0.254134 13.5399 0.762396L1.25589 13.0464C0.892513 13.4098 0.644822 13.8726 0.544043 14.3765L0.0346636 16.9234C-0.208185 18.1376 0.862371 19.2082 2.07661 18.9653L4.6235 18.4559C5.12741 18.3552 5.59022 18.1075 5.9536 17.7441L18.2376 5.4601C19.2541 4.44357 19.2541 2.79546 18.2376 1.77892L17.2211 0.762396ZM14.7669 1.98945C15.1058 1.65061 15.6552 1.65061 15.9941 1.98945L17.0105 3.00599C17.3494 3.34482 17.3494 3.89419 17.0105 4.23304L14.6925 6.55107L12.449 4.30749L14.7669 1.98945ZM11.2218 5.53455L2.48295 14.2735C2.36182 14.3946 2.27926 14.5489 2.24567 14.7168L1.73629 17.2637L4.28318 16.7543C4.45115 16.7207 4.60542 16.6382 4.72654 16.5171L13.4654 7.77813L11.2218 5.53455Z",fill:"#FF5555"})),ie=t.memo(()=>{const{setSelectedPostType:s,selectedPostType:n}=t.useContext(m),r=f(y.GET),[_,i]=t.useState(r?r.title:""),[c,P]=t.useState(r?r.textareaValue:""),C=t.useRef(null),[p,x]=t.useState([]),[T,j]=t.useState(0),[h,b]=t.useState(r?r.tags:[]),{setCreatePostActiveStep:v}=t.useContext(m),L=t.useCallback(()=>{v("Заказ создан"),setTimeout(()=>{document.getElementById("BlogPostIsCreated").scrollIntoView({behavior:"smooth"})},S)},[v]);return f(y.UPDATE,{title:_,textareaValue:c,tags:h}),e.jsxs(o,{direction:"column",gap:"10",className:a.BlogCreatePageContainer,children:[e.jsxs(o,{gap:"15",align:"center",children:[e.jsx("img",{className:a.BlogCreatePageContainer__img,src:`${B}/global/images/serviceExample_img_2.png`,alt:"Изображение автора поста"}),e.jsxs(o,{align:"center",gap:"10",children:[e.jsx("span",{className:a.BlogCreatePageContainer__category,children:"Владелец канала"}),e.jsx(re,{})]})]}),e.jsx(o,{align:"center",gap:"10",children:F.map(l=>e.jsxs(o,{className:`${a.BlogCreatePageContainer__postType}
            ${n==l?a.BlogCreatePageContainer__postType__active:""} `,align:"center",gap:"5",onClick:()=>s(l),children:[e.jsx(ne,{className:`${a.BlogCreatePageContainer__postType__svg}
            ${n==l?a.BlogCreatePageContainer__postType__svg__active:""} `}),e.jsx("span",{className:`${a.BlogCreatePageContainer__postType__text}
            ${n==l?a.BlogCreatePageContainer__postType__text__active:""} `,children:l})]},l))}),e.jsxs("p",{className:a.BlogCreatePageContainer__desc,children:["Вы можете написать текст на любую интересную вам тему. Но сначала прочитайте наши"," ",e.jsx("a",{href:"https://journal.tinkoff.ru/community-rules/",children:"правила публикации."})," ","После модерации текст появится"," ",e.jsx("a",{href:"https://journal.tinkoff.ru/community/",children:"в Сообществе"})," и в вашем личном профиле."]}),e.jsxs(o,{max:!0,direction:"column",gap:"20",children:[e.jsx(N,{className:a.BlogCreatePageContainer__titleInput,placeholder:"Заголовок",value:_,onChange:l=>i(l.target.value),type:"text"}),e.jsx($,{TextareaValue:c,setTextareaValue:P,minSymbolsAmount:100,maxSymbolsAmount:500,placeholder:"Ваш текст..."}),e.jsxs(o,{max:!0,gap:"10",direction:"column",children:[e.jsxs(o,{max:!0,direction:"column",className:a.BlogCreatePageContainer__inputWrapper,children:[e.jsx(W,{inputRef:C,InputFiles:p,setInputFiles:x,setInputFileProgress:j}),e.jsx(k,{className:a.BlogCreatePageContainer__load,size:V.BIG,inputRef:C,withBG:!1,title:"Загрузите изображение"})]}),e.jsx(D,{setInputFileProgress:j,InputFileProgress:T,setInputFiles:x,files:p,fileView:"medium"})]}),e.jsx(U,{setSelectedTags:b,SelectedTags:h})]}),e.jsxs(o,{max:!0,justify:"between",align:"center",children:[e.jsxs(o,{max:!0,align:"center",gap:"10",children:[e.jsx(R,{imgURL:`${B}/global/images/serviceExample_authorImg.png`,imgSize:E.SMALLER}),e.jsx("span",{className:a.BlogCreatePageContainer__username,children:"Roman Bayandin-Bessonov"})]}),e.jsxs(o,{max:!0,align:"center",gap:"10",children:[e.jsx(u,{className:a.BlogCreatePageContainer__button,text:"Сохранить черновик",type:d.BLACK_WITHOUT_OUTLINE}),e.jsx(u,{onClick:L,className:a.BlogCreatePageContainer__button,text:"Опубликовать",type:d.RED})]})]}),e.jsxs("p",{className:a.BlogCreatePageContainer__footerDesc,children:["Нажимая «Опубликовать», вы принимаете"," ",e.jsx("a",{href:"https://journal.tinkoff.ru/wiki/terms/",children:"условия соглашения"})," ","и"," ",e.jsx("a",{href:"https://journal.tinkoff.ru/wiki/privacy/",children:"политику конфиденциальности"})]})]})}),le="_BlogPostIsCreated_1ul54_1",ge="_BlogPostIsCreated__appear_1ul54_16",_e="_BlogPostIsCreated__caption_1ul54_21",pe="_BlogPostIsCreated__desc_1ul54_26",ce="_BlogPostIsCreated__button_1ul54_33",g={BlogPostIsCreated:le,BlogPostIsCreated__appear:ge,BlogPostIsCreated__caption:_e,BlogPostIsCreated__desc:pe,BlogPostIsCreated__button:ce},Ce=t.memo(()=>{const{CreatePostActiveStep:s}=t.useContext(m),[n,r]=t.useState(!1),[_,i]=t.useState(!1);return t.useEffect(()=>{s=="Заказ создан"&&(r(!0),setTimeout(()=>{i(!0)},700))},[s]),e.jsx(e.Fragment,{children:n&&e.jsxs(o,{max:!0,gap:"20",align:"center",justify:"center",direction:"column",className:`${g.BlogPostIsCreated} Page__GrayBorderWithWhiteBGWrapper
          ${_?g.BlogPostIsCreated__appear:""}`,children:[e.jsx("img",{className:g.BlogPostIsCreated__img,src:`${B}/BlogPage/PostIsPublished_img.jpg`,alt:"Пост опубликован"}),e.jsx("h1",{className:g.BlogPostIsCreated__caption,children:"Пост опубликован!"}),e.jsx("p",{className:g.BlogPostIsCreated__desc,children:"Пост будет отображаться в вашем профиле, прочая дополнительная, полезная информация или какое-то предупреждение"}),e.jsxs(o,{align:"center",gap:"15",children:[e.jsx(u,{className:g.BlogPostIsCreated__button,to:I.BLOG,type:d.BLUE,text:"На главную"}),e.jsx(u,{className:g.BlogPostIsCreated__button,to:I.USER,type:d.RED,text:"В профиль"})]})]})})}),It=t.memo(()=>{t.useEffect(()=>{document.querySelector("html").classList.add("BlogCreatePage")},[]);const[s,n]=t.useState(A[0]),[r,_]=t.useState("Пост"),[i,c]=t.useState("Создание заказа"),[P,C]=t.useState(!0),p=t.useRef();return t.useEffect(()=>{i=="Заказ создан"&&(p.current=setTimeout(()=>{C(!1)},700))},[i]),t.useEffect(()=>()=>{clearTimeout(p.current)},[]),e.jsx(m.Provider,{value:{selectedPostType:r,setSelectedPostType:_,CreatePostActiveStep:i,setCreatePostActiveStep:c},children:e.jsx("main",{className:"Page BlogCreatePage__main",children:e.jsx("div",{className:"padding",children:e.jsxs(o,{max:!0,className:"BlogCreatePage__contentWrapper",children:[e.jsx(e.Fragment,{children:P&&e.jsxs("div",{className:`BlogCreatePage__container 
      ${i=="Заказ создан"?"BlogCreatePage__container__disappear":""}`,children:[e.jsx(w,{selectedCategory:s,setSelectedCategory:n,canReturn:!0}),e.jsx(o,{className:"BlogCreatePage__mainWrapper",direction:"column",gap:"20",children:e.jsx(ie,{})})]})}),e.jsx("div",{style:{opacity:0,position:"absolute",top:195},id:"BlogPostIsCreated"}),e.jsx(Ce,{})]})})})})});export{It as BlogCreatePage};
