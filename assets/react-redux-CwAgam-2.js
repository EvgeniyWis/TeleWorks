import{R as g,a as N}from"./react-e8hmi6Ay.js";import{w as T}from"./use-sync-external-store-BmpGqMD8.js";var u="default"in g?N:g,C=Symbol.for("react-redux-context"),w=typeof globalThis<"u"?globalThis:{};function U(){if(!u.createContext)return{};const e=w[C]??(w[C]=new Map);let n=e.get(u.createContext);return n||(n=u.createContext(null),e.set(u.createContext,n)),n}var c=U(),D=()=>{throw new Error("uSES not initialized!")};function y(e=c){return function(){return u.useContext(e)}}var E=y(),R=D,O=e=>{R=e},P=(e,n)=>e===n;function H(e=c){const n=e===c?E:y(e),t=(s,r={})=>{const{equalityFn:i=P,devModeChecks:a={}}=typeof r=="function"?{equalityFn:r}:r,{store:l,subscription:f,getServerState:o,stabilityCheck:b,identityFunctionCheck:p}=n();u.useRef(!0);const v=u.useCallback({[s.name](d){return s(d)}}[s.name],[s,b,a.stabilityCheck]),S=R(f.addNestedSub,l.getState,o||l.getState,v,i);return u.useDebugValue(S),S};return Object.assign(t,{withTypes:()=>t}),t}var J=H();function V(e){e()}function z(){let e=null,n=null;return{clear(){e=null,n=null},notify(){V(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=e;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const r=n={callback:t,next:null,prev:n};return r.prev?r.prev.next=r:e=r,function(){!s||e===null||(s=!1,r.next?r.next.prev=r.prev:n=r.prev,r.prev?r.prev.next=r.next:e=r.next)}}}}var m={notify(){},get:()=>[]};function W(e,n){let t,s=m,r=0,i=!1;function a(x){b();const M=s.subscribe(x);let h=!1;return()=>{h||(h=!0,M(),p())}}function l(){s.notify()}function f(){d.onStateChange&&d.onStateChange()}function o(){return i}function b(){r++,t||(t=e.subscribe(f),s=z())}function p(){r--,t&&r===0&&(t(),t=void 0,s.clear(),s=m)}function v(){i||(i=!0,b())}function S(){i&&(i=!1,p())}const d={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:f,isSubscribed:o,trySubscribe:v,tryUnsubscribe:S,getListeners:()=>s};return d}var q=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I=q?u.useLayoutEffect:u.useEffect;function k(e,n){return e===n?e!==0||n!==0||1/e===1/n:e!==e&&n!==n}function Q(e,n){if(k(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;const t=Object.keys(e),s=Object.keys(n);if(t.length!==s.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(n,t[r])||!k(e[t[r]],n[t[r]]))return!1;return!0}function K({store:e,context:n,children:t,serverState:s,stabilityCheck:r="once",identityFunctionCheck:i="once"}){const a=u.useMemo(()=>{const o=W(e);return{store:e,subscription:o,getServerState:s?()=>s:void 0,stabilityCheck:r,identityFunctionCheck:i}},[e,s,r,i]),l=u.useMemo(()=>e.getState(),[e]);I(()=>{const{subscription:o}=a;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),l!==e.getState()&&o.notifyNestedSubs(),()=>{o.tryUnsubscribe(),o.onStateChange=void 0}},[a,l]);const f=n||c;return u.createElement(f.Provider,{value:a},t)}var X=K;function L(e=c){const n=e===c?E:y(e),t=()=>{const{store:s}=n();return s};return Object.assign(t,{withTypes:()=>t}),t}var _=L();function $(e=c){const n=e===c?_:L(e),t=()=>n().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Y=$();O(T.useSyncExternalStoreWithSelector);export{X as P,J as a,_ as b,Q as s,Y as u};
