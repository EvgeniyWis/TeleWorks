import{r as _,j as e}from"./react-GnO0LmOb.js";import{R as $}from"./react-quill-new-CZBXvqAG.js";import{x as N,G as L,P as R,F as y,m as M}from"./index-DAUoax0o.js";const F="_markdownTextarea_1wqk5_3",D="_markdownTextareaWrapper_1wqk5_17",P="_markdownTextarea__textarea_1wqk5_24",O="_markdownTextarea__textarea__warn_1wqk5_34",q="_markdownTextarea__symbols_1wqk5_37",h={markdownTextarea:F,markdownTextareaWrapper:D,markdownTextarea__textarea:P,markdownTextarea__textarea__warn:O,markdownTextarea__symbols:q},H={toolbar:[["bold","italic"],[{list:"ordered"}]]},A=["bold","italic","list"],Da=_.memo(({TextareaValue:a,setTextareaValue:s,maxSymbolsAmount:n,minSymbolsAmount:m,className:o,placeholder:c})=>{const[i,p]=_.useState(""),[r,d]=_.useState(""),[k,t]=N(),B=(w,I)=>{I.length<=n?(s(I),p(w),d(I)):(p(""),k||setTimeout(()=>{alert("Вы превысили ограничение по символам! Если хотите вернуть текст, нажмите CTRL+Z")},0),s(r),t(!0))};return _.useEffect(()=>{a==`
`&&s("")},[a,s]),_.useEffect(()=>{a&&p(a)},[]),e.jsxs("div",{className:`${h.markdownTextareaWrapper} ${o}`,children:[e.jsx($,{className:`${h.markdownTextarea__textarea} ${k?h.markdownTextarea__textarea__warn:""}`,theme:"snow",value:i,onChange:(w,I,Ra,E)=>B(w,E.getText()),formats:A,modules:H,placeholder:c}),e.jsxs("span",{className:`UserEditPage__desc ${h.markdownTextarea__symbols}`,children:[a.length," из ",n," символов (минимум"," ",m,")"]})]})}),S="_loadImageBlock__wrapper_1dwts_3",U="_loadImageBlock__wrapper__info_1dwts_10",V="_loadImageBlock__wrapperWrapper_1dwts_22",Z="_loadImageBlock__wrapperPadding_1dwts_38",z="_loadImageBlock__wrapper__requirements_1dwts_54",G="_loadImageBlock__wrapper__img_1dwts_60",Q="_loadImageBlock__wrapper__imgWrapper_1dwts_72",K="_loadImageBlock__big_1dwts_79",J="_loadImageBlock__medium_1dwts_88",X="_loadImageBlock__small_1dwts_92",Y="_loadImageBlock__wrapper__active_1dwts_96",aa="_loadImageBlock__wrapper__withImg_1dwts_96",ea="_loadImageBlock__caption_1dwts_108",_a="_loadImageBlock__desc_1dwts_120",g={loadImageBlock__wrapper:S,loadImageBlock__wrapper__info:U,loadImageBlock__wrapperWrapper:V,loadImageBlock__wrapperPadding:Z,loadImageBlock__wrapper__requirements:z,loadImageBlock__wrapper__img:G,loadImageBlock__wrapper__imgWrapper:Q,loadImageBlock__big:K,loadImageBlock__medium:J,loadImageBlock__small:X,loadImageBlock__wrapper__active:Y,loadImageBlock__wrapper__withImg:aa,loadImageBlock__caption:ea,loadImageBlock__desc:_a},b=a=>_.createElement("div",{style:{position:"relative"}},_.createElement("svg",{style:{position:"absolute",top:15,left:"11.5px",maxWidth:21,maxHeight:21},width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{d:"M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"})),_.createElement("svg",{width:74,height:74,viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{d:"M71 52.1111V67.2222C71 69.3087 69.3087 71 67.2222 71H6.77778C4.69139 71 3 69.3087 3 67.2222V59.6667M71 52.1111V6.77778C71 4.69139 69.3087 3 67.2222 3H6.77778C4.69139 3 3 4.69139 3 6.77778V59.6667M71 52.1111L50.1576 38.2161C49.0296 37.4639 47.585 37.374 46.3723 37.9803L3 59.6667",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"}))),oa=a=>_.createElement("svg",{width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{d:"M32.2587 23.8535V30.5777C32.2587 31.5061 31.5061 32.2587 30.5777 32.2587H3.68104C2.75264 32.2587 2 31.5061 2 30.5777V27.2156M32.2587 23.8535V3.68104C32.2587 2.75264 31.5061 2 30.5777 2H3.68104C2.75264 2 2 2.75264 2 3.68104V27.2156M32.2587 23.8535L22.9843 17.6705C22.4823 17.3358 21.8395 17.2958 21.2999 17.5656L2 27.2156",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"}),_.createElement("path",{d:"M10.2329 15.3495C12.076 15.3495 13.5702 13.8553 13.5702 12.0122C13.5702 10.169 12.076 8.6748 10.2329 8.6748C8.3897 8.6748 6.89551 10.169 6.89551 12.0122C6.89551 13.8553 8.3897 15.3495 10.2329 15.3495Z",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"})),W="loading";var x=(a=>(a.SIZE_ERROR="Некорректный размер файла!",a.RESOLUTION_ERROR="Неправильное разрешение изображения!",a.FORMAT_ERROR="Неправильный формат файла!",a))(x||{});const ra="_loadImageBlock_1bpid_1",ta="_loadImageBlock__wrapper_1bpid_6",la="_loadImageBlock__wrapper__info_1bpid_13",sa="_loadImageBlock__wrapper__errors_1bpid_20",na="_loadImageBlock__wrapper__error_1bpid_20",ca="_loadImageBlock__wrapperWrapper_1bpid_33",pa="_loadImageBlock__wrapperPadding_1bpid_44",da="_loadImageBlock__wrapper__requirements_1bpid_55",ma="_loadImageBlock__wrapper__input_1bpid_61",ia="_loadImageBlock__wrapper__img_1bpid_69",ga="_loadImageBlock__wrapper__imgWrapper_1bpid_76",ka="_loadImageBlock__wrapper__loadingWrapper_1bpid_83",Ia="_loadImageBlock__big_1bpid_90",wa="_loadImageBlock__medium_1bpid_94",ua="_loadImageBlock__small_1bpid_98",Ba="_loadImageBlock__wrapper__active_1bpid_102",ha="_loadImageBlock__wrapper__withImg_1bpid_102",xa="_loadImageBlock__caption_1bpid_114",fa="_loadImageBlock__desc_1bpid_121",l={loadImageBlock:ra,loadImageBlock__wrapper:ta,loadImageBlock__wrapper__info:la,loadImageBlock__wrapper__errors:sa,loadImageBlock__wrapper__error:na,loadImageBlock__wrapperWrapper:ca,loadImageBlock__wrapperPadding:pa,loadImageBlock__wrapper__requirements:da,loadImageBlock__wrapper__input:ma,loadImageBlock__wrapper__img:ia,loadImageBlock__wrapper__imgWrapper:ga,loadImageBlock__wrapper__loadingWrapper:ka,loadImageBlock__big:Ia,loadImageBlock__medium:wa,loadImageBlock__small:ua,loadImageBlock__wrapper__active:Ba,loadImageBlock__wrapper__withImg:ha,loadImageBlock__caption:xa,loadImageBlock__desc:fa},f=660,v=440,C=30720,j=10485760,va=(a,s,n)=>{const m=a>=C&&a<=j,o=s>=f&&n>=v;return!(!m||!o)},Pa=_.memo(({title:a,size:s,requirements:n=!0,className:m,LoadedImage:o,setLoadedImage:c,LoadedImageErrors:i,setLoadedImageErrors:p})=>{const r=_.useRef(null),d=t=>(t.preventDefault(),!1);_.useEffect(()=>(["dragover","drop"].forEach(function(t){document.addEventListener(t,d)}),()=>{["dragover","drop"].forEach(function(t){document.removeEventListener(t,d)})}),[]);const k=t=>{var w,I;(w=r.current)==null||w.classList.remove(l.loadImageBlock__wrapper__active),console.log(1);const B=(I=t.dataTransfer)==null?void 0:I.files[0];if(B)if(B.type.startsWith("image/"))T(t,c,p);else return p([...i,x.FORMAT_ERROR]),!1};return e.jsxs("div",{className:`${l.loadImageBlock} ${l[`loadImageBlock__${s}`]} ${m||""}`,onDragEnter:()=>{var t;return(t=r.current)==null?void 0:t.classList.add(l.loadImageBlock__wrapper__active)},onDragLeave:()=>{var t;return(t=r.current)==null?void 0:t.classList.remove(l.loadImageBlock__wrapper__active)},onDrop:k,"data-testid":"LoadImageBlock.Drag&Drop",children:[e.jsx("div",{className:`${l.loadImageBlock__wrapper} Page__SirineWrapper 
        ${o&&o!=W?l.loadImageBlock__wrapper__withImg:""}`,ref:r,children:!o||i.length?e.jsxs("label",{className:l.loadImageBlock__wrapperPadding,children:[e.jsx("div",{className:`${l.loadImageBlock__wrapperWrapper}`}),e.jsx("input",{className:l.loadImageBlock__wrapper__input,type:"file",onChange:t=>T(t,c,p,Ca),accept:"image/png, image/gif, image/jpeg, image/jpg","data-testid":"LoadImageBlock.Input"}),e.jsxs("div",{className:l.loadImageBlock__wrapper__info,children:[e.jsx(b,{}),e.jsx("h4",{className:l.loadImageBlock__caption,children:a}),n&&e.jsxs("div",{className:l.loadImageBlock__wrapper__requirements,children:[e.jsxs("span",{className:l.loadImageBlock__desc,children:["Минимальный размер: ",f," х"," ",v," px"]}),e.jsxs("span",{className:l.loadImageBlock__desc,children:["Вес: ",Math.round(C/1024)," кб —"," ",Math.round(j/1048576)," Мб"]}),e.jsx("span",{className:l.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]}):o==W?e.jsx("div",{className:l.loadImageBlock__wrapper__loadingWrapper,children:e.jsx(L,{size:"small"})}):e.jsxs("label",{className:l.loadImageBlock__wrapper__imgWrapper,children:[e.jsx("img",{className:l.loadImageBlock__wrapper__img,src:o,alt:"Изображение хедера","data-testid":"LoadImageBlock.Image"}),e.jsx("input",{className:l.loadImageBlock__wrapper__input,type:"file",onChange:t=>T(t,c,p,ja),accept:"image/png, image/gif, image/jpeg, image/jpg","data-testid":"LoadImageBlock.Change"})]})}),i.length>0&&e.jsx("div",{className:l.loadImageBlock__wrapper__errors,children:i.map(t=>e.jsx("span",{"data-testid":`LoadImageBlock.Error.${t}`,className:l.loadImageBlock__wrapper__error,children:t},t))})]})}),T=(a,s,n,m)=>{var i;R?s(W):m&&s(m);const o=a.target.files||((i=a.dataTransfer)==null?void 0:i.files),c=[];if(n([]),o&&o.length){const p=new FileReader,r=o[0].size>=C&&o[0].size<=j;p.onload=function(){const d=new Image;d.src=p.result,d.onload=function(){const k=d.naturalWidth>=f&&d.naturalHeight>=v;va(o[0].size,d.naturalWidth,d.naturalHeight)?s(p.result):(k||c.push(x.RESOLUTION_ERROR),r||c.push(x.SIZE_ERROR),n(c))}},p.readAsDataURL(o[0])}},Ca="test.png",ja="test2.png",Oa=_.memo(({title:a,size:s,requirements:n=!0,className:m,withBG:o=!0,inputRef:c})=>e.jsx(y,{direction:"column",gap:"10",className:`${g[`loadImageBlock__${s}`]} ${m||""} ${o?"":"Page__GrayBorderWithWhiteBGWrapper"}`,onClick:()=>{var i;return(i=c==null?void 0:c.current)==null?void 0:i.click()},children:e.jsx("div",{className:`${g.loadImageBlock__wrapper} ${o?"Page__SirineWrapper":""}`,children:e.jsxs("label",{className:g.loadImageBlock__wrapperPadding,children:[e.jsx("div",{className:`${g.loadImageBlock__wrapperWrapper}`}),e.jsxs("div",{className:g.loadImageBlock__wrapper__info,children:[M.matches?e.jsx(oa,{}):e.jsx(b,{}),e.jsx("h4",{className:g.loadImageBlock__caption,children:a}),n&&e.jsxs("div",{className:g.loadImageBlock__wrapper__requirements,children:[e.jsxs("span",{className:g.loadImageBlock__desc,children:["Минимальный размер: ",f," х"," ",v," px"]}),e.jsxs("span",{className:g.loadImageBlock__desc,children:["Вес: ",Math.round(C/1024)," кб —"," ",Math.round(j/1048576)," Мб"]}),e.jsx("span",{className:g.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]})})}));var Ta=(a=>(a.SMALL="small",a.MEDIUM="medium",a.BIG="big",a))(Ta||{});const Wa="_TagsInput__tagsInput_upmjh_3",ba="_TagsInput__tagsInputWrapper_upmjh_26",Ea="_TagsInput__tag_upmjh_3",$a="_TagsInput__tag__text_upmjh_64",Na="_TagsInput__tag__delete_upmjh_75",u={TagsInput__tagsInput:Wa,TagsInput__tagsInputWrapper:ba,TagsInput__tag:Ea,TagsInput__tag__text:$a,TagsInput__tag__delete:Na},La=a=>_.createElement("svg",{width:7,height:7,viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.869 0.790865C6.95401 0.702851 7.00105 0.58497 6.99998 0.462612C6.99892 0.340253 6.94984 0.223207 6.86332 0.136684C6.77679 0.0501599 6.65975 0.0010809 6.53739 1.76411e-05C6.41503 -0.00104562 6.29715 0.0459919 6.20913 0.130999L3.50573 2.8344L0.802334 0.130999C0.71432 0.0459919 0.596439 -0.00104562 0.474081 1.76411e-05C0.351722 0.0010809 0.234676 0.0501599 0.148153 0.136684C0.0616287 0.223207 0.0125498 0.340253 0.0114865 0.462612C0.0104232 0.58497 0.0574608 0.702851 0.142468 0.790865L2.84587 3.49427L0.142468 6.19766C0.0978965 6.24071 0.0623447 6.29221 0.0378872 6.34914C0.0134297 6.40608 0.000556068 6.46731 1.762e-05 6.52928C-0.000520828 6.59124 0.0112865 6.65269 0.0347509 6.71004C0.0582154 6.7674 0.0928668 6.8195 0.136683 6.86332C0.1805 6.90713 0.232604 6.94178 0.289956 6.96525C0.347308 6.98871 0.408758 7.00052 0.470722 6.99998C0.532685 6.99944 0.593921 6.98657 0.650856 6.96211C0.707792 6.93765 0.759286 6.9021 0.802334 6.85753L3.50573 4.15413L6.20913 6.85753C6.29715 6.94254 6.41503 6.98958 6.53739 6.98851C6.65975 6.98745 6.77679 6.93837 6.86332 6.85185C6.94984 6.76532 6.99892 6.64828 6.99998 6.52592C7.00105 6.40356 6.95401 6.28568 6.869 6.19766L4.1656 3.49427L6.869 0.790865Z",fill:"#FF5555"})),qa=_.memo(({SelectedTags:a,setSelectedTags:s})=>{const[n,m]=_.useState(""),o=_.useRef(null),c=_.useCallback(r=>{r.preventDefault(),(r.keyCode==13||r.key=="Enter")&&n&&document.activeElement==o.current&&(a.includes(n)||(s([...a,n]),m(""),o.current.focus()))},[a,n,s]);_.useEffect(()=>{document.activeElement==o.current&&n?document.addEventListener("keyup",c):document.removeEventListener("keyup",c)},[document.activeElement,n]),_.useEffect(()=>()=>{document.removeEventListener("keyup",c)},[c]);const i=_.useCallback(r=>{s(a.filter(d=>d!=r)),o.current.focus()},[a,s]),p=_.useCallback(r=>{if(document.activeElement==o.current&&!n){const d=r.keyCode||r.charCode;if(d==8||d==46||r.key=="Backspace"){const k=a.slice();k.pop(),s(k)}}},[a,n,s]);return _.useEffect(()=>(document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}),[p]),e.jsxs("div",{className:u.TagsInput__tagsInputWrapper,children:[a.map(r=>e.jsxs("div",{"data-testid":`TagsInput.tag.${r}`,className:u.TagsInput__tag,children:[e.jsx("span",{className:u.TagsInput__tag__text,children:r}),e.jsx("div",{"data-testid":`TagsInput.tag.${r}.Delete`,onClick:()=>i(r),className:u.TagsInput__tag__delete,children:e.jsx(La,{})})]},r)),e.jsx("input",{"data-testid":"TagsInput.input",className:u.TagsInput__tagsInput,type:"text",value:n,onChange:r=>m(r.target.value),ref:o,placeholder:"Добавьте теги..."})]})});export{Oa as L,Da as M,La as S,qa as T,Ta as a,Pa as b,T as c};
