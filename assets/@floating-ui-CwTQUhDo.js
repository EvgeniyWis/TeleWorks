import{r as m,R as jn}from"./react-BzMsQ5fY.js";import{r as yn}from"./react-dom-BuJph8qg.js";import{i as zn,t as mt}from"./tabbable-DNPBiPWX.js";const qn=["top","right","bottom","left"],zt=["start","end"],qt=qn.reduce((e,t)=>e.concat(t,t+"-"+zt[0],t+"-"+zt[1]),[]),Ve=Math.min,De=Math.max,ct=Math.round,Ke=Math.floor,Me=e=>({x:e,y:e}),Yn={left:"right",right:"left",bottom:"top",top:"bottom"},Xn={start:"end",end:"start"};function Pt(e,t,n){return De(e,Ve(t,n))}function He(e,t){return typeof e=="function"?e(t):e}function Ee(e){return e.split("-")[0]}function be(e){return e.split("-")[1]}function wn(e){return e==="x"?"y":"x"}function At(e){return e==="y"?"height":"width"}function gt(e){return["top","bottom"].includes(Ee(e))?"y":"x"}function Lt(e){return wn(gt(e))}function xn(e,t,n){n===void 0&&(n=!1);const r=be(e),o=Lt(e),i=At(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=ut(s)),[s,ut(s)]}function Un(e){const t=ut(e);return[lt(e),t,lt(t)]}function lt(e){return e.replace(/start|end/g,t=>Xn[t])}function Gn(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Jn(e,t,n,r){const o=be(e);let i=Gn(Ee(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(lt)))),i}function ut(e){return e.replace(/left|right|bottom|top/g,t=>Yn[t])}function Qn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rn(e){return typeof e!="number"?Qn(e):{top:e,right:e,bottom:e,left:e}}function at(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Yt(e,t,n){let{reference:r,floating:o}=e;const i=gt(t),s=Lt(t),c=At(s),f=Ee(t),u=i==="y",g=r.x+r.width/2-o.width/2,a=r.y+r.height/2-o.height/2,p=r[c]/2-o[c]/2;let l;switch(f){case"top":l={x:g,y:r.y-o.height};break;case"bottom":l={x:g,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:a};break;case"left":l={x:r.x-o.width,y:a};break;default:l={x:r.x,y:r.y}}switch(be(t)){case"start":l[s]-=p*(n&&u?-1:1);break;case"end":l[s]+=p*(n&&u?-1:1);break}return l}const Zn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:a}=Yt(u,r,f),p=r,l={},h=0;for(let v=0;v<c.length;v++){const{name:w,fn:C}=c[v],{x:I,y:x,data:b,reset:P}=await C({x:g,y:a,initialPlacement:r,placement:p,strategy:o,middlewareData:l,rects:u,platform:s,elements:{reference:e,floating:t}});g=I??g,a=x??a,l={...l,[w]:{...l[w],...b}},P&&h<=50&&(h++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):P.rects),{x:g,y:a}=Yt(u,p,f)),v=-1)}return{x:g,y:a,placement:p,strategy:o,middlewareData:l}};async function St(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:f}=e,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:a="floating",altBoundary:p=!1,padding:l=0}=He(t,e),h=Rn(l),w=c[p?a==="floating"?"reference":"floating":a],C=at(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:u,rootBoundary:g,strategy:f})),I=a==="floating"?{x:r,y:o,width:s.floating.width,height:s.floating.height}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),b=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},P=at(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:x,strategy:f}):I);return{top:(C.top-P.top+h.top)/b.y,bottom:(P.bottom-C.bottom+h.bottom)/b.y,left:(C.left-P.left+h.left)/b.x,right:(P.right-C.right+h.right)/b.x}}const er=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:f}=t,{element:u,padding:g=0}=He(e,t)||{};if(u==null)return{};const a=Rn(g),p={x:n,y:r},l=Lt(o),h=At(l),v=await s.getDimensions(u),w=l==="y",C=w?"top":"left",I=w?"bottom":"right",x=w?"clientHeight":"clientWidth",b=i.reference[h]+i.reference[l]-p[l]-i.floating[h],P=p[l]-i.reference[l],F=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let B=F?F[x]:0;(!B||!await(s.isElement==null?void 0:s.isElement(F)))&&(B=c.floating[x]||i.floating[h]);const V=b/2-P/2,S=B/2-v[h]/2-1,M=Ve(a[C],S),k=Ve(a[I],S),y=M,T=B-v[h]-k,d=B/2-v[h]/2+V,E=Pt(y,d,T),O=!f.arrow&&be(o)!=null&&d!==E&&i.reference[h]/2-(d<y?M:k)-v[h]/2<0,R=O?d<y?d-y:d-T:0;return{[l]:p[l]+R,data:{[l]:E,centerOffset:d-E-R,...O&&{alignmentOffset:R}},reset:O}}});function tr(e,t,n){return(e?[...n.filter(o=>be(o)===e),...n.filter(o=>be(o)!==e)]:n.filter(o=>Ee(o)===o)).filter(o=>e?be(o)===e||(t?lt(o)!==o:!1):!0)}const nr=function(e){return e===void 0&&(e={}),{name:"autoPlacement",options:e,async fn(t){var n,r,o;const{rects:i,middlewareData:s,placement:c,platform:f,elements:u}=t,{crossAxis:g=!1,alignment:a,allowedPlacements:p=qt,autoAlignment:l=!0,...h}=He(e,t),v=a!==void 0||p===qt?tr(a||null,l,p):p,w=await St(t,h),C=((n=s.autoPlacement)==null?void 0:n.index)||0,I=v[C];if(I==null)return{};const x=xn(I,i,await(f.isRTL==null?void 0:f.isRTL(u.floating)));if(c!==I)return{reset:{placement:v[0]}};const b=[w[Ee(I)],w[x[0]],w[x[1]]],P=[...((r=s.autoPlacement)==null?void 0:r.overflows)||[],{placement:I,overflows:b}],F=v[C+1];if(F)return{data:{index:C+1,overflows:P},reset:{placement:F}};const B=P.map(M=>{const k=be(M.placement);return[M.placement,k&&g?M.overflows.slice(0,2).reduce((y,T)=>y+T,0):M.overflows[0],M.overflows]}).sort((M,k)=>M[1]-k[1]),S=((o=B.filter(M=>M[2].slice(0,be(M[0])?2:3).every(k=>k<=0))[0])==null?void 0:o[0])||B[0][0];return S!==c?{data:{index:C+1,overflows:P},reset:{placement:S}}:{}}}},rr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:f,elements:u}=t,{mainAxis:g=!0,crossAxis:a=!0,fallbackPlacements:p,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:v=!0,...w}=He(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const C=Ee(o),I=Ee(c)===c,x=await(f.isRTL==null?void 0:f.isRTL(u.floating)),b=p||(I||!v?[ut(c)]:Un(c));!p&&h!=="none"&&b.push(...Jn(c,v,h,x));const P=[c,...b],F=await St(t,w),B=[];let V=((r=i.flip)==null?void 0:r.overflows)||[];if(g&&B.push(F[C]),a){const y=xn(o,s,x);B.push(F[y[0]],F[y[1]])}if(V=[...V,{placement:o,overflows:B}],!B.every(y=>y<=0)){var S,M;const y=(((S=i.flip)==null?void 0:S.index)||0)+1,T=P[y];if(T)return{data:{index:y,overflows:V},reset:{placement:T}};let d=(M=V.filter(E=>E.overflows[0]<=0).sort((E,O)=>E.overflows[1]-O.overflows[1])[0])==null?void 0:M.placement;if(!d)switch(l){case"bestFit":{var k;const E=(k=V.map(O=>[O.placement,O.overflows.filter(R=>R>0).reduce((R,_)=>R+_,0)]).sort((O,R)=>O[1]-R[1])[0])==null?void 0:k[0];E&&(d=E);break}case"initialPlacement":d=c;break}if(o!==d)return{reset:{placement:d}}}return{}}}};async function or(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Ee(n),c=be(n),f=gt(n)==="y",u=["left","top"].includes(s)?-1:1,g=i&&f?-1:1,a=He(t,e);let{mainAxis:p,crossAxis:l,alignmentAxis:h}=typeof a=="number"?{mainAxis:a,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...a};return c&&typeof h=="number"&&(l=c==="end"?h*-1:h),f?{x:l*g,y:p*u}:{x:p*u,y:l*g}}const ir=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:c}=t,f=await or(t,e);return s===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:i+f.y,data:{...f,placement:s}}}}},sr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:w=>{let{x:C,y:I}=w;return{x:C,y:I}}},...f}=He(e,t),u={x:n,y:r},g=await St(t,f),a=gt(Ee(o)),p=wn(a);let l=u[p],h=u[a];if(i){const w=p==="y"?"top":"left",C=p==="y"?"bottom":"right",I=l+g[w],x=l-g[C];l=Pt(I,l,x)}if(s){const w=a==="y"?"top":"left",C=a==="y"?"bottom":"right",I=h+g[w],x=h-g[C];h=Pt(I,h,x)}const v=c.fn({...t,[p]:l,[a]:h});return{...v,data:{x:v.x-n,y:v.y-r}}}}};function Ae(e){return En(e)?(e.nodeName||"").toLowerCase():"#document"}function ue(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Te(e){var t;return(t=(En(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function En(e){return e instanceof Node||e instanceof ue(e).Node}function U(e){return e instanceof Element||e instanceof ue(e).Element}function te(e){return e instanceof HTMLElement||e instanceof ue(e).HTMLElement}function Mt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ue(e).ShadowRoot}function Ge(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=de(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function cr(e){return["table","td","th"].includes(Ae(e))}function Dt(e){const t=Ft(),n=de(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function lr(e){let t=Ce(e);for(;te(t)&&!ke(t);){if(Dt(t))return t;t=Ce(t)}return null}function Ft(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ke(e){return["html","body","#document"].includes(Ae(e))}function de(e){return ue(e).getComputedStyle(e)}function pt(e){return U(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ce(e){if(Ae(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Mt(e)&&e.host||Te(e);return Mt(t)?t.host:t}function Cn(e){const t=Ce(e);return ke(t)?e.ownerDocument?e.ownerDocument.body:e.body:te(t)&&Ge(t)?t:Cn(t)}function Pe(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Cn(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=ue(o);return i?t.concat(s,s.visualViewport||[],Ge(o)?o:[],s.frameElement&&n?Pe(s.frameElement):[]):t.concat(o,Pe(o,[],n))}function Tn(e){const t=de(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=te(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=ct(n)!==i||ct(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function Nt(e){return U(e)?e:e.contextElement}function We(e){const t=Nt(e);if(!te(t))return Me(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Tn(t);let s=(i?ct(n.width):n.width)/r,c=(i?ct(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const ur=Me(0);function On(e){const t=ue(e);return!Ft()||!t.visualViewport?ur:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ar(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ue(e)?!1:t}function Ne(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=Nt(e);let s=Me(1);t&&(r?U(r)&&(s=We(r)):s=We(e));const c=ar(i,n,r)?On(i):Me(0);let f=(o.left+c.x)/s.x,u=(o.top+c.y)/s.y,g=o.width/s.x,a=o.height/s.y;if(i){const p=ue(i),l=r&&U(r)?ue(r):r;let h=p,v=h.frameElement;for(;v&&r&&l!==h;){const w=We(v),C=v.getBoundingClientRect(),I=de(v),x=C.left+(v.clientLeft+parseFloat(I.paddingLeft))*w.x,b=C.top+(v.clientTop+parseFloat(I.paddingTop))*w.y;f*=w.x,u*=w.y,g*=w.x,a*=w.y,f+=x,u+=b,h=ue(v),v=h.frameElement}}return at({width:g,height:a,x:f,y:u})}const fr=[":popover-open",":modal"];function _t(e){return fr.some(t=>{try{return e.matches(t)}catch{return!1}})}function dr(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=Te(r),c=t?_t(t.floating):!1;if(r===s||c&&i)return n;let f={scrollLeft:0,scrollTop:0},u=Me(1);const g=Me(0),a=te(r);if((a||!a&&!i)&&((Ae(r)!=="body"||Ge(s))&&(f=pt(r)),te(r))){const p=Ne(r);u=We(r),g.x=p.x+r.clientLeft,g.y=p.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-f.scrollLeft*u.x+g.x,y:n.y*u.y-f.scrollTop*u.y+g.y}}function mr(e){return Array.from(e.getClientRects())}function In(e){return Ne(Te(e)).left+pt(e).scrollLeft}function gr(e){const t=Te(e),n=pt(e),r=e.ownerDocument.body,o=De(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=De(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+In(e);const c=-n.scrollTop;return de(r).direction==="rtl"&&(s+=De(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function pr(e,t){const n=ue(e),r=Te(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,f=0;if(o){i=o.width,s=o.height;const u=Ft();(!u||u&&t==="fixed")&&(c=o.offsetLeft,f=o.offsetTop)}return{width:i,height:s,x:c,y:f}}function hr(e,t){const n=Ne(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=te(e)?We(e):Me(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,f=o*i.x,u=r*i.y;return{width:s,height:c,x:f,y:u}}function Xt(e,t,n){let r;if(t==="viewport")r=pr(e,n);else if(t==="document")r=gr(Te(e));else if(U(t))r=hr(t,n);else{const o=On(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return at(r)}function Pn(e,t){const n=Ce(e);return n===t||!U(n)||ke(n)?!1:de(n).position==="fixed"||Pn(n,t)}function vr(e,t){const n=t.get(e);if(n)return n;let r=Pe(e,[],!1).filter(c=>U(c)&&Ae(c)!=="body"),o=null;const i=de(e).position==="fixed";let s=i?Ce(e):e;for(;U(s)&&!ke(s);){const c=de(s),f=Dt(s);!f&&c.position==="fixed"&&(o=null),(i?!f&&!o:!f&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ge(s)&&!f&&Pn(e,s))?r=r.filter(g=>g!==s):o=c,s=Ce(s)}return t.set(e,r),r}function br(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?_t(t)?[]:vr(t,this._c):[].concat(n),r],c=s[0],f=s.reduce((u,g)=>{const a=Xt(t,g,o);return u.top=De(a.top,u.top),u.right=Ve(a.right,u.right),u.bottom=Ve(a.bottom,u.bottom),u.left=De(a.left,u.left),u},Xt(t,c,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function yr(e){const{width:t,height:n}=Tn(e);return{width:t,height:n}}function wr(e,t,n){const r=te(t),o=Te(t),i=n==="fixed",s=Ne(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const f=Me(0);if(r||!r&&!i)if((Ae(t)!=="body"||Ge(o))&&(c=pt(t)),r){const a=Ne(t,!0,i,t);f.x=a.x+t.clientLeft,f.y=a.y+t.clientTop}else o&&(f.x=In(o));const u=s.left+c.scrollLeft-f.x,g=s.top+c.scrollTop-f.y;return{x:u,y:g,width:s.width,height:s.height}}function yt(e){return de(e).position==="static"}function Ut(e,t){return!te(e)||de(e).position==="fixed"?null:t?t(e):e.offsetParent}function Mn(e,t){const n=ue(e);if(_t(e))return n;if(!te(e)){let o=Ce(e);for(;o&&!ke(o);){if(U(o)&&!yt(o))return o;o=Ce(o)}return n}let r=Ut(e,t);for(;r&&cr(r)&&yt(r);)r=Ut(r,t);return r&&ke(r)&&yt(r)&&!Dt(r)?n:r||lr(e)||n}const xr=async function(e){const t=this.getOffsetParent||Mn,n=this.getDimensions,r=await n(e.floating);return{reference:wr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Rr(e){return de(e).direction==="rtl"}const Er={convertOffsetParentRelativeRectToViewportRelativeRect:dr,getDocumentElement:Te,getClippingRect:br,getOffsetParent:Mn,getElementRects:xr,getClientRects:mr,getDimensions:yr,getScale:We,isElement:U,isRTL:Rr};function Cr(e,t){let n=null,r;const o=Te(e);function i(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function s(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),i();const{left:u,top:g,width:a,height:p}=e.getBoundingClientRect();if(c||t(),!a||!p)return;const l=Ke(g),h=Ke(o.clientWidth-(u+a)),v=Ke(o.clientHeight-(g+p)),w=Ke(u),I={rootMargin:-l+"px "+-h+"px "+-v+"px "+-w+"px",threshold:De(0,Ve(1,f))||1};let x=!0;function b(P){const F=P[0].intersectionRatio;if(F!==f){if(!x)return s();F?s(!1,F):r=setTimeout(()=>{s(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(b,{...I,root:o.ownerDocument})}catch{n=new IntersectionObserver(b,I)}n.observe(e)}return s(!0),i}function ho(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,u=Nt(e),g=o||i?[...u?Pe(u):[],...Pe(t)]:[];g.forEach(C=>{o&&C.addEventListener("scroll",n,{passive:!0}),i&&C.addEventListener("resize",n)});const a=u&&c?Cr(u,n):null;let p=-1,l=null;s&&(l=new ResizeObserver(C=>{let[I]=C;I&&I.target===u&&l&&(l.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var x;(x=l)==null||x.observe(t)})),n()}),u&&!f&&l.observe(u),l.observe(t));let h,v=f?Ne(e):null;f&&w();function w(){const C=Ne(e);v&&(C.x!==v.x||C.y!==v.y||C.width!==v.width||C.height!==v.height)&&n(),v=C,h=requestAnimationFrame(w)}return n(),()=>{var C;g.forEach(I=>{o&&I.removeEventListener("scroll",n),i&&I.removeEventListener("resize",n)}),a==null||a(),(C=l)==null||C.disconnect(),l=null,f&&cancelAnimationFrame(h)}}const Tr=ir,Or=nr,Ir=sr,Pr=rr,Gt=er,Mr=(e,t,n)=>{const r=new Map,o={platform:Er,...n},i={...o.platform,_c:r};return Zn(e,t,{...o,platform:i})};function he(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function ee(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Mt(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Bt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function kn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function An(e){return e.mozInputSource===0&&e.isTrusted?!0:kt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Kt(e){return kr()?!1:!kt()&&e.width===0&&e.height===0||kt()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Wt(){return/apple/i.test(navigator.vendor)}function kt(){const e=/android/i;return e.test(Bt())||e.test(kn())}function Ln(){return Bt().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function kr(){return kn().includes("jsdom/")}function Ye(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Ar(e){return"nativeEvent"in e}function Lr(e){return e.matches("html,body")}function oe(e){return(e==null?void 0:e.ownerDocument)||document}function wt(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function Re(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Sr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Vt(e){return te(e)&&e.matches(Sr)}function re(e){e.preventDefault(),e.stopPropagation()}function Sn(e){return e?e.getAttribute("role")==="combobox"&&Vt(e):!1}var it=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ft(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ft(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!ft(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Dn(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Jt(e,t){const n=Dn(e);return Math.round(t*n)/n}function Qt(e){const t=m.useRef(e);return it(()=>{t.current=e}),t}function Dr(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:f,open:u}=e,[g,a]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,l]=m.useState(r);ft(p,r)||l(r);const[h,v]=m.useState(null),[w,C]=m.useState(null),I=m.useCallback(R=>{R!==F.current&&(F.current=R,v(R))},[]),x=m.useCallback(R=>{R!==B.current&&(B.current=R,C(R))},[]),b=i||h,P=s||w,F=m.useRef(null),B=m.useRef(null),V=m.useRef(g),S=f!=null,M=Qt(f),k=Qt(o),y=m.useCallback(()=>{if(!F.current||!B.current)return;const R={placement:t,strategy:n,middleware:p};k.current&&(R.platform=k.current),Mr(F.current,B.current,R).then(_=>{const j={..._,isPositioned:!0};T.current&&!ft(V.current,j)&&(V.current=j,yn.flushSync(()=>{a(j)}))})},[p,t,n,k]);it(()=>{u===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,a(R=>({...R,isPositioned:!1})))},[u]);const T=m.useRef(!1);it(()=>(T.current=!0,()=>{T.current=!1}),[]),it(()=>{if(b&&(F.current=b),P&&(B.current=P),b&&P){if(M.current)return M.current(b,P,y);y()}},[b,P,y,M,S]);const d=m.useMemo(()=>({reference:F,floating:B,setReference:I,setFloating:x}),[I,x]),E=m.useMemo(()=>({reference:b,floating:P}),[b,P]),O=m.useMemo(()=>{const R={position:n,left:0,top:0};if(!E.floating)return R;const _=Jt(E.floating,g.x),j=Jt(E.floating,g.y);return c?{...R,transform:"translate("+_+"px, "+j+"px)",...Dn(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:j}},[n,c,E.floating,g.x,g.y]);return m.useMemo(()=>({...g,update:y,refs:d,elements:E,floatingStyles:O}),[g,y,d,E,O])}const Fr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Gt({element:r.current,padding:o}).fn(n):{}:r?Gt({element:r,padding:o}).fn(n):{}}}},vo=(e,t)=>({...Tr(e),options:[e,t]}),bo=(e,t)=>({...Ir(e),options:[e,t]}),yo=(e,t)=>({...Pr(e),options:[e,t]}),wo=(e,t)=>({...Or(e),options:[e,t]}),xo=(e,t)=>({...Fr(e),options:[e,t]});function Ro(e){return m.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}const Fn={...jn},Nr=Fn.useInsertionEffect,_r=Nr||(e=>e());function le(e){const t=m.useRef(()=>{});return _r(()=>{t.current=e}),m.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}const $t="ArrowUp",Je="ArrowDown",$e="ArrowLeft",je="ArrowRight";function nt(e,t,n){return Math.floor(e/t)!==n}function ze(e,t){return t<0||t>=e.current.length}function xt(e,t){return se(e,{disabledIndices:t})}function Zt(e,t){return se(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function se(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:o,amount:i=1}=t===void 0?{}:t;const s=e.current;let c=n;do c+=r?-i:i;while(c>=0&&c<=s.length-1&&st(s,c,o));return c}function Br(e,t){let{event:n,orientation:r,loop:o,cols:i,disabledIndices:s,minIndex:c,maxIndex:f,prevIndex:u,stopEvent:g=!1}=t,a=u;if(n.key===$t){if(g&&re(n),u===-1)a=f;else if(a=se(e,{startingIndex:a,amount:i,decrement:!0,disabledIndices:s}),o&&(u-i<c||a<0)){const p=u%i,l=f%i,h=f-(l-p);l===p?a=f:a=l>p?h:h-i}ze(e,a)&&(a=u)}if(n.key===Je&&(g&&re(n),u===-1?a=c:(a=se(e,{startingIndex:u,amount:i,disabledIndices:s}),o&&u+i>f&&(a=se(e,{startingIndex:u%i-i,amount:i,disabledIndices:s}))),ze(e,a)&&(a=u)),r==="both"){const p=Ke(u/i);n.key===je&&(g&&re(n),u%i!==i-1?(a=se(e,{startingIndex:u,disabledIndices:s}),o&&nt(a,i,p)&&(a=se(e,{startingIndex:u-u%i-1,disabledIndices:s}))):o&&(a=se(e,{startingIndex:u-u%i-1,disabledIndices:s})),nt(a,i,p)&&(a=u)),n.key===$e&&(g&&re(n),u%i!==0?(a=se(e,{startingIndex:u,decrement:!0,disabledIndices:s}),o&&nt(a,i,p)&&(a=se(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s}))):o&&(a=se(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:s})),nt(a,i,p)&&(a=u));const l=Ke(f/i)===p;ze(e,a)&&(o&&l?a=n.key===$e?f:se(e,{startingIndex:u-u%i-1,disabledIndices:s}):a=u)}return a}function Kr(e,t,n){const r=[];let o=0;return e.forEach((i,s)=>{let{width:c,height:f}=i,u=!1;for(n&&(o=0);!u;){const g=[];for(let a=0;a<c;a++)for(let p=0;p<f;p++)g.push(o+a+p*t);o%t+c<=t&&g.every(a=>r[a]==null)?(g.forEach(a=>{r[a]=s}),u=!0):o++}}),[...r]}function Wr(e,t,n,r,o){if(e===-1)return-1;const i=n.indexOf(e),s=t[e];switch(o){case"tl":return i;case"tr":return s?i+s.width-1:i;case"bl":return s?i+(s.height-1)*r:i;case"br":return n.lastIndexOf(e)}}function Vr(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function st(e,t,n){if(n)return n.includes(t);const r=e[t];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}let en=0;function xe(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(en);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():en=requestAnimationFrame(i)}var Y=typeof document<"u"?m.useLayoutEffect:m.useEffect;function $r(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}function Hr(e,t){if(e.size!==t.size)return!1;for(const[n,r]of e.entries())if(r!==t.get(n))return!1;return!0}const Nn=m.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function Eo(e){const{children:t,elementsRef:n,labelsRef:r}=e,[o,i]=m.useState(()=>new Map),s=m.useCallback(f=>{i(u=>new Map(u).set(f,null))},[]),c=m.useCallback(f=>{i(u=>{const g=new Map(u);return g.delete(f),g})},[]);return Y(()=>{const f=new Map(o);Array.from(f.keys()).sort($r).forEach((g,a)=>{f.set(g,a)}),Hr(o,f)||i(f)},[o]),m.createElement(Nn.Provider,{value:m.useMemo(()=>({register:s,unregister:c,map:o,elementsRef:n,labelsRef:r}),[s,c,o,n,r])},t)}function Co(e){e===void 0&&(e={});const{label:t}=e,{register:n,unregister:r,map:o,elementsRef:i,labelsRef:s}=m.useContext(Nn),[c,f]=m.useState(null),u=m.useRef(null),g=m.useCallback(a=>{if(u.current=a,c!==null&&(i.current[c]=a,s)){var p;const l=t!==void 0;s.current[c]=l?t:(p=a==null?void 0:a.textContent)!=null?p:null}},[c,i,s,t]);return Y(()=>{const a=u.current;if(a)return n(a),()=>{r(a)}},[n,r]),Y(()=>{const a=u.current?o.get(u.current):null;a!=null&&f(a)},[o]),m.useMemo(()=>({ref:g,index:c??-1}),[c,g])}function Xe(){return Xe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}let tn=!1,jr=0;const nn=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+jr++;function zr(){const[e,t]=m.useState(()=>tn?nn():void 0);return Y(()=>{e==null&&t(nn())},[]),m.useEffect(()=>{tn=!0},[]),e}const qr=Fn.useId,ht=qr||zr;function Yr(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Xr=m.createContext(null),Ur=m.createContext(null),vt=()=>{var e;return((e=m.useContext(Xr))==null?void 0:e.id)||null},Qe=()=>m.useContext(Ur);function _e(e){return"data-floating-ui-"+e}function fe(e){const t=m.useRef(e);return Y(()=>{t.current=e}),t}const rn=_e("safe-polygon");function Rt(e,t,n){return n&&!Ye(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function To(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c}}=e,{enabled:f=!0,delay:u=0,handleClose:g=null,mouseOnly:a=!1,restMs:p=0,move:l=!0}=t,h=Qe(),v=vt(),w=fe(g),C=fe(u),I=m.useRef(),x=m.useRef(-1),b=m.useRef(),P=m.useRef(-1),F=m.useRef(!0),B=m.useRef(!1),V=m.useRef(()=>{}),S=m.useCallback(()=>{var T;const d=(T=o.current.openEvent)==null?void 0:T.type;return(d==null?void 0:d.includes("mouse"))&&d!=="mousedown"},[o]);m.useEffect(()=>{if(!f)return;function T(d){let{open:E}=d;E||(clearTimeout(x.current),clearTimeout(P.current),F.current=!0)}return i.on("openchange",T),()=>{i.off("openchange",T)}},[f,i]),m.useEffect(()=>{if(!f||!w.current||!n)return;function T(E){S()&&r(!1,E,"hover")}const d=oe(c).documentElement;return d.addEventListener("mouseleave",T),()=>{d.removeEventListener("mouseleave",T)}},[c,n,r,f,w,S]);const M=m.useCallback(function(T,d,E){d===void 0&&(d=!0),E===void 0&&(E="hover");const O=Rt(C.current,"close",I.current);O&&!b.current?(clearTimeout(x.current),x.current=window.setTimeout(()=>r(!1,T,E),O)):d&&(clearTimeout(x.current),r(!1,T,E))},[C,r]),k=le(()=>{V.current(),b.current=void 0}),y=le(()=>{if(B.current){const T=oe(c).body;T.style.pointerEvents="",T.removeAttribute(rn),B.current=!1}});return m.useEffect(()=>{if(!f)return;function T(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function d(R){if(clearTimeout(x.current),F.current=!1,a&&!Ye(I.current)||p>0&&!Rt(C.current,"open"))return;const _=Rt(C.current,"open",I.current);_?x.current=window.setTimeout(()=>{r(!0,R,"hover")},_):r(!0,R,"hover")}function E(R){if(T())return;V.current();const _=oe(c);if(clearTimeout(P.current),w.current&&o.current.floatingContext){n||clearTimeout(x.current),b.current=w.current({...o.current.floatingContext,tree:h,x:R.clientX,y:R.clientY,onClose(){y(),k(),M(R,!0,"safe-polygon")}});const A=b.current;_.addEventListener("mousemove",A),V.current=()=>{_.removeEventListener("mousemove",A)};return}(I.current==="touch"?!ee(c,R.relatedTarget):!0)&&M(R)}function O(R){T()||o.current.floatingContext&&(w.current==null||w.current({...o.current.floatingContext,tree:h,x:R.clientX,y:R.clientY,onClose(){y(),k(),M(R)}})(R))}if(U(s)){const R=s;return n&&R.addEventListener("mouseleave",O),c==null||c.addEventListener("mouseleave",O),l&&R.addEventListener("mousemove",d,{once:!0}),R.addEventListener("mouseenter",d),R.addEventListener("mouseleave",E),()=>{n&&R.removeEventListener("mouseleave",O),c==null||c.removeEventListener("mouseleave",O),l&&R.removeEventListener("mousemove",d),R.removeEventListener("mouseenter",d),R.removeEventListener("mouseleave",E)}}},[s,c,f,e,a,p,l,M,k,y,r,n,h,C,w,o]),Y(()=>{var T;if(f&&n&&(T=w.current)!=null&&T.__options.blockPointerEvents&&S()){const E=oe(c).body;if(E.setAttribute(rn,""),E.style.pointerEvents="none",B.current=!0,U(s)&&c){var d;const O=s,R=h==null||(d=h.nodesRef.current.find(_=>_.id===v))==null||(d=d.context)==null?void 0:d.elements.floating;return R&&(R.style.pointerEvents=""),O.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{O.style.pointerEvents="",c.style.pointerEvents=""}}}},[f,n,v,c,s,h,w,S]),Y(()=>{n||(I.current=void 0,k(),y())},[n,k,y]),m.useEffect(()=>()=>{k(),clearTimeout(x.current),clearTimeout(P.current),y()},[f,s,k,y]),m.useMemo(()=>{if(!f)return{};function T(d){I.current=d.pointerType}return{reference:{onPointerDown:T,onPointerEnter:T,onMouseMove(d){const{nativeEvent:E}=d;function O(){F.current||r(!0,E,"hover")}a&&!Ye(I.current)||n||p===0||(clearTimeout(P.current),I.current==="touch"?O():P.current=window.setTimeout(O,p))}},floating:{onMouseEnter(){clearTimeout(x.current)},onMouseLeave(d){M(d.nativeEvent,!1)}}}},[f,a,n,p,r,M])}function Gr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function Fe(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function Jr(e,t){let n,r=-1;function o(i,s){s>r&&(n=i,r=s),Fe(e,i).forEach(f=>{o(f.id,s+1)})}return o(t,0),e.find(i=>i.id===n)}let Be=new WeakMap,rt=new WeakSet,ot={},Et=0;const Qr=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,_n=e=>e&&(e.host||_n(e.parentNode)),Zr=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=_n(n);return e.contains(r)?r:null}).filter(n=>n!=null);function eo(e,t,n,r){const o="data-floating-ui-inert",i=r?"inert":n?"aria-hidden":null,s=Zr(t,e),c=new Set,f=new Set(s),u=[];ot[o]||(ot[o]=new WeakMap);const g=ot[o];s.forEach(a),p(t),c.clear();function a(l){!l||c.has(l)||(c.add(l),l.parentNode&&a(l.parentNode))}function p(l){!l||f.has(l)||[].forEach.call(l.children,h=>{if(Ae(h)!=="script")if(c.has(h))p(h);else{const v=i?h.getAttribute(i):null,w=v!==null&&v!=="false",C=(Be.get(h)||0)+1,I=(g.get(h)||0)+1;Be.set(h,C),g.set(h,I),u.push(h),C===1&&w&&rt.add(h),I===1&&h.setAttribute(o,""),!w&&i&&h.setAttribute(i,"true")}})}return Et++,()=>{u.forEach(l=>{const h=(Be.get(l)||0)-1,v=(g.get(l)||0)-1;Be.set(l,h),g.set(l,v),h||(!rt.has(l)&&i&&l.removeAttribute(i),rt.delete(l)),v||l.removeAttribute(o)}),Et--,Et||(Be=new WeakMap,Be=new WeakMap,rt=new WeakSet,ot={})}}function on(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=oe(e[0]).body;return eo(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const Ue=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Bn(e,t){const n=mt(e,Ue());t==="prev"&&n.reverse();const r=n.indexOf(he(oe(e)));return n.slice(r+1)[0]}function Kn(){return Bn(document.body,"next")}function Wn(){return Bn(document.body,"prev")}function qe(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!ee(n,r)}function to(e){mt(e,Ue()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function no(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Ht={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let ro;function sn(e){e.key==="Tab"&&(e.target,clearTimeout(ro))}const dt=m.forwardRef(function(t,n){const[r,o]=m.useState();Y(()=>(Wt()&&o("button"),document.addEventListener("keydown",sn),()=>{document.removeEventListener("keydown",sn)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[_e("focus-guard")]:"",style:Ht};return m.createElement("span",Xe({},t,i))}),Vn=m.createContext(null),cn=_e("portal");function oo(e){e===void 0&&(e={});const{id:t,root:n}=e,r=ht(),o=$n(),[i,s]=m.useState(null),c=m.useRef(null);return Y(()=>()=>{i==null||i.remove(),queueMicrotask(()=>{c.current=null})},[i]),Y(()=>{if(!r||c.current)return;const f=t?document.getElementById(t):null;if(!f)return;const u=document.createElement("div");u.id=r,u.setAttribute(cn,""),f.appendChild(u),c.current=u,s(u)},[t,r]),Y(()=>{if(!r||c.current)return;let f=n||(o==null?void 0:o.portalNode);f&&!U(f)&&(f=f.current),f=f||document.body;let u=null;t&&(u=document.createElement("div"),u.id=t,f.appendChild(u));const g=document.createElement("div");g.id=r,g.setAttribute(cn,""),f=u||f,f.appendChild(g),c.current=g,s(g)},[t,n,r,o]),i}function Oo(e){const{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e,i=oo({id:n,root:r}),[s,c]=m.useState(null),f=m.useRef(null),u=m.useRef(null),g=m.useRef(null),a=m.useRef(null),p=!!s&&!s.modal&&s.open&&o&&!!(r||i);return m.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function l(h){i&&qe(h)&&(h.type==="focusin"?no:to)(i)}return i.addEventListener("focusin",l,!0),i.addEventListener("focusout",l,!0),()=>{i.removeEventListener("focusin",l,!0),i.removeEventListener("focusout",l,!0)}},[i,o,s==null?void 0:s.modal]),m.createElement(Vn.Provider,{value:m.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:f,afterOutsideRef:u,beforeInsideRef:g,afterInsideRef:a,portalNode:i,setFocusManagerState:c}),[o,i])},p&&i&&m.createElement(dt,{"data-type":"outside",ref:f,onFocus:l=>{if(qe(l,i)){var h;(h=g.current)==null||h.focus()}else{const v=Wn()||(s==null?void 0:s.refs.domReference.current);v==null||v.focus()}}}),p&&i&&m.createElement("span",{"aria-owns":i.id,style:Ht}),i&&yn.createPortal(t,i),p&&i&&m.createElement(dt,{"data-type":"outside",ref:u,onFocus:l=>{if(qe(l,i)){var h;(h=a.current)==null||h.focus()}else{const v=Kn()||(s==null?void 0:s.refs.domReference.current);v==null||v.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,l.nativeEvent))}}}))}const $n=()=>m.useContext(Vn),ln=20;let Se=[];function Ct(e){Se=Se.filter(n=>n.isConnected);let t=e;if(!(!t||Ae(t)==="body")){if(!zn(t,Ue())){const n=mt(t,Ue())[0];n&&(t=n)}Se.push(t),Se.length>ln&&(Se=Se.slice(-ln))}}function un(){return Se.slice().reverse().find(e=>e.isConnected)}const io=m.forwardRef(function(t,n){return m.createElement("button",Xe({},t,{type:"button",ref:n,tabIndex:-1,style:Ht}))});function Io(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,restoreFocus:f=!1,modal:u=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:a=!0}=e,{open:p,refs:l,nodeId:h,onOpenChange:v,events:w,dataRef:C,floatingId:I,elements:{domReference:x,floating:b}}=t,P=typeof s=="number"&&s<0,F=Sn(x)&&P,B=Qr()?i:!0,V=fe(o),S=fe(s),M=fe(c),k=Qe(),y=$n(),T=m.useRef(null),d=m.useRef(null),E=m.useRef(!1),O=m.useRef(!1),R=m.useRef(-1),_=y!=null,j=b==null?void 0:b.firstElementChild,A=(j==null?void 0:j.id)===I?j:b,X=le(function(L){return L===void 0&&(L=A),L?mt(L,Ue()):[]}),ne=le(L=>{const W=X(L);return V.current.map(N=>x&&N==="reference"?x:A&&N==="floating"?A:W).filter(Boolean).flat()});m.useEffect(()=>{if(r||!u)return;function L(N){if(N.key==="Tab"){ee(A,he(oe(A)))&&X().length===0&&!F&&re(N);const D=ne(),$=Re(N);V.current[0]==="reference"&&$===x&&(re(N),N.shiftKey?xe(D[D.length-1]):xe(D[1])),V.current[1]==="floating"&&$===A&&N.shiftKey&&(re(N),xe(D[0]))}}const W=oe(A);return W.addEventListener("keydown",L),()=>{W.removeEventListener("keydown",L)}},[r,x,A,u,V,F,X,ne]),m.useEffect(()=>{if(r||!b)return;function L(W){const N=Re(W),$=X().indexOf(N);$!==-1&&(R.current=$)}return b.addEventListener("focusin",L),()=>{b.removeEventListener("focusin",L)}},[r,b,X]),m.useEffect(()=>{if(r||!a)return;function L(){O.current=!0,setTimeout(()=>{O.current=!1})}function W(N){const D=N.relatedTarget;queueMicrotask(()=>{const $=!(ee(x,D)||ee(b,D)||ee(D,b)||ee(y==null?void 0:y.portalNode,D)||D!=null&&D.hasAttribute(_e("focus-guard"))||k&&(Fe(k.nodesRef.current,h).find(z=>{var q,J;return ee((q=z.context)==null?void 0:q.elements.floating,D)||ee((J=z.context)==null?void 0:J.elements.domReference,D)})||Gr(k.nodesRef.current,h).find(z=>{var q,J;return((q=z.context)==null?void 0:q.elements.floating)===D||((J=z.context)==null?void 0:J.elements.domReference)===D})));if(f&&$&&he(oe(A))===oe(A).body){te(A)&&(A==null||A.focus());const z=R.current,q=X(),J=q[z]||q[q.length-1]||A;te(J)&&J.focus()}!u&&D&&$&&!O.current&&D!==un()&&(E.current=!0,v(!1,N))})}if(b&&te(x))return x.addEventListener("focusout",W),x.addEventListener("pointerdown",L),b.addEventListener("focusout",W),()=>{x.removeEventListener("focusout",W),x.removeEventListener("pointerdown",L),b.removeEventListener("focusout",W)}},[r,x,b,A,u,h,k,y,v,a,f,X]),m.useEffect(()=>{var L;if(r)return;const W=Array.from((y==null||(L=y.portalNode)==null?void 0:L.querySelectorAll("["+_e("portal")+"]"))||[]);if(b){const N=[b,...W,T.current,d.current,V.current.includes("reference")||F?x:null].filter($=>$!=null),D=u||F?on(N,B,!B):on(N);return()=>{D()}}},[r,x,b,u,V,y,F,B]),Y(()=>{if(r||!te(A))return;const L=oe(A),W=he(L);queueMicrotask(()=>{const N=ne(A),D=S.current,$=(typeof D=="number"?N[D]:D.current)||A,z=ee(A,W);!P&&!z&&p&&xe($,{preventScroll:$===A})})},[r,p,A,P,ne,S]),Y(()=>{if(r||!A)return;let L=!1;const W=oe(A),N=he(W);let $=C.current.openEvent;Ct(N);function z(q){let{open:J,reason:H,event:G,nested:Q}=q;J&&($=G),H==="escape-key"&&l.domReference.current&&Ct(l.domReference.current),H==="hover"&&G.type==="mouseleave"&&(E.current=!0),H==="outside-press"&&(Q?(E.current=!1,L=!0):E.current=!(An(G)||Kt(G)))}return w.on("openchange",z),()=>{w.off("openchange",z);const q=he(W),J=ee(b,q)||k&&Fe(k.nodesRef.current,h).some(Q=>{var Z;return ee((Z=Q.context)==null?void 0:Z.elements.floating,q)});(J||$&&["click","mousedown"].includes($.type))&&l.domReference.current&&Ct(l.domReference.current);const G=un();M.current&&!E.current&&te(G)&&(!(G!==q&&q!==W.body)||J)&&xe(G,{cancelPrevious:!1,preventScroll:L})}},[r,b,A,M,C,l,w,k,h]),Y(()=>{if(!r&&y)return y.setFocusManagerState({modal:u,closeOnFocusOut:a,open:p,onOpenChange:v,refs:l}),()=>{y.setFocusManagerState(null)}},[r,y,u,p,v,l,a]),Y(()=>{if(r||!A||typeof MutationObserver!="function"||P)return;const L=()=>{const N=A.getAttribute("tabindex"),D=X(),$=he(oe(b)),z=D.indexOf($);z!==-1&&(R.current=z),V.current.includes("floating")||$!==l.domReference.current&&D.length===0?N!=="0"&&A.setAttribute("tabindex","0"):N!=="-1"&&A.setAttribute("tabindex","-1")};L();const W=new MutationObserver(L);return W.observe(A,{childList:!0,subtree:!0,attributes:!0}),()=>{W.disconnect()}},[r,b,A,l,V,X,P]);function me(L){return r||!g||!u?null:m.createElement(io,{ref:L==="start"?T:d,onClick:W=>v(!1,W.nativeEvent)},typeof g=="string"?g:"Dismiss")}const ce=!r&&B&&(_||u);return m.createElement(m.Fragment,null,ce&&m.createElement(dt,{"data-type":"inside",ref:y==null?void 0:y.beforeInsideRef,onFocus:L=>{if(u){const N=ne();xe(o[0]==="reference"?N[0]:N[N.length-1])}else if(y!=null&&y.preserveTabOrder&&y.portalNode)if(E.current=!1,qe(L,y.portalNode)){const N=Kn()||x;N==null||N.focus()}else{var W;(W=y.beforeOutsideRef.current)==null||W.focus()}}}),!F&&me("start"),n,me("end"),ce&&m.createElement(dt,{"data-type":"inside",ref:y==null?void 0:y.afterInsideRef,onFocus:L=>{if(u)xe(ne()[0]);else if(y!=null&&y.preserveTabOrder&&y.portalNode)if(a&&(E.current=!0),qe(L,y.portalNode)){const N=Wn()||x;N==null||N.focus()}else{var W;(W=y.afterOutsideRef.current)==null||W.focus()}}}))}const Tt=new Set,Po=m.forwardRef(function(t,n){const{lockScroll:r=!1,...o}=t,i=ht();return Y(()=>{if(!r)return;Tt.add(i);const s=/iP(hone|ad|od)|iOS/.test(Bt()),c=document.body.style,u=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",g=window.innerWidth-document.documentElement.clientWidth,a=c.left?parseFloat(c.left):window.pageXOffset,p=c.top?parseFloat(c.top):window.pageYOffset;if(c.overflow="hidden",g&&(c[u]=g+"px"),s){var l,h;const v=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,w=((h=window.visualViewport)==null?void 0:h.offsetTop)||0;Object.assign(c,{position:"fixed",top:-(p-Math.floor(w))+"px",left:-(a-Math.floor(v))+"px",right:"0"})}return()=>{Tt.delete(i),Tt.size===0&&(Object.assign(c,{overflow:"",[u]:""}),s&&(Object.assign(c,{position:"",top:"",left:"",right:""}),window.scrollTo(a,p)))}},[i,r]),m.createElement("div",Xe({ref:n},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function an(e){return te(e.target)&&e.target.tagName==="BUTTON"}function fn(e){return Vt(e)}function Mo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:f=!0,ignoreMouse:u=!1,keyboardHandlers:g=!0}=t,a=m.useRef(),p=m.useRef(!1);return m.useMemo(()=>s?{reference:{onPointerDown(l){a.current=l.pointerType},onMouseDown(l){l.button===0&&(Ye(a.current,!0)&&u||c!=="click"&&(n&&f&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent,"click"):(l.preventDefault(),r(!0,l.nativeEvent,"click"))))},onClick(l){if(c==="mousedown"&&a.current){a.current=void 0;return}Ye(a.current,!0)&&u||(n&&f&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent,"click"):r(!0,l.nativeEvent,"click"))},onKeyDown(l){a.current=void 0,!(l.defaultPrevented||!g||an(l))&&(l.key===" "&&!fn(i)&&(l.preventDefault(),p.current=!0),l.key==="Enter"&&r(!(n&&f),l.nativeEvent,"click"))},onKeyUp(l){l.defaultPrevented||!g||an(l)||fn(i)||l.key===" "&&p.current&&(p.current=!1,r(!(n&&f),l.nativeEvent,"click"))}}}:{},[s,o,c,u,g,i,f,n,r])}const so={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},co={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},dn=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function ko(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:{reference:o,domReference:i,floating:s},dataRef:c}=e,{enabled:f=!0,escapeKey:u=!0,outsidePress:g=!0,outsidePressEvent:a="pointerdown",referencePress:p=!1,referencePressEvent:l="pointerdown",ancestorScroll:h=!1,bubbles:v,capture:w}=t,C=Qe(),I=le(typeof g=="function"?g:()=>!1),x=typeof g=="function"?I:g,b=m.useRef(!1),P=m.useRef(!1),{escapeKey:F,outsidePress:B}=dn(v),{escapeKey:V,outsidePress:S}=dn(w),M=le(d=>{var E;if(!n||!f||!u||d.key!=="Escape")return;const O=(E=c.current.floatingContext)==null?void 0:E.nodeId,R=C?Fe(C.nodesRef.current,O):[];if(!F&&(d.stopPropagation(),R.length>0)){let _=!0;if(R.forEach(j=>{var A;if((A=j.context)!=null&&A.open&&!j.context.dataRef.current.__escapeKeyBubbles){_=!1;return}}),!_)return}r(!1,Ar(d)?d.nativeEvent:d,"escape-key")}),k=le(d=>{var E;const O=()=>{var R;M(d),(R=Re(d))==null||R.removeEventListener("keydown",O)};(E=Re(d))==null||E.addEventListener("keydown",O)}),y=le(d=>{var E;const O=b.current;b.current=!1;const R=P.current;if(P.current=!1,a==="click"&&R||O||typeof x=="function"&&!x(d))return;const _=Re(d),j="["+_e("inert")+"]",A=oe(s).querySelectorAll(j);let X=U(_)?_:null;for(;X&&!ke(X);){const L=Ce(X);if(ke(L)||!U(L))break;X=L}if(A.length&&U(_)&&!Lr(_)&&!ee(_,s)&&Array.from(A).every(L=>!ee(X,L)))return;if(te(_)&&s){const L=_.clientWidth>0&&_.scrollWidth>_.clientWidth,W=_.clientHeight>0&&_.scrollHeight>_.clientHeight;let N=W&&d.offsetX>_.clientWidth;if(W&&de(_).direction==="rtl"&&(N=d.offsetX<=_.offsetWidth-_.clientWidth),N||L&&d.offsetY>_.clientHeight)return}const ne=(E=c.current.floatingContext)==null?void 0:E.nodeId,me=C&&Fe(C.nodesRef.current,ne).some(L=>{var W;return wt(d,(W=L.context)==null?void 0:W.elements.floating)});if(wt(d,s)||wt(d,i)||me)return;const ce=C?Fe(C.nodesRef.current,ne):[];if(ce.length>0){let L=!0;if(ce.forEach(W=>{var N;if((N=W.context)!=null&&N.open&&!W.context.dataRef.current.__outsidePressBubbles){L=!1;return}}),!L)return}r(!1,d,"outside-press")}),T=le(d=>{var E;const O=()=>{var R;y(d),(R=Re(d))==null||R.removeEventListener(a,O)};(E=Re(d))==null||E.addEventListener(a,O)});return m.useEffect(()=>{if(!n||!f)return;c.current.__escapeKeyBubbles=F,c.current.__outsidePressBubbles=B;function d(R){r(!1,R,"ancestor-scroll")}const E=oe(s);u&&E.addEventListener("keydown",V?k:M,V),x&&E.addEventListener(a,S?T:y,S);let O=[];return h&&(U(i)&&(O=Pe(i)),U(s)&&(O=O.concat(Pe(s))),!U(o)&&o&&o.contextElement&&(O=O.concat(Pe(o.contextElement)))),O=O.filter(R=>{var _;return R!==((_=E.defaultView)==null?void 0:_.visualViewport)}),O.forEach(R=>{R.addEventListener("scroll",d,{passive:!0})}),()=>{u&&E.removeEventListener("keydown",V?k:M,V),x&&E.removeEventListener(a,S?T:y,S),O.forEach(R=>{R.removeEventListener("scroll",d)})}},[c,s,i,o,u,x,a,n,r,h,f,F,B,M,V,k,y,S,T]),m.useEffect(()=>{b.current=!1},[x,a]),m.useMemo(()=>f?{reference:{onKeyDown:M,[so[l]]:d=>{p&&r(!1,d.nativeEvent,"reference-press")}},floating:{onKeyDown:M,onMouseDown(){P.current=!0},onMouseUp(){P.current=!0},[co[a]]:()=>{b.current=!0}}}:{},[f,p,a,l,r,M])}function lo(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=ht(),i=m.useRef({}),[s]=m.useState(()=>Yr()),c=vt()!=null,[f,u]=m.useState(r.reference),g=le((l,h,v)=>{i.current.openEvent=l?h:void 0,s.emit("openchange",{open:l,event:h,reason:v,nested:c}),n==null||n(l,h,v)}),a=m.useMemo(()=>({setPositionReference:u}),[]),p=m.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return m.useMemo(()=>({dataRef:i,open:t,onOpenChange:g,elements:p,events:s,floatingId:o,refs:a}),[t,g,p,s,o,a])}function Ao(e){e===void 0&&(e={});const{nodeId:t}=e,n=lo({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=m.useState(null),[c,f]=m.useState(null),g=(o==null?void 0:o.reference)||i,a=m.useRef(null),p=Qe();Y(()=>{g&&(a.current=g)},[g]);const l=Dr({...e,elements:{...o,...c&&{reference:c}}}),h=m.useCallback(x=>{const b=U(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;f(b),l.refs.setReference(b)},[l.refs]),v=m.useCallback(x=>{(U(x)||x===null)&&(a.current=x,s(x)),(U(l.refs.reference.current)||l.refs.reference.current===null||x!==null&&!U(x))&&l.refs.setReference(x)},[l.refs]),w=m.useMemo(()=>({...l.refs,setReference:v,setPositionReference:h,domReference:a}),[l.refs,v,h]),C=m.useMemo(()=>({...l.elements,domReference:g}),[l.elements,g]),I=m.useMemo(()=>({...l,...r,refs:w,elements:C,nodeId:t}),[l,w,C,t,r]);return Y(()=>{r.dataRef.current.floatingContext=I;const x=p==null?void 0:p.nodesRef.current.find(b=>b.id===t);x&&(x.context=I)}),m.useMemo(()=>({...l,context:I,refs:w,elements:C}),[l,w,C,I])}function Lo(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,dataRef:i,elements:{domReference:s}}=e,{enabled:c=!0,visibleOnly:f=!0}=t,u=m.useRef(!1),g=m.useRef(),a=m.useRef(!0);return m.useEffect(()=>{if(!c)return;const p=ue(s);function l(){!n&&te(s)&&s===he(oe(s))&&(u.current=!0)}function h(){a.current=!0}return p.addEventListener("blur",l),p.addEventListener("keydown",h,!0),()=>{p.removeEventListener("blur",l),p.removeEventListener("keydown",h,!0)}},[s,n,c]),m.useEffect(()=>{if(!c)return;function p(l){let{reason:h}=l;(h==="reference-press"||h==="escape-key")&&(u.current=!0)}return o.on("openchange",p),()=>{o.off("openchange",p)}},[o,c]),m.useEffect(()=>()=>{clearTimeout(g.current)},[]),m.useMemo(()=>c?{reference:{onPointerDown(p){Kt(p.nativeEvent)||(a.current=!1)},onMouseLeave(){u.current=!1},onFocus(p){if(u.current)return;const l=Re(p.nativeEvent);if(f&&U(l))try{if(Wt()&&Ln())throw Error();if(!l.matches(":focus-visible"))return}catch{if(!a.current&&!Vt(l))return}r(!0,p.nativeEvent,"focus")},onBlur(p){u.current=!1;const l=p.relatedTarget,h=U(l)&&l.hasAttribute(_e("focus-guard"))&&l.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var v;const w=he(s?s.ownerDocument:document);!l&&w===s||ee((v=i.current.floatingContext)==null?void 0:v.refs.floating.current,w)||ee(s,w)||h||r(!1,p.nativeEvent,"focus")})}}}:{},[c,f,i,s,r])}const mn="active",gn="selected";function Ot(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[mn]:s,[gn]:c,...f}=e;i=f}return{...n==="floating"&&{tabIndex:-1},...i,...t.map(s=>{const c=s?s[n]:null;return typeof c=="function"?e?c(e):null:c}).concat(e).reduce((s,c)=>(c&&Object.entries(c).forEach(f=>{let[u,g]=f;if(!(o&&[mn,gn].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof g=="function"){var a;(a=r.get(u))==null||a.push(g),s[u]=function(){for(var p,l=arguments.length,h=new Array(l),v=0;v<l;v++)h[v]=arguments[v];return(p=r.get(u))==null?void 0:p.map(w=>w(...h)).find(w=>w!==void 0)}}}else s[u]=g}),s),{})}}function So(e){e===void 0&&(e=[]);const t=e,n=m.useCallback(i=>Ot(i,e,"reference"),t),r=m.useCallback(i=>Ot(i,e,"floating"),t),o=m.useCallback(i=>Ot(i,e,"item"),e.map(i=>i==null?void 0:i.item));return m.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}let pn=!1;function bt(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function hn(e,t){return bt(t,e===$t||e===Je,e===$e||e===je)}function It(e,t,n){return bt(t,e===Je,n?e===$e:e===je)||e==="Enter"||e===" "||e===""}function uo(e,t,n){return bt(t,n?e===$e:e===je,e===Je)}function vn(e,t,n){return bt(t,n?e===je:e===$e,e===$t)}function Do(e,t){const{open:n,onOpenChange:r,elements:{domReference:o,floating:i}}=e,{listRef:s,activeIndex:c,onNavigate:f=()=>{},enabled:u=!0,selectedIndex:g=null,allowEscape:a=!1,loop:p=!1,nested:l=!1,rtl:h=!1,virtual:v=!1,focusItemOnOpen:w="auto",focusItemOnHover:C=!0,openOnArrowKeyDown:I=!0,disabledIndices:x=void 0,orientation:b="vertical",cols:P=1,scrollItemIntoView:F=!0,virtualItemRef:B,itemSizes:V,dense:S=!1}=t,M=vt(),k=Qe(),y=le(f),T=m.useRef(w),d=m.useRef(g??-1),E=m.useRef(null),O=m.useRef(!0),R=m.useRef(y),_=m.useRef(!!i),j=m.useRef(!1),A=m.useRef(!1),X=fe(x),ne=fe(n),me=fe(F),ce=fe(i),L=fe(g),[W,N]=m.useState(),[D,$]=m.useState(),z=le(function(H,G,Q){Q===void 0&&(Q=!1);function Z(ie){v?(N(ie.id),k==null||k.events.emit("virtualfocus",ie),B&&(B.current=ie)):xe(ie,{preventScroll:!0,sync:Ln()&&Wt()?pn||j.current:!1})}const ye=H.current[G.current];ye&&Z(ye),requestAnimationFrame(()=>{const ie=H.current[G.current]||ye;if(!ie)return;ye||Z(ie);const K=me.current;K&&J&&(Q||!O.current)&&(ie.scrollIntoView==null||ie.scrollIntoView(typeof K=="boolean"?{block:"nearest",inline:"nearest"}:K))})});Y(()=>{document.createElement("div").focus({get preventScroll(){return pn=!0,!1}})},[]),Y(()=>{u&&(n&&i?T.current&&g!=null&&(A.current=!0,d.current=g,y(g)):_.current&&(d.current=-1,R.current(null)))},[u,n,i,g,y]),Y(()=>{if(u&&n&&i)if(c==null){if(j.current=!1,L.current!=null)return;if(_.current&&(d.current=-1,z(s,d)),!_.current&&T.current&&(E.current!=null||T.current===!0&&E.current==null)){let H=0;const G=()=>{s.current[0]==null?(H<2&&(H?requestAnimationFrame:queueMicrotask)(G),H++):(d.current=E.current==null||It(E.current,b,h)||l?xt(s,X.current):Zt(s,X.current),E.current=null,y(d.current))};G()}}else ze(s,c)||(d.current=c,z(s,d,A.current),A.current=!1)},[u,n,i,c,L,l,s,b,h,y,z,X]),Y(()=>{var H;if(!u||i||!k||v||!_.current)return;const G=k.nodesRef.current,Q=(H=G.find(ie=>ie.id===M))==null||(H=H.context)==null?void 0:H.elements.floating,Z=he(oe(i)),ye=G.some(ie=>ie.context&&ee(ie.context.elements.floating,Z));Q&&!ye&&O.current&&Q.focus({preventScroll:!0})},[u,i,k,M,v]),Y(()=>{if(!u||!k||!v||M)return;function H(G){$(G.id),B&&(B.current=G)}return k.events.on("virtualfocus",H),()=>{k.events.off("virtualfocus",H)}},[u,k,v,M,B]),Y(()=>{R.current=y,_.current=!!i}),Y(()=>{n||(E.current=null)},[n]);const q=c!=null,J=m.useMemo(()=>{function H(Q){if(!n)return;const Z=s.current.indexOf(Q);Z!==-1&&y(Z)}return{onFocus(Q){let{currentTarget:Z}=Q;H(Z)},onClick:Q=>{let{currentTarget:Z}=Q;return Z.focus({preventScroll:!0})},...C&&{onMouseMove(Q){let{currentTarget:Z}=Q;H(Z)},onPointerLeave(Q){let{pointerType:Z}=Q;!O.current||Z==="touch"||(d.current=-1,z(s,d),y(null),v||xe(ce.current,{preventScroll:!0}))}}}},[n,ce,z,C,s,y,v]);return m.useMemo(()=>{if(!u)return{};const H=X.current;function G(K){if(O.current=!1,j.current=!0,!ne.current&&K.currentTarget===ce.current)return;if(l&&vn(K.key,b,h)){re(K),r(!1,K.nativeEvent,"list-navigation"),te(o)&&!v&&o.focus();return}const ae=d.current,ge=xt(s,H),we=Zt(s,H);if(K.key==="Home"&&(re(K),d.current=ge,y(d.current)),K.key==="End"&&(re(K),d.current=we,y(d.current)),P>1){const Le=V||Array.from({length:s.current.length},()=>({width:1,height:1})),Oe=Kr(Le,P,S),Ze=Oe.findIndex(pe=>pe!=null&&!st(s.current,pe,H)),et=Oe.reduce((pe,Ie,ve)=>Ie!=null&&!st(s.current,Ie,H)?ve:pe,-1);if(d.current=Oe[Br({current:Oe.map(pe=>pe!=null?s.current[pe]:null)},{event:K,orientation:b,loop:p,cols:P,disabledIndices:Vr([...H||s.current.map((pe,Ie)=>st(s.current,Ie)?Ie:void 0),void 0],Oe),minIndex:Ze,maxIndex:et,prevIndex:Wr(d.current>we?ge:d.current,Le,Oe,P,K.key===Je?"bl":K.key===je?"tr":"tl"),stopEvent:!0})],y(d.current),b==="both")return}if(hn(K.key,b)){if(re(K),n&&!v&&he(K.currentTarget.ownerDocument)===K.currentTarget){d.current=It(K.key,b,h)?ge:we,y(d.current);return}It(K.key,b,h)?p?d.current=ae>=we?a&&ae!==s.current.length?-1:ge:se(s,{startingIndex:ae,disabledIndices:H}):d.current=Math.min(we,se(s,{startingIndex:ae,disabledIndices:H})):p?d.current=ae<=ge?a&&ae!==-1?s.current.length:we:se(s,{startingIndex:ae,decrement:!0,disabledIndices:H}):d.current=Math.max(ge,se(s,{startingIndex:ae,decrement:!0,disabledIndices:H})),ze(s,d.current)?y(null):y(d.current)}}function Q(K){w==="auto"&&An(K.nativeEvent)&&(T.current=!0)}function Z(K){T.current=w,w==="auto"&&Kt(K.nativeEvent)&&(T.current=!0)}const ye=v&&n&&q&&{"aria-activedescendant":D||W},ie=s.current.find(K=>(K==null?void 0:K.id)===W);return{reference:{...ye,onKeyDown(K){O.current=!1;const ae=K.key.indexOf("Arrow")===0,ge=uo(K.key,b,h),we=vn(K.key,b,h),Le=hn(K.key,b),Oe=(l?ge:Le)||K.key==="Enter"||K.key.trim()==="";if(v&&n){const Ie=k==null?void 0:k.nodesRef.current.find(tt=>tt.parentId==null),ve=k&&Ie?Jr(k.nodesRef.current,Ie.id):null;if(ae&&ve&&B){const tt=new KeyboardEvent("keydown",{key:K.key,bubbles:!0});if(ge||we){var Ze,et;const Hn=((Ze=ve.context)==null?void 0:Ze.elements.domReference)===K.currentTarget,jt=we&&!Hn?(et=ve.context)==null?void 0:et.elements.domReference:ge?ie:null;jt&&(re(K),jt.dispatchEvent(tt),$(void 0))}if(Le&&ve.context&&ve.context.open&&ve.parentId&&K.currentTarget!==ve.context.elements.domReference){var pe;re(K),(pe=ve.context.elements.domReference)==null||pe.dispatchEvent(tt);return}}return G(K)}if(!(!n&&!I&&ae)){if(Oe&&(E.current=l&&Le?null:K.key),l){ge&&(re(K),n?(d.current=xt(s,H),y(d.current)):r(!0,K.nativeEvent,"list-navigation"));return}Le&&(g!=null&&(d.current=g),re(K),!n&&I?r(!0,K.nativeEvent,"list-navigation"):G(K),n&&y(d.current))}},onFocus(){n&&!v&&y(null)},onPointerDown:Z,onMouseDown:Q,onClick:Q},floating:{"aria-orientation":b==="both"?void 0:b,...!Sn(o)&&ye,onKeyDown:G,onPointerMove(){O.current=!0}},item:J}},[o,ce,W,D,X,ne,s,u,b,h,v,n,q,l,g,I,a,P,p,w,y,r,J,k,B,V,S])}const ao=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Fo(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:o}=e,{enabled:i=!0,role:s="dialog"}=t,c=(n=ao.get(s))!=null?n:s,f=ht(),g=vt()!=null;return m.useMemo(()=>{if(!i)return{};const a={id:o,...c&&{role:c}};return c==="tooltip"||s==="label"?{reference:{["aria-"+(s==="label"?"labelledby":"describedby")]:r?o:void 0},floating:a}:{reference:{"aria-expanded":r?"true":"false","aria-haspopup":c==="alertdialog"?"dialog":c,"aria-controls":r?o:void 0,...c==="listbox"&&{role:"combobox"},...c==="menu"&&{id:f},...c==="menu"&&g&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},floating:{...a,...c==="menu"&&{"aria-labelledby":f}},item(p){let{active:l,selected:h}=p;const v={role:"option",...l&&{id:o+"-option"}};switch(s){case"select":return{...v,"aria-selected":l&&h};case"combobox":return{...v,...l&&{"aria-selected":!0}}}return{}}}},[i,s,c,r,o,f,g])}function No(e,t){var n;const{open:r,dataRef:o}=e,{listRef:i,activeIndex:s,onMatch:c,onTypingChange:f,enabled:u=!0,findMatch:g=null,resetMs:a=750,ignoreKeys:p=[],selectedIndex:l=null}=t,h=m.useRef(),v=m.useRef(""),w=m.useRef((n=l??s)!=null?n:-1),C=m.useRef(null),I=le(c),x=le(f),b=fe(g),P=fe(p);return Y(()=>{r&&(clearTimeout(h.current),C.current=null,v.current="")},[r]),Y(()=>{if(r&&v.current===""){var F;w.current=(F=l??s)!=null?F:-1}},[r,l,s]),m.useMemo(()=>{if(!u)return{};function F(S){S?o.current.typing||(o.current.typing=S,x(S)):o.current.typing&&(o.current.typing=S,x(S))}function B(S,M,k){const y=b.current?b.current(M,k):M.find(T=>(T==null?void 0:T.toLocaleLowerCase().indexOf(k.toLocaleLowerCase()))===0);return y?S.indexOf(y):-1}function V(S){const M=i.current;if(v.current.length>0&&v.current[0]!==" "&&(B(M,M,v.current)===-1?F(!1):S.key===" "&&re(S)),M==null||P.current.includes(S.key)||S.key.length!==1||S.ctrlKey||S.metaKey||S.altKey)return;r&&S.key!==" "&&(re(S),F(!0)),M.every(d=>{var E,O;return d?((E=d[0])==null?void 0:E.toLocaleLowerCase())!==((O=d[1])==null?void 0:O.toLocaleLowerCase()):!0})&&v.current===S.key&&(v.current="",w.current=C.current),v.current+=S.key,clearTimeout(h.current),h.current=setTimeout(()=>{v.current="",w.current=C.current,F(!1)},a);const y=w.current,T=B(M,[...M.slice((y||0)+1),...M.slice(0,(y||0)+1)],v.current);T!==-1?(I(T),C.current=T):S.key!==" "&&(v.current="",F(!1))}return{reference:{onKeyDown:V},floating:{onKeyDown:V,onKeyUp(S){S.key===" "&&F(!1)}}}},[u,r,o,i,a,P,b,I,x])}function bn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[f,u]=t[s]||[0,0],[g,a]=t[c]||[0,0];u>=r!=a>=r&&n<=(g-f)*(r-u)/(a-u)+f&&(o=!o)}return o}function fo(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function _o(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,f=performance.now();function u(a,p){const l=performance.now(),h=l-f;if(s===null||c===null||h===0)return s=a,c=p,f=l,null;const v=a-s,w=p-c,I=Math.sqrt(v*v+w*w)/h;return s=a,c=p,f=l,I}const g=a=>{let{x:p,y:l,placement:h,elements:v,onClose:w,nodeId:C,tree:I}=a;return function(b){function P(){clearTimeout(o),w()}if(clearTimeout(o),!v.domReference||!v.floating||h==null||p==null||l==null)return;const{clientX:F,clientY:B}=b,V=[F,B],S=Re(b),M=b.type==="mouseleave",k=ee(v.floating,S),y=ee(v.domReference,S),T=v.domReference.getBoundingClientRect(),d=v.floating.getBoundingClientRect(),E=h.split("-")[0],O=p>d.right-d.width/2,R=l>d.bottom-d.height/2,_=fo(V,T),j=d.width>T.width,A=d.height>T.height,X=(j?T:d).left,ne=(j?T:d).right,me=(A?T:d).top,ce=(A?T:d).bottom;if(k&&(i=!0,!M))return;if(y&&(i=!1),y&&!M){i=!0;return}if(M&&U(b.relatedTarget)&&ee(v.floating,b.relatedTarget)||I&&Fe(I.nodesRef.current,C).some(N=>{let{context:D}=N;return D==null?void 0:D.open}))return;if(E==="top"&&l>=T.bottom-1||E==="bottom"&&l<=T.top+1||E==="left"&&p>=T.right-1||E==="right"&&p<=T.left+1)return P();let L=[];switch(E){case"top":L=[[X,T.top+1],[X,d.bottom-1],[ne,d.bottom-1],[ne,T.top+1]];break;case"bottom":L=[[X,d.top+1],[X,T.bottom-1],[ne,T.bottom-1],[ne,d.top+1]];break;case"left":L=[[d.right-1,ce],[d.right-1,me],[T.left+1,me],[T.left+1,ce]];break;case"right":L=[[T.right-1,ce],[T.right-1,me],[d.left+1,me],[d.left+1,ce]];break}function W(N){let[D,$]=N;switch(E){case"top":{const z=[j?D+t/2:O?D+t*4:D-t*4,$+t+1],q=[j?D-t/2:O?D+t*4:D-t*4,$+t+1],J=[[d.left,O||j?d.bottom-t:d.top],[d.right,O?j?d.bottom-t:d.top:d.bottom-t]];return[z,q,...J]}case"bottom":{const z=[j?D+t/2:O?D+t*4:D-t*4,$-t],q=[j?D-t/2:O?D+t*4:D-t*4,$-t],J=[[d.left,O||j?d.top+t:d.bottom],[d.right,O?j?d.top+t:d.bottom:d.top+t]];return[z,q,...J]}case"left":{const z=[D+t+1,A?$+t/2:R?$+t*4:$-t*4],q=[D+t+1,A?$-t/2:R?$+t*4:$-t*4];return[...[[R||A?d.right-t:d.left,d.top],[R?A?d.right-t:d.left:d.right-t,d.bottom]],z,q]}case"right":{const z=[D-t,A?$+t/2:R?$+t*4:$-t*4],q=[D-t,A?$-t/2:R?$+t*4:$-t*4],J=[[R||A?d.left+t:d.right,d.top],[R?A?d.left+t:d.right:d.left+t,d.bottom]];return[z,q,...J]}}}if(!bn([F,B],L)){if(i&&!_)return P();if(!M&&r){const N=u(b.clientX,b.clientY);if(N!==null&&N<.1)return P()}bn([F,B],W([p,l]))?!i&&r&&(o=window.setTimeout(P,40)):P()}}};return g.__options={blockPointerEvents:n},g}export{Io as F,wo as a,xo as b,ho as c,So as d,Mo as e,yo as f,To as g,_o as h,ko as i,Fo as j,Lo as k,Co as l,Ro as m,Do as n,vo as o,No as p,Eo as q,Oo as r,bo as s,Po as t,Ao as u};
