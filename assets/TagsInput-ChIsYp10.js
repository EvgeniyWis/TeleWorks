import{r,j as e}from"./react-CA4AiUJV.js";import{R}from"./react-quill-new-Dv8AEmum.js";import{p as b,F as N,y as L}from"./index-B7NXl1Pa.js";const y="_markdownTextarea_1trbv_1",M="_markdownTextareaWrapper_1trbv_9",D="_markdownTextarea__textarea_1trbv_16",F="_markdownTextarea__textarea__warn_1trbv_21",O="_markdownTextarea__symbols_1trbv_24",f={markdownTextarea:y,markdownTextareaWrapper:M,markdownTextarea__textarea:D,markdownTextarea__textarea__warn:F,markdownTextarea__symbols:O},P={toolbar:[["bold","italic"],[{list:"ordered"}]]},q=["bold","italic","list"],Ra=r.memo(({TextareaValue:a,setTextareaValue:n,maxSymbolsAmount:t,minSymbolsAmount:s,className:o,placeholder:p})=>{const[m,d]=r.useState(""),[_,g]=r.useState(""),[k,l]=b(),B=(w,I)=>{I.length<=t?(n(I),d(w),g(I)):(d(""),k||setTimeout(()=>{alert("Вы превысили ограничение по символам! Если хотите вернуть текст, нажмите CTRL+Z")},0),n(_),l(!0))};return r.useEffect(()=>{a==`
`&&n("")},[a,n]),r.useEffect(()=>{a&&d(a)},[]),e.jsxs("div",{className:`${f.markdownTextareaWrapper} ${o}`,children:[e.jsx(R,{className:`${f.markdownTextarea__textarea} ${k?f.markdownTextarea__textarea__warn:""}`,theme:"snow",value:m,onChange:(w,I,Wa,E)=>B(w,E.getText()),formats:q,modules:P,placeholder:p}),e.jsxs("span",{className:`UserEditPage__desc ${f.markdownTextarea__symbols}`,children:[a.length," из ",t," символов (минимум"," ",s,")"]})]})}),H="_loadImageBlock__wrapper_ftcxr_1",U="_loadImageBlock__wrapper__info_ftcxr_8",A="_loadImageBlock__wrapperWrapper_ftcxr_15",z="_loadImageBlock__wrapperPadding_ftcxr_26",Z="_loadImageBlock__wrapper__requirements_ftcxr_37",S="_loadImageBlock__wrapper__img_ftcxr_43",V="_loadImageBlock__wrapper__imgWrapper_ftcxr_50",G="_loadImageBlock__big_ftcxr_57",K="_loadImageBlock__medium_ftcxr_61",Q="_loadImageBlock__small_ftcxr_65",J="_loadImageBlock__wrapper__active_ftcxr_69",X="_loadImageBlock__wrapper__withImg_ftcxr_69",Y="_loadImageBlock__caption_ftcxr_81",aa="_loadImageBlock__desc_ftcxr_88",i={loadImageBlock__wrapper:H,loadImageBlock__wrapper__info:U,loadImageBlock__wrapperWrapper:A,loadImageBlock__wrapperPadding:z,loadImageBlock__wrapper__requirements:Z,loadImageBlock__wrapper__img:S,loadImageBlock__wrapper__imgWrapper:V,loadImageBlock__big:G,loadImageBlock__medium:K,loadImageBlock__small:Q,loadImageBlock__wrapper__active:J,loadImageBlock__wrapper__withImg:X,loadImageBlock__caption:Y,loadImageBlock__desc:aa},$=a=>r.createElement("div",{style:{position:"relative"}},r.createElement("svg",{style:{position:"absolute",top:15,left:"11.5px",maxWidth:21,maxHeight:21},width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},r.createElement("path",{d:"M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"})),r.createElement("svg",{width:74,height:74,viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},r.createElement("path",{d:"M71 52.1111V67.2222C71 69.3087 69.3087 71 67.2222 71H6.77778C4.69139 71 3 69.3087 3 67.2222V59.6667M71 52.1111V6.77778C71 4.69139 69.3087 3 67.2222 3H6.77778C4.69139 3 3 4.69139 3 6.77778V59.6667M71 52.1111L50.1576 38.2161C49.0296 37.4639 47.585 37.374 46.3723 37.9803L3 59.6667",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"}))),W="loading";var x=(a=>(a.SIZE_ERROR="Некорректный размер файла!",a.RESOLUTION_ERROR="Неправильное разрешение изображения!",a.FORMAT_ERROR="Неправильный формат файла!",a))(x||{});const ea="_loadImageBlock__wrapper_1v9fm_1",_a="_loadImageBlock__wrapper__info_1v9fm_8",ra="_loadImageBlock__wrapper__errors_1v9fm_15",oa="_loadImageBlock__wrapper__error_1v9fm_15",la="_loadImageBlock__wrapperWrapper_1v9fm_28",ta="_loadImageBlock__wrapperPadding_1v9fm_39",ca="_loadImageBlock__wrapper__requirements_1v9fm_50",na="_loadImageBlock__wrapper__input_1v9fm_56",sa="_loadImageBlock__wrapper__img_1v9fm_64",pa="_loadImageBlock__wrapper__imgWrapper_1v9fm_71",ma="_loadImageBlock__wrapper__loadingWrapper_1v9fm_78",da="_loadImageBlock__big_1v9fm_85",ga="_loadImageBlock__medium_1v9fm_89",ia="_loadImageBlock__small_1v9fm_93",ka="_loadImageBlock__wrapper__active_1v9fm_97",Ia="_loadImageBlock__wrapper__withImg_1v9fm_97",wa="_loadImageBlock__caption_1v9fm_109",ua="_loadImageBlock__desc_1v9fm_116",c={loadImageBlock__wrapper:ea,loadImageBlock__wrapper__info:_a,loadImageBlock__wrapper__errors:ra,loadImageBlock__wrapper__error:oa,loadImageBlock__wrapperWrapper:la,loadImageBlock__wrapperPadding:ta,loadImageBlock__wrapper__requirements:ca,loadImageBlock__wrapper__input:na,loadImageBlock__wrapper__img:sa,loadImageBlock__wrapper__imgWrapper:pa,loadImageBlock__wrapper__loadingWrapper:ma,loadImageBlock__big:da,loadImageBlock__medium:ga,loadImageBlock__small:ia,loadImageBlock__wrapper__active:ka,loadImageBlock__wrapper__withImg:Ia,loadImageBlock__caption:wa,loadImageBlock__desc:ua},h=660,v=440,C=30720,j=10485760,Ba=(a,n,t)=>{const s=a>=C&&a<=j,o=n>=h&&t>=v;return!(!s||!o)},ba=r.memo(({title:a,size:n,requirements:t=!0,className:s,LoadedImage:o,setLoadedImage:p,LoadedImageErrors:m,setLoadedImageErrors:d})=>{const _=r.useRef(null),g=l=>(l.preventDefault(),!1);r.useEffect(()=>(["dragover","drop"].forEach(function(l){document.addEventListener(l,g)}),()=>{["dragover","drop"].forEach(function(l){document.removeEventListener(l,g)})}),[]);const k=l=>{var w,I;(w=_.current)==null||w.classList.remove(c.loadImageBlock__wrapper__active);const B=(I=l.dataTransfer)==null?void 0:I.files[0];if(B)if(B.type.startsWith("image/"))T(l,p,d);else return d([...m,x.FORMAT_ERROR]),!1};return e.jsxs(N,{direction:"column",gap:"10",className:`${c[`loadImageBlock__${n}`]} ${s||""}`,onDragEnter:()=>{var l;return(l=_.current)==null?void 0:l.classList.add(c.loadImageBlock__wrapper__active)},onDragLeave:()=>{var l;return(l=_.current)==null?void 0:l.classList.remove(c.loadImageBlock__wrapper__active)},onDrop:k,children:[e.jsx("div",{className:`${c.loadImageBlock__wrapper} Page__SirineWrapper 
        ${o&&o!=W?c.loadImageBlock__wrapper__withImg:""}`,ref:_,children:!o||m.length?e.jsxs("label",{className:c.loadImageBlock__wrapperPadding,children:[e.jsx("div",{className:`${c.loadImageBlock__wrapperWrapper}`}),e.jsx("input",{className:c.loadImageBlock__wrapper__input,type:"file",onChange:l=>T(l,p,d),accept:"image/png, image/gif, image/jpeg, image/jpg"}),e.jsxs("div",{className:c.loadImageBlock__wrapper__info,children:[e.jsx($,{}),e.jsx("h4",{className:c.loadImageBlock__caption,children:a}),t&&e.jsxs("div",{className:c.loadImageBlock__wrapper__requirements,children:[e.jsxs("span",{className:c.loadImageBlock__desc,children:["Минимальный размер: ",h," х"," ",v," px"]}),e.jsxs("span",{className:c.loadImageBlock__desc,children:["Вес: ",Math.round(C/1024)," кб —"," ",Math.round(j/1048576)," Мб"]}),e.jsx("span",{className:c.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]}):o==W?e.jsx("div",{className:c.loadImageBlock__wrapper__loadingWrapper,children:e.jsx(L,{size:"small"})}):e.jsxs("label",{className:c.loadImageBlock__wrapper__imgWrapper,children:[e.jsx("img",{className:c.loadImageBlock__wrapper__img,src:o,alt:"Изображение хедера"}),e.jsx("input",{className:c.loadImageBlock__wrapper__input,type:"file",onChange:l=>T(l,p,d),accept:"image/png, image/gif, image/jpeg, image/jpg"})]})}),m.length>0&&e.jsx("div",{className:c.loadImageBlock__wrapper__errors,children:m.map(l=>e.jsx("span",{className:c.loadImageBlock__wrapper__error,children:l},l))})]})}),T=(a,n,t)=>{var p;n(W);const s=a.target.files||((p=a.dataTransfer)==null?void 0:p.files),o=[];if(t([]),s&&s.length){const m=new FileReader,d=s[0].size>=C&&s[0].size<=j;m.onload=function(){const _=new Image;_.src=m.result,_.onload=function(){const g=_.naturalWidth>=h&&_.naturalHeight>=v;Ba(s[0].size,_.naturalWidth,_.naturalHeight)?n(m.result):(g||o.push(x.RESOLUTION_ERROR),d||o.push(x.SIZE_ERROR),t(o))}},m.readAsDataURL(s[0])}},La=r.memo(({title:a,size:n,requirements:t=!0,className:s,withBG:o=!0,inputRef:p})=>e.jsx(N,{direction:"column",gap:"10",className:`${i[`loadImageBlock__${n}`]} ${s||""} ${o?"":"Page__GrayBorderWithWhiteBGWrapper"}`,onClick:()=>{var m;return(m=p==null?void 0:p.current)==null?void 0:m.click()},children:e.jsx("div",{className:`${i.loadImageBlock__wrapper} ${o?"Page__SirineWrapper":""}`,children:e.jsxs("label",{className:i.loadImageBlock__wrapperPadding,children:[e.jsx("div",{className:`${i.loadImageBlock__wrapperWrapper}`}),e.jsxs("div",{className:i.loadImageBlock__wrapper__info,children:[e.jsx($,{}),e.jsx("h4",{className:i.loadImageBlock__caption,children:a}),t&&e.jsxs("div",{className:i.loadImageBlock__wrapper__requirements,children:[e.jsxs("span",{className:i.loadImageBlock__desc,children:["Минимальный размер: ",h," х"," ",v," px"]}),e.jsxs("span",{className:i.loadImageBlock__desc,children:["Вес: ",Math.round(C/1024)," кб —"," ",Math.round(j/1048576)," Мб"]}),e.jsx("span",{className:i.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]})})}));var fa=(a=>(a.SMALL="small",a.MEDIUM="medium",a.BIG="big",a))(fa||{});const xa="_TagsInput__tagsInput_1mwa6_1",ha="_TagsInput__tagsInputWrapper_1mwa6_14",va="_TagsInput__tag_1mwa6_1",Ca="_TagsInput__tag__text_1mwa6_38",ja="_TagsInput__tag__delete_1mwa6_44",u={TagsInput__tagsInput:xa,TagsInput__tagsInputWrapper:ha,TagsInput__tag:va,TagsInput__tag__text:Ca,TagsInput__tag__delete:ja},Ta=a=>r.createElement("svg",{width:7,height:7,viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.869 0.790865C6.95401 0.702851 7.00105 0.58497 6.99998 0.462612C6.99892 0.340253 6.94984 0.223207 6.86332 0.136684C6.77679 0.0501599 6.65975 0.0010809 6.53739 1.76411e-05C6.41503 -0.00104562 6.29715 0.0459919 6.20913 0.130999L3.50573 2.8344L0.802334 0.130999C0.71432 0.0459919 0.596439 -0.00104562 0.474081 1.76411e-05C0.351722 0.0010809 0.234676 0.0501599 0.148153 0.136684C0.0616287 0.223207 0.0125498 0.340253 0.0114865 0.462612C0.0104232 0.58497 0.0574608 0.702851 0.142468 0.790865L2.84587 3.49427L0.142468 6.19766C0.0978965 6.24071 0.0623447 6.29221 0.0378872 6.34914C0.0134297 6.40608 0.000556068 6.46731 1.762e-05 6.52928C-0.000520828 6.59124 0.0112865 6.65269 0.0347509 6.71004C0.0582154 6.7674 0.0928668 6.8195 0.136683 6.86332C0.1805 6.90713 0.232604 6.94178 0.289956 6.96525C0.347308 6.98871 0.408758 7.00052 0.470722 6.99998C0.532685 6.99944 0.593921 6.98657 0.650856 6.96211C0.707792 6.93765 0.759286 6.9021 0.802334 6.85753L3.50573 4.15413L6.20913 6.85753C6.29715 6.94254 6.41503 6.98958 6.53739 6.98851C6.65975 6.98745 6.77679 6.93837 6.86332 6.85185C6.94984 6.76532 6.99892 6.64828 6.99998 6.52592C7.00105 6.40356 6.95401 6.28568 6.869 6.19766L4.1656 3.49427L6.869 0.790865Z",fill:"#FF5555"})),ya=r.memo(({SelectedTags:a,setSelectedTags:n})=>{const[t,s]=r.useState(""),o=r.useRef(null),p=r.useCallback(_=>{_.preventDefault(),_.keyCode===13&&t&&document.activeElement==o.current&&(a.includes(t)||(n([...a,t]),s(""),o.current.focus()))},[a,t,n]);r.useEffect(()=>{document.activeElement==o.current&&t?document.addEventListener("keyup",p):document.removeEventListener("keyup",p)},[document.activeElement,t]),r.useEffect(()=>()=>{document.removeEventListener("keyup",p)},[p]);const m=r.useCallback(_=>{n(a.filter(g=>g!=_)),o.current.focus()},[a,n]),d=r.useCallback(_=>{if(document.activeElement==o.current&&!t){const g=_.keyCode||_.charCode;if(g==8||g==46){const k=a.slice();k.pop(),n(k)}}},[a,t,n]);return r.useEffect(()=>(document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}),[d]),e.jsxs("div",{className:u.TagsInput__tagsInputWrapper,children:[a.map(_=>e.jsxs("div",{className:u.TagsInput__tag,children:[e.jsx("span",{className:u.TagsInput__tag__text,children:_}),e.jsx("div",{onClick:()=>m(_),className:u.TagsInput__tag__delete,children:e.jsx(Ta,{})})]},_)),e.jsx("input",{className:u.TagsInput__tagsInput,type:"text",value:t,onChange:_=>s(_.target.value),ref:o,placeholder:"Добавьте теги..."})]})});export{La as L,Ra as M,Ta as S,ya as T,fa as a,ba as b,T as c};
