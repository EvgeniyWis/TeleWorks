import{r as a,j as e}from"./react-C3EGSwTV.js";import{L as F,I as z,A as K,U as G,t as O,F as r,m as i,k as H,d as R,e as M,B as S,h as v,c as Q,i as J,j as X}from"./app-routes-CF43Yv1F.js";import{S as Y}from"./BackSVG-ggoUkx1I.js";import{L as Z}from"./react-router-dom-BGdsm6zk.js";import{L as ee,a as te}from"./LoadImageBlockWithoutLoading_types-DVhepCbB.js";import{A as ae,a as se}from"./AttachFileContainerFile-n6FgZzEC.js";import{a as ne,U as V}from"./UseLocalStorage-Y7eeG9MN.js";import{U as re}from"./UseDebounce-B4wZPC3r.js";import{I as ie,T as de}from"./TransitionBetweenBlocks-CZZlrY8W.js";import"./@babel-13fjUkWY.js";import"./react-dom-DdwdgRbM.js";import"./primereact-CKVv_CF4.js";import"./chart.js-DKcZzhFa.js";import"./@kurkle-BZxJdD1U.js";import"./react-chartjs-2-CU1aPWW1.js";import"./@mui-DMlcxK31.js";import"./react-is-DcfIKM1A.js";import"./clsx-B-dksMZM.js";import"./@emotion-DvcORr5z.js";import"./hoist-non-react-statics-BzqkPicg.js";import"./stylis-FDnFs_-n.js";import"./react-transition-group-CP2SRup2.js";import"./jss-plugin-rule-value-function-NRMjr7SR.js";import"./jss-C2YbWCDG.js";import"./is-in-browser-I-S1O4Zl.js";import"./jss-plugin-global-B2s_qxL_.js";import"./jss-plugin-nested-CvQgPwbz.js";import"./jss-plugin-camel-case-B3itHn0h.js";import"./hyphenate-style-name-HOLnhz8K.js";import"./jss-plugin-default-unit-CakodQBr.js";import"./jss-plugin-vendor-prefixer-C0RmQ0NR.js";import"./css-vendor-BK3-fMEt.js";import"./jss-plugin-props-sort-D2CdvUsV.js";import"./react-select-CFGMc7l-.js";import"./@floating-ui-RYOEkms0.js";import"./use-isomorphic-layout-effect-CaxrrJkV.js";import"./memoize-one-BdPwpGay.js";import"./swiper--iI3_9IR.js";import"./styled-components-BI2Cnmee.js";import"./@reduxjs-D1GcYrcL.js";import"./redux-E-Rf1aW7.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./react-redux-DCb0tGWe.js";import"./use-sync-external-store-CggUjcbj.js";import"./react-router-DjnSpTaD.js";import"./@remix-run-I3CLtn5C.js";const oe="_KindDeedsCreateRequestContainer_e70ns_4",ue="_KindDeedsCreateRequestContainer__wrapperAdaptive_e70ns_13",_e="_KindDeedsCreateRequestContainer__adaptiveCaptionWrapper_e70ns_17",ce="_KindDeedsCreateRequestContainer__caption_e70ns_24",pe="_KindDeedsCreateRequestContainer__back_e70ns_34",me="_KindDeedsCreateRequestContainer__inputsWrapper_e70ns_44",le="_KindDeedsCreateRequestContainer__wrapper_e70ns_13",Ce="_KindDeedsCreateRequestContainer__firstSubcaption_e70ns_60",De="_KindDeedsCreateRequestContainer__button_e70ns_73",Re="_KindDeedsCreateRequestContainer__input_e70ns_44",qe="_KindDeedsCreateRequestContainer__input__sum_e70ns_112",Ke="_KindDeedsCreateRequestContainer__textarea_e70ns_135",ge="_KindDeedsCreateRequestContainer__loadDocumentsWrapper_e70ns_155",n={KindDeedsCreateRequestContainer:oe,KindDeedsCreateRequestContainer__wrapperAdaptive:ue,KindDeedsCreateRequestContainer__adaptiveCaptionWrapper:_e,KindDeedsCreateRequestContainer__caption:ce,KindDeedsCreateRequestContainer__back:pe,KindDeedsCreateRequestContainer__inputsWrapper:me,KindDeedsCreateRequestContainer__wrapper:le,KindDeedsCreateRequestContainer__firstSubcaption:Ce,KindDeedsCreateRequestContainer__button:De,KindDeedsCreateRequestContainer__input:Re,KindDeedsCreateRequestContainer__input__sum:qe,KindDeedsCreateRequestContainer__textarea:Ke,KindDeedsCreateRequestContainer__loadDocumentsWrapper:ge},xe="_Textarea_13p5b_3",he="_Textarea__warning_13p5b_48",E={Textarea:xe,Textarea__warning:he},B=a.memo(({className:_,placeholder:s,value:d,onChange:g,isWarn:o,refTextarea:x,"data-testid":u,id:h})=>e.jsx("textarea",{id:h,"data-tesid":u,className:`${E.Textarea} ${_} ${o?E.Textarea__warning:""}`,placeholder:s,value:d,onChange:g,ref:x}));B.displayName="Textarea";const W=(_,s)=>ne(_,F.CREATE_ORDER_STEP,s),w=a.memo(({setRequestIsCreated:_})=>{const s=W(V.GET),[d,g]=a.useState(s?s.surnameInputValue:""),[o,x]=a.useState(s?s.nameInputValue:""),[u,h]=a.useState(s?s.patronymicInputValue:""),[c,L]=a.useState(s?s.organizationInputValue:""),[p,k]=a.useState(s?s.requestSumInputValue:""),[m,A]=a.useState(s?s.goalTextareaValue:""),[D,I]=a.useState([]),[U,b]=a.useState(0),y=a.useRef(null),C=a.useCallback(re(t=>{W(V.UPDATE,t)},1e3),[]),j=a.useRef(),N=a.useMemo(()=>z.find(t=>t.route==K.KIND_DEEDS_CREATE_REQUEST()).name,[]),[l,f]=G(),T=a.useRef(),$=a.useCallback(()=>{if(!d||!o||!u||!c||!p||!D.length)return f(!0);_(!0),T.current=setTimeout(()=>{var t;(t=document.getElementById("KindDeedsRequestCreated"))==null||t.scrollIntoView({behavior:"smooth"}),clearTimeout(T.current)},O+100)},[D.length,o,c,u,p,_,f,d]);return e.jsx(ie,{setFiles:I,indexedDB:j,indexedDBStoreName:N,children:e.jsxs(r,{max:!0,className:n.KindDeedsCreateRequestContainer,gap:i.matches?"15":"10",direction:"column",children:[e.jsx(H,{children:e.jsx(Z,{to:K.KIND_DEEDS(),children:e.jsxs(r,{className:i.matches?n.KindDeedsCreateRequestContainer__adaptiveCaptionWrapper:"",align:"center",gap:i.matches?"5":"15",children:[e.jsx(Y,{className:n.KindDeedsCreateRequestContainer__back}),e.jsx("h1",{className:n.KindDeedsCreateRequestContainer__caption,children:"Создание запроса средств"})]})})}),e.jsxs(r,{max:!0,className:i.matches?n.KindDeedsCreateRequestContainer__wrapperAdaptive:"Page__GrayBorderSecondaryWrapper",gap:"10",direction:"column",children:[e.jsx("h2",{className:`KindDeedsCreateRequestPage__subcaption 
              ${n.KindDeedsCreateRequestContainer__firstSubcaption}`,children:"Контактные данные"}),e.jsxs(r,{max:!0,className:n.KindDeedsCreateRequestContainer__wrapper,gap:i.matches?"10":"20",direction:"column",children:[e.jsxs(r,{max:!0,className:n.KindDeedsCreateRequestContainer__inputsWrapper,gap:i.matches?"10":"20",direction:"column",children:[e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:d||"",onChange:t=>{g(t.target.value),C({surnameInputValue:t.target.value,nameInputValue:o,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!d,placeholder:"Фамилия"}),e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:o||"",onChange:t=>{x(t.target.value),C({surnameInputValue:d,nameInputValue:t.target.value,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!o,placeholder:"Имя"}),e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:u||"",onChange:t=>{h(t.target.value),C({surnameInputValue:d,nameInputValue:o,patronymicInputValue:t.target.value,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!u,placeholder:"Отчество"})]}),e.jsxs(r,{max:!0,gap:i.matches?"5":"20",direction:"column",children:[e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Название организации/инициативы:"}),e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:c||"",onChange:t=>{L(t.target.value),C({surnameInputValue:d,nameInputValue:o,patronymicInputValue:u,organizationInputValue:t.target.value,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!c,placeholder:"Организация"})]}),e.jsxs(r,{max:!0,gap:i.matches?"5":"20",direction:"column",children:[e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Цель финансирования"}),e.jsx(B,{className:n.KindDeedsCreateRequestContainer__textarea,value:m||"",onChange:t=>{A(t.target.value),C({surnameInputValue:d,nameInputValue:o,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:t.target.value})},isWarn:l&&!m,placeholder:"Подробно объясните, как будут использованы запрашиваемые средства и какое влияние они окажут"})]}),e.jsxs(r,{className:n.KindDeedsCreateRequestContainer__loadDocumentsWrapper,max:!0,children:[e.jsx(ee,{title:"Загрузите документы",size:te.BIG,withBG:!1,isWarn:l&&!D.length,isHovered:!0,inputRef:y,bigViewInMobile:!0}),e.jsx(ae,{inputRef:y,setInputFiles:I,InputFiles:D,setInputFileProgress:b,accept:"image/jpg, image/jpeg, image/png, image/gif",zIndex:-1,indexedDB:j.current,indexedDBStoreName:N})]}),e.jsx(se,{InputFileProgress:U,setInputFileProgress:b,setInputFiles:I,files:D,fileView:"medium",accept:"image/jpg, image/jpeg, image/png, image/gif",indexedDBName:M,indexedDBStore:N,indexedDB:j.current}),e.jsxs(r,{max:!0,gap:i.matches?"5":"20",direction:"column",children:[e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Сумма запроса"}),e.jsx(r,{max:!0,className:n.KindDeedsCreateRequestContainer__input__sum,children:e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"number",value:p||"",onChange:t=>{k(t.target.value),C({surnameInputValue:d,nameInputValue:o,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(t.target.value),goalTextareaValue:m})},isWarn:l&&!p,placeholder:"1 422 223₽"})})]})]})]}),e.jsxs(r,{max:!0,justify:"end",align:"center",children:[e.jsx(S,{to:K.KIND_DEEDS(),type:v.BLACK_WITHOUT_OUTLINE,text:"Назад",className:n.KindDeedsCreateRequestContainer__button}),e.jsx(S,{type:v.RED,text:"Создать запрос",className:n.KindDeedsCreateRequestContainer__button,onClick:$})]})]})})});w.displayName="KindDeedsCreateRequestContainer";const Ie="_KindDeedsRequestCreated_vlw5c_3",je="_KindDeedsRequestCreated__img_vlw5c_18",Ne="_KindDeedsRequestCreated__caption_vlw5c_28",Se="_KindDeedsRequestCreated__desc_vlw5c_38",ve="_KindDeedsRequestCreated__button_vlw5c_51",q={KindDeedsRequestCreated:Ie,KindDeedsRequestCreated__img:je,KindDeedsRequestCreated__caption:Ne,KindDeedsRequestCreated__desc:Se,KindDeedsRequestCreated__button:ve},P=a.memo(()=>e.jsxs(r,{className:`${q.KindDeedsRequestCreated} 
      ${i.matches?"":"Page__GrayBorderSecondaryWrapper"}`,align:"center",justify:"center",direction:"column",gap:i.matches?"0":"10",max:!0,children:[e.jsx("img",{className:q.KindDeedsRequestCreated__img,src:`${Q}/KindDeeds/letterOfKindness_img.png`,alt:"Письмо с сердечком и логотипов TeleWorks"}),e.jsx("h1",{className:q.KindDeedsRequestCreated__caption,children:"Запрос создан!"}),e.jsx("p",{className:q.KindDeedsRequestCreated__desc,children:"Сейчас запрос проходит модерацию, после проверки мы пришлем вам уведомление или другая важна информация"}),e.jsx(S,{className:q.KindDeedsRequestCreated__button,text:"На главную",to:K.KIND_DEEDS(),type:v.RED})]}));P.displayName="KindDeedsRequestCreated";const be=a.memo(()=>{a.useEffect(()=>{document.querySelector("html").classList.add("KindDeedsCreateRequestPage"),document.title=`${document.title} | Создание запроса средств`},[]);const[_,s]=a.useState(!1);return e.jsx("main",{className:"Page KindDeedsCreateRequestPage__main",children:e.jsx("div",{className:"padding",children:e.jsxs(r,{max:!0,align:"center",justify:"center",className:"KindDeedsCreateRequestPage__contentWrapper",children:[e.jsx("div",{id:"KindDeedsRequestCreated",style:{position:"absolute",top:i.matches?"30vh":J.matches?"70vh":"5vh"}}),e.jsx(de,{blocks:[{component:e.jsx(w,{setRequestIsCreated:s}),condition:!_,id:0},{component:e.jsx(P,{}),condition:_,id:1}],transitionDuration:X,defaultIndex:0})]})})})});be.displayName="KindDeedsCreateRequestPage";export{be as KindDeedsCreateRequestPage};
