import{r as a,j as e}from"./react-zrC4k5k2.js";import{I as A,T as U}from"./TransitionBetweenBlocks--Flpb4b2.js";import{H as $,L as F,h as V,i as z,A as K,t as G,F as r,m as i,q as O,I as R,k as H,B as N,a as v,U as M,o as Q,p as J}from"./app-routes-4qbA6mXx.js";import{S as X}from"./BackSVG-CQN2QbAQ.js";import{L as Y}from"./react-router-dom-Bmqp4_LK.js";import{U as Z}from"./index-DAddOC2_.js";import{L as ee,a as te}from"./LoadImageBlockWithoutLoading_types-DiwBafaW.js";import{A as ae,a as se}from"./AttachFileContainerItems-F-Mf9hF5.js";import{U as ne}from"./UseDebounce-B4wZPC3r.js";import"./@babel-13fjUkWY.js";import"./react-dom-aNADivH4.js";import"./@reduxjs-BQV_WoVf.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./react-redux-D78363SC.js";import"./use-sync-external-store-Bg1Z0G9P.js";import"./styled-components-BcVmWm4K.js";import"./primereact-nLNvjVu6.js";import"./chart.js-DKcZzhFa.js";import"./@kurkle-BZxJdD1U.js";import"./react-chartjs-2-DMscNvN2.js";import"./@mui-Dh2ADnaV.js";import"./react-is-DcfIKM1A.js";import"./clsx-B-dksMZM.js";import"./@emotion-CYu4OkFg.js";import"./hoist-non-react-statics-BzqkPicg.js";import"./stylis-FDnFs_-n.js";import"./react-transition-group-DvBm5OJO.js";import"./jss-plugin-rule-value-function-NRMjr7SR.js";import"./jss-C2YbWCDG.js";import"./is-in-browser-I-S1O4Zl.js";import"./jss-plugin-global-B2s_qxL_.js";import"./jss-plugin-nested-CvQgPwbz.js";import"./jss-plugin-camel-case-B3itHn0h.js";import"./hyphenate-style-name-HOLnhz8K.js";import"./jss-plugin-default-unit-CakodQBr.js";import"./jss-plugin-vendor-prefixer-C0RmQ0NR.js";import"./css-vendor-BK3-fMEt.js";import"./jss-plugin-props-sort-D2CdvUsV.js";import"./react-select-CLpz9WOa.js";import"./@floating-ui-RYOEkms0.js";import"./use-isomorphic-layout-effect-eSKX-Jxz.js";import"./memoize-one-BdPwpGay.js";import"./swiper-BZYHt685.js";import"./react-router-Bfa73Yvd.js";import"./@remix-run-I3CLtn5C.js";const re="_KindDeedsCreateRequestContainer_e70ns_4",ie="_KindDeedsCreateRequestContainer__wrapperAdaptive_e70ns_13",oe="_KindDeedsCreateRequestContainer__adaptiveCaptionWrapper_e70ns_17",de="_KindDeedsCreateRequestContainer__caption_e70ns_24",ue="_KindDeedsCreateRequestContainer__back_e70ns_34",_e="_KindDeedsCreateRequestContainer__inputsWrapper_e70ns_44",ce="_KindDeedsCreateRequestContainer__wrapper_e70ns_13",pe="_KindDeedsCreateRequestContainer__firstSubcaption_e70ns_60",me="_KindDeedsCreateRequestContainer__button_e70ns_73",le="_KindDeedsCreateRequestContainer__input_e70ns_44",Ce="_KindDeedsCreateRequestContainer__input__sum_e70ns_112",De="_KindDeedsCreateRequestContainer__textarea_e70ns_135",Re="_KindDeedsCreateRequestContainer__loadDocumentsWrapper_e70ns_155",n={KindDeedsCreateRequestContainer:re,KindDeedsCreateRequestContainer__wrapperAdaptive:ie,KindDeedsCreateRequestContainer__adaptiveCaptionWrapper:oe,KindDeedsCreateRequestContainer__caption:de,KindDeedsCreateRequestContainer__back:ue,KindDeedsCreateRequestContainer__inputsWrapper:_e,KindDeedsCreateRequestContainer__wrapper:ce,KindDeedsCreateRequestContainer__firstSubcaption:pe,KindDeedsCreateRequestContainer__button:me,KindDeedsCreateRequestContainer__input:le,KindDeedsCreateRequestContainer__input__sum:Ce,KindDeedsCreateRequestContainer__textarea:De,KindDeedsCreateRequestContainer__loadDocumentsWrapper:Re},qe="_Textarea_13p5b_3",Ke="_Textarea__warning_13p5b_48",E={Textarea:qe,Textarea__warning:Ke},ge=a.memo(({className:_,placeholder:s,value:o,onChange:g,isWarn:d,refTextarea:x,"data-testid":u,id:h})=>e.jsx("textarea",{id:h,"data-tesid":u,className:`${E.Textarea} ${_} ${d?E.Textarea__warning:""}`,placeholder:s,value:o,onChange:g,ref:x})),W=(_,s)=>$(_,F.CREATE_ORDER_STEP,s),xe=a.memo(({setRequestIsCreated:_})=>{const s=W(V.GET),[o,g]=a.useState(s?s.surnameInputValue:""),[d,x]=a.useState(s?s.nameInputValue:""),[u,h]=a.useState(s?s.patronymicInputValue:""),[c,B]=a.useState(s?s.organizationInputValue:""),[p,w]=a.useState(s?s.requestSumInputValue:""),[m,L]=a.useState(s?s.goalTextareaValue:""),[D,I]=a.useState([]),[P,b]=a.useState(0),f=a.useRef(null),C=a.useCallback(ne(t=>{W(V.UPDATE,t)},1e3),[]),j=a.useRef(),S=a.useMemo(()=>z.find(t=>t.route==K.KIND_DEEDS_CREATE_REQUEST).name,[]),[l,y]=Z(),T=a.useRef(),k=a.useCallback(()=>{if(!o||!d||!u||!c||!p||!D.length)return y(!0);_(!0),T.current=setTimeout(()=>{var t;(t=document.getElementById("KindDeedsRequestCreated"))==null||t.scrollIntoView({behavior:"smooth"}),clearTimeout(T.current)},G+100)},[D.length,d,c,u,p,_,y,o]);return e.jsx(A,{setFiles:I,indexedDB:j,indexedDBStoreName:S,children:e.jsxs(r,{max:!0,className:n.KindDeedsCreateRequestContainer,gap:i.matches?"15":"10",direction:"column",children:[e.jsx(O,{children:e.jsx(Y,{to:K.KIND_DEEDS,children:e.jsxs(r,{className:i.matches?n.KindDeedsCreateRequestContainer__adaptiveCaptionWrapper:"",align:"center",gap:i.matches?"5":"15",children:[e.jsx(X,{className:n.KindDeedsCreateRequestContainer__back}),e.jsx("h1",{className:n.KindDeedsCreateRequestContainer__caption,children:"Создание запроса средств"})]})})}),e.jsxs(r,{max:!0,className:i.matches?n.KindDeedsCreateRequestContainer__wrapperAdaptive:"Page__GrayBorderSecondaryWrapper",gap:"10",direction:"column",children:[e.jsx("h2",{className:`KindDeedsCreateRequestPage__subcaption 
              ${n.KindDeedsCreateRequestContainer__firstSubcaption}`,children:"Контактные данные"}),e.jsxs(r,{max:!0,className:n.KindDeedsCreateRequestContainer__wrapper,gap:i.matches?"10":"20",direction:"column",children:[e.jsxs(r,{max:!0,className:n.KindDeedsCreateRequestContainer__inputsWrapper,gap:i.matches?"10":"20",direction:"column",children:[e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:o,onChange:t=>{g(t.target.value),C({surnameInputValue:t.target.value,nameInputValue:d,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!o,placeholder:"Фамилия"}),e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:d,onChange:t=>{x(t.target.value),C({surnameInputValue:o,nameInputValue:t.target.value,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!d,placeholder:"Имя"}),e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:u,onChange:t=>{h(t.target.value),C({surnameInputValue:o,nameInputValue:d,patronymicInputValue:t.target.value,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!u,placeholder:"Отчество"})]}),e.jsxs(r,{max:!0,gap:i.matches?"5":"20",direction:"column",children:[e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Название организации/инициативы:"}),e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:c,onChange:t=>{B(t.target.value),C({surnameInputValue:o,nameInputValue:d,patronymicInputValue:u,organizationInputValue:t.target.value,requestSumInputValue:Number(p),goalTextareaValue:m})},isWarn:l&&!c,placeholder:"Организация"})]}),e.jsxs(r,{max:!0,gap:i.matches?"5":"20",direction:"column",children:[e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Цель финансирования"}),e.jsx(ge,{className:n.KindDeedsCreateRequestContainer__textarea,value:m,onChange:t=>{L(t.target.value),C({surnameInputValue:o,nameInputValue:d,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(p),goalTextareaValue:t.target.value})},isWarn:l&&!m,placeholder:"Подробно объясните, как будут использованы запрашиваемые средства и какое влияние они окажут"})]}),e.jsxs(r,{className:n.KindDeedsCreateRequestContainer__loadDocumentsWrapper,max:!0,children:[e.jsx(ee,{title:"Загрузите документы",size:te.BIG,withBG:!1,isWarn:l&&!D.length,isHovered:!0,inputRef:f,bigViewInMobile:!0}),e.jsx(ae,{inputRef:f,setInputFiles:I,InputFiles:D,setInputFileProgress:b,accept:"image/jpg, image/jpeg, image/png, image/gif",zIndex:-1,indexedDB:j.current,indexedDBStoreName:S})]}),e.jsx(se,{InputFileProgress:P,setInputFileProgress:b,setInputFiles:I,files:D,fileView:"medium",accept:"image/jpg, image/jpeg, image/png, image/gif",indexedDBName:H,indexedDBStore:S,indexedDB:j.current}),e.jsxs(r,{max:!0,gap:i.matches?"5":"20",direction:"column",children:[e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Сумма запроса"}),e.jsx(r,{max:!0,className:n.KindDeedsCreateRequestContainer__input__sum,children:e.jsx(R,{className:n.KindDeedsCreateRequestContainer__input,type:"number",value:p,onChange:t=>{w(t.target.value),C({surnameInputValue:o,nameInputValue:d,patronymicInputValue:u,organizationInputValue:c,requestSumInputValue:Number(t.target.value),goalTextareaValue:m})},isWarn:l&&!p,placeholder:"1 422 223₽"})})]})]})]}),e.jsxs(r,{max:!0,justify:"end",align:"center",children:[e.jsx(N,{to:K.KIND_DEEDS,type:v.BLACK_WITHOUT_OUTLINE,text:"Назад",className:n.KindDeedsCreateRequestContainer__button}),e.jsx(N,{type:v.RED,text:"Создать запрос",className:n.KindDeedsCreateRequestContainer__button,onClick:k})]})]})})}),he="_KindDeedsRequestCreated_vlw5c_3",Ie="_KindDeedsRequestCreated__img_vlw5c_18",je="_KindDeedsRequestCreated__caption_vlw5c_28",Se="_KindDeedsRequestCreated__desc_vlw5c_38",Ne="_KindDeedsRequestCreated__button_vlw5c_51",q={KindDeedsRequestCreated:he,KindDeedsRequestCreated__img:Ie,KindDeedsRequestCreated__caption:je,KindDeedsRequestCreated__desc:Se,KindDeedsRequestCreated__button:Ne},ve=a.memo(()=>e.jsxs(r,{className:`${q.KindDeedsRequestCreated} 
      ${i.matches?"":"Page__GrayBorderSecondaryWrapper"}`,align:"center",justify:"center",direction:"column",gap:i.matches?"0":"10",max:!0,children:[e.jsx("img",{className:q.KindDeedsRequestCreated__img,src:`${M}/KindDeeds/letterOfKindness_img.png`,alt:"Письмо с сердечком и логотипов TeleWorks"}),e.jsx("h1",{className:q.KindDeedsRequestCreated__caption,children:"Запрос создан!"}),e.jsx("p",{className:q.KindDeedsRequestCreated__desc,children:"Сейчас запрос проходит модерацию, после проверки мы пришлем вам уведомление или другая важна информация"}),e.jsx(N,{className:q.KindDeedsRequestCreated__button,text:"На главную",to:K.KIND_DEEDS,type:v.RED})]})),ht=a.memo(()=>{a.useEffect(()=>{document.querySelector("html").classList.add("KindDeedsCreateRequestPage"),document.title=`${document.title} | Создание запроса средств`},[]);const[_,s]=a.useState(!1);return e.jsx("main",{className:"Page KindDeedsCreateRequestPage__main",children:e.jsx("div",{className:"padding",children:e.jsxs(r,{max:!0,align:"center",justify:"center",className:"KindDeedsCreateRequestPage__contentWrapper",children:[e.jsx("div",{id:"KindDeedsRequestCreated",style:{position:"absolute",top:i.matches?"30vh":Q.matches?"70vh":"5vh"}}),e.jsx(U,{blocks:[{component:e.jsx(xe,{setRequestIsCreated:s}),condition:!_,id:0},{component:e.jsx(ve,{}),condition:_,id:1}],transitionDuration:J,defaultIndex:0})]})})})});export{ht as KindDeedsCreateRequestPage};
