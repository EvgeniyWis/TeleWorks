import{r as i,j as a}from"./react-GnO0LmOb.js";import{P as b,m as C}from"./app-routes-CmLnHQ2b.js";import{b as N,F as R}from"./index-D4bZW8M2.js";const M="_loadImageBlockWithoutLoading_1swml_3",E="_loadImageBlockWithoutLoading__warning_1swml_6",F="_loadImageBlockWithoutLoading__wrapper_1swml_9",$="_loadImageBlockWithoutLoading__wrapper__info_1swml_16",O="_loadImageBlockWithoutLoading__wrapperWrapper_1swml_28",P="_loadImageBlockWithoutLoading__wrapperPadding_1swml_44",S="_loadImageBlockWithoutLoading__wrapper__requirements_1swml_60",D="_loadImageBlockWithoutLoading__wrapper__img_1swml_66",V="_loadImageBlockWithoutLoading__wrapper__imgWrapper_1swml_78",q="_loadImageBlockWithoutLoading__big_1swml_85",y="_loadImageBlockWithoutLoading__medium_1swml_94",H="_loadImageBlockWithoutLoading__small_1swml_98",z="_loadImageBlockWithoutLoading__wrapper__active_1swml_102",A="_loadImageBlockWithoutLoading__wrapper__withImg_1swml_102",U="_loadImageBlockWithoutLoading__caption_1swml_114",T="_loadImageBlockWithoutLoading__desc_1swml_126",r={loadImageBlockWithoutLoading:M,loadImageBlockWithoutLoading__warning:E,loadImageBlockWithoutLoading__wrapper:F,loadImageBlockWithoutLoading__wrapper__info:$,loadImageBlockWithoutLoading__wrapperWrapper:O,loadImageBlockWithoutLoading__wrapperPadding:P,loadImageBlockWithoutLoading__wrapper__requirements:S,loadImageBlockWithoutLoading__wrapper__img:D,loadImageBlockWithoutLoading__wrapper__imgWrapper:V,loadImageBlockWithoutLoading__big:q,loadImageBlockWithoutLoading__medium:y,loadImageBlockWithoutLoading__small:H,loadImageBlockWithoutLoading__wrapper__active:z,loadImageBlockWithoutLoading__wrapper__withImg:A,loadImageBlockWithoutLoading__caption:U,loadImageBlockWithoutLoading__desc:T},j=o=>i.createElement("div",{style:{position:"relative"}},i.createElement("svg",{style:{position:"absolute",top:15,left:"11.5px",maxWidth:21,maxHeight:21},width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},i.createElement("path",{d:"M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"})),i.createElement("svg",{width:74,height:74,viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},i.createElement("path",{d:"M71 52.1111V67.2222C71 69.3087 69.3087 71 67.2222 71H6.77778C4.69139 71 3 69.3087 3 67.2222V59.6667M71 52.1111V6.77778C71 4.69139 69.3087 3 67.2222 3H6.77778C4.69139 3 3 4.69139 3 6.77778V59.6667M71 52.1111L50.1576 38.2161C49.0296 37.4639 47.585 37.374 46.3723 37.9803L3 59.6667",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"}))),Z=o=>i.createElement("svg",{width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},i.createElement("path",{d:"M32.2587 23.8535V30.5777C32.2587 31.5061 31.5061 32.2587 30.5777 32.2587H3.68104C2.75264 32.2587 2 31.5061 2 30.5777V27.2156M32.2587 23.8535V3.68104C32.2587 2.75264 31.5061 2 30.5777 2H3.68104C2.75264 2 2 2.75264 2 3.68104V27.2156M32.2587 23.8535L22.9843 17.6705C22.4823 17.3358 21.8395 17.2958 21.2999 17.5656L2 27.2156",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"}),i.createElement("path",{d:"M10.2329 15.3495C12.076 15.3495 13.5702 13.8553 13.5702 12.0122C13.5702 10.169 12.076 8.6748 10.2329 8.6748C8.3897 8.6748 6.89551 10.169 6.89551 12.0122C6.89551 13.8553 8.3897 15.3495 10.2329 15.3495Z",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"})),L="loading";var k=(o=>(o.SIZE_ERROR="Некорректный размер файла!",o.RESOLUTION_ERROR="Неправильное разрешение изображения!",o.FORMAT_ERROR="Неправильный формат файла!",o))(k||{});const G="_loadImageBlock_1bpid_1",Q="_loadImageBlock__wrapper_1bpid_6",J="_loadImageBlock__wrapper__info_1bpid_13",K="_loadImageBlock__wrapper__errors_1bpid_20",X="_loadImageBlock__wrapper__error_1bpid_20",Y="_loadImageBlock__wrapperWrapper_1bpid_33",aa="_loadImageBlock__wrapperPadding_1bpid_44",oa="_loadImageBlock__wrapper__requirements_1bpid_55",ea="_loadImageBlock__wrapper__input_1bpid_61",_a="_loadImageBlock__wrapper__img_1bpid_69",la="_loadImageBlock__wrapper__imgWrapper_1bpid_76",ra="_loadImageBlock__wrapper__loadingWrapper_1bpid_83",ia="_loadImageBlock__big_1bpid_90",ta="_loadImageBlock__medium_1bpid_94",da="_loadImageBlock__small_1bpid_98",ca="_loadImageBlock__wrapper__active_1bpid_102",ga="_loadImageBlock__wrapper__withImg_1bpid_102",na="_loadImageBlock__caption_1bpid_114",pa="_loadImageBlock__desc_1bpid_121",_={loadImageBlock:G,loadImageBlock__wrapper:Q,loadImageBlock__wrapper__info:J,loadImageBlock__wrapper__errors:K,loadImageBlock__wrapper__error:X,loadImageBlock__wrapperWrapper:Y,loadImageBlock__wrapperPadding:aa,loadImageBlock__wrapper__requirements:oa,loadImageBlock__wrapper__input:ea,loadImageBlock__wrapper__img:_a,loadImageBlock__wrapper__imgWrapper:la,loadImageBlock__wrapper__loadingWrapper:ra,loadImageBlock__big:ia,loadImageBlock__medium:ta,loadImageBlock__small:da,loadImageBlock__wrapper__active:ca,loadImageBlock__wrapper__withImg:ga,loadImageBlock__caption:na,loadImageBlock__desc:pa},I=660,B=440,h=30720,u=10485760,sa=(o,g,m)=>{const c=o>=h&&o<=u,l=g>=I&&m>=B;return!(!c||!l)},wa=i.memo(({title:o,size:g,requirements:m=!0,className:c,LoadedImage:l,setLoadedImage:t,LoadedImageErrors:n,setLoadedImageErrors:d})=>{const p=i.useRef(null),s=e=>(e.preventDefault(),!1);i.useEffect(()=>(["dragover","drop"].forEach(function(e){document.addEventListener(e,s)}),()=>{["dragover","drop"].forEach(function(e){document.removeEventListener(e,s)})}),[]);const w=e=>{var x,v;(x=p.current)==null||x.classList.remove(_.loadImageBlock__wrapper__active);const f=(v=e.dataTransfer)==null?void 0:v.files[0];if(f)if(f.type.startsWith("image/"))W(e,t,d);else return d([...n,k.FORMAT_ERROR]),!1};return a.jsxs("div",{className:`${_.loadImageBlock} ${_[`loadImageBlock__${g}`]} 
        ${c||""}`,onDragEnter:()=>{var e;return(e=p.current)==null?void 0:e.classList.add(_.loadImageBlock__wrapper__active)},onDragLeave:()=>{var e;return(e=p.current)==null?void 0:e.classList.remove(_.loadImageBlock__wrapper__active)},onDrop:w,"data-testid":"LoadImageBlock.Drag&Drop",children:[a.jsx("div",{className:`${_.loadImageBlock__wrapper} Page__SirineWrapper 
        ${l&&l!=L?_.loadImageBlock__wrapper__withImg:""}`,ref:p,children:!l||n.length?a.jsxs("label",{className:_.loadImageBlock__wrapperPadding,children:[a.jsx("div",{className:`${_.loadImageBlock__wrapperWrapper}`}),a.jsx("input",{className:_.loadImageBlock__wrapper__input,type:"file",onChange:e=>W(e,t,d,ma),accept:"image/png, image/gif, image/jpeg, image/jpg","data-testid":"LoadImageBlock.Input"}),a.jsxs("div",{className:_.loadImageBlock__wrapper__info,children:[a.jsx(j,{}),a.jsx("h4",{className:_.loadImageBlock__caption,children:o}),m&&a.jsxs("div",{className:_.loadImageBlock__wrapper__requirements,children:[a.jsxs("span",{className:_.loadImageBlock__desc,children:["Минимальный размер: ",I," х"," ",B," px"]}),a.jsxs("span",{className:_.loadImageBlock__desc,children:["Вес: ",Math.round(h/1024)," кб —"," ",Math.round(u/1048576)," Мб"]}),a.jsx("span",{className:_.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]}):l==L?a.jsx("div",{className:_.loadImageBlock__wrapper__loadingWrapper,children:a.jsx(N,{size:"small"})}):a.jsxs("label",{className:_.loadImageBlock__wrapper__imgWrapper,children:[a.jsx("img",{className:_.loadImageBlock__wrapper__img,src:l,alt:"Изображение хедера","data-testid":"LoadImageBlock.Image"}),a.jsx("input",{className:_.loadImageBlock__wrapper__input,type:"file",onChange:e=>W(e,t,d,ka),accept:"image/png, image/gif, image/jpeg, image/jpg","data-testid":"LoadImageBlock.Change"})]})}),n.length>0&&a.jsx("div",{className:_.loadImageBlock__wrapper__errors,children:n.map(e=>a.jsx("span",{"data-testid":`LoadImageBlock.Error.${e}`,className:_.loadImageBlock__wrapper__error,children:e},e))})]})}),W=(o,g,m,c)=>{var n;b?g(L):c&&g(c);const l=o.target.files||((n=o.dataTransfer)==null?void 0:n.files),t=[];if(m([]),l&&l.length){const d=new FileReader,p=l[0].size>=h&&l[0].size<=u;d.onload=function(){const s=new Image;s.src=d.result,s.onload=function(){const w=s.naturalWidth>=I&&s.naturalHeight>=B;sa(l[0].size,s.naturalWidth,s.naturalHeight)?g(d.result):(w||t.push(k.RESOLUTION_ERROR),p||t.push(k.SIZE_ERROR),m(t))}},d.readAsDataURL(l[0])}},ma="test.png",ka="test2.png",Wa=i.memo(({title:o,size:g,requirements:m=!0,className:c,withBG:l=!0,inputRef:t,isWarn:n=!1,isHovered:d=!1})=>a.jsx(R,{max:!0,direction:"column",gap:"10",className:`${r[`loadImageBlockWithoutLoading__${g}`]} ${c||""} 
          ${l?"":"Page__GrayBorderWithWhiteBGWrapper"}
          ${n?r.loadImageBlockWithoutLoading__warning:""} ${r.loadImageBlockWithoutLoading}`,onClick:()=>{var p;return(p=t==null?void 0:t.current)==null?void 0:p.click()},children:a.jsx("div",{className:`${r.loadImageBlockWithoutLoading__wrapper} ${l?"Page__SirineWrapper":""}`,children:a.jsxs("label",{className:r.loadImageBlockWithoutLoading__wrapperPadding,children:[d&&a.jsx("div",{className:`${r.loadImageBlockWithoutLoading__wrapperWrapper}`}),a.jsxs("div",{className:r.loadImageBlockWithoutLoading__wrapper__info,children:[C.matches?a.jsx(Z,{}):a.jsx(j,{}),a.jsx("h4",{className:r.loadImageBlockWithoutLoading__caption,children:o}),m&&a.jsxs("div",{className:r.loadImageBlockWithoutLoading__wrapper__requirements,children:[a.jsxs("span",{className:r.loadImageBlockWithoutLoading__desc,children:["Минимальный размер: ",I," х"," ",B," px"]}),a.jsxs("span",{className:r.loadImageBlockWithoutLoading__desc,children:["Вес: ",Math.round(h/1024)," кб —"," ",Math.round(u/1048576)," Мб"]}),a.jsx("span",{className:r.loadImageBlockWithoutLoading__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]})})}));var Ia=(o=>(o.SMALL="small",o.MEDIUM="medium",o.BIG="big",o))(Ia||{});export{Wa as L,Ia as a,wa as b,W as c};
