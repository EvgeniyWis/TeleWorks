import{r as i,j as f,a as H}from"./react-GnO0LmOb.js";import{u as V}from"./react-transition-state-D1vZXlfE.js";const E=(e,t)=>e===!0||!!(e&&e[t]),q=({transition:e,transitionTimeout:t,...n}={})=>{const o=V({timeout:t,enter:E(e,"enter"),exit:E(e,"exit"),preEnter:E(e,"preEnter"),preExit:E(e,"preExit"),...n});return{mountOnEnter:!!n.mountOnEnter,initialEntered:!!n.initialEntered,...o}},m="szh-accordion",R="szh-adn",j=`data-${R}`,g=`data-${R}-btn`,O=i.createContext({}),p=(e,t,n)=>(o,c)=>{const r=t?`${e}__${t}`:e;let s=r;n&&Object.keys(n).forEach(d=>{const l=n[d];l&&(s+=` ${r}--${l===!0?d:`${d}-${l}`}`)});let u=typeof o=="function"?o(c):o;return typeof u=="string"&&(u=u.trim(),u&&(s+=` ${u}`)),s},y=(e,t)=>{if(!t)return e;const n={...e};return Object.keys(t).forEach(o=>{const c=e[o],r=t[o];typeof r=="function"&&c?n[o]=(...s)=>{c(...s),r(...s)}:n[o]=r}),n},X=e=>f.jsx(O.Provider,{...e}),A=e=>{do e=e.parentElement;while(e&&!e.hasAttribute(j));return e},N=(e,t,n)=>e?t>0?t-1:n-1:(t+1)%n,C=(e,t)=>{const{activeElement:n}=document;if(!n||!n.hasAttribute(g)||A(n)!==t.currentTarget)return;const o=t.currentTarget.querySelectorAll(`[${g}]`),{length:c}=o;for(let r=0;r<c;r++)if(o[r]===n){let s=N(e,r,c);for(;A(o[r])!==A(o[s]);)s=N(e,s,c);r!==s&&(t.preventDefault(),o[s].focus());break}},B=()=>({accordionProps:{[j]:"",onKeyDown:t=>t.key==="ArrowUp"?C(!0,t):t.key==="ArrowDown"&&C(!1,t)}}),$=i.forwardRef(({providerValue:e,className:t,...n},o)=>{const{accordionProps:c}=B();return f.jsx(X,{value:e,children:f.jsx("div",{...y(c,n),ref:o,className:p(m)(t)})})});$.displayName="ControlledAccordion";const F=i.forwardRef(({allowMultiple:e,initialEntered:t,mountOnEnter:n,unmountOnExit:o,transition:c,transitionTimeout:r,onStateChange:s,...u},d)=>{const l=q({allowMultiple:e,initialEntered:t,mountOnEnter:n,unmountOnExit:o,transition:c,transitionTimeout:r,onStateChange:s});return f.jsx($,{...u,ref:d,providerValue:l})});F.displayName="Accordion";let G=0;const J=()=>{const[e,t]=i.useState();return i.useEffect(()=>t(++G),[]),e&&`${R}-${e}`},Q=H.useId||J,U=({state:e,toggle:t,disabled:n})=>{const o=Q(),c=o&&o+"-",r={id:o,"aria-controls":c,"aria-expanded":e.isEnter,onClick:t};return n?r.disabled=!0:r[g]="",{buttonProps:r,panelProps:{id:c,"aria-labelledby":o,role:"region"}}},Y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?i.useLayoutEffect:i.useEffect,Z=({status:e,isResolved:t})=>{const[n,o]=i.useState(),c=i.useRef(null);return Y(()=>{(e==="preEnter"||e==="preExit")&&o(c.current.getBoundingClientRect().height)},[e]),[{height:e==="preEnter"||e==="exiting"?0:e==="entering"||e==="preExit"?n:void 0,overflow:t?void 0:"hidden"},c]};function w(e,t){typeof e=="function"?e(t):e.current=t}function b(e,t){return i.useMemo(()=>e?t?n=>{w(e,n),w(t,n)}:e:t,[e,t])}const K=(e,t,n)=>{const{stateMap:o,mountOnEnter:c,initialEntered:r}=e,s=n??r;return o.get(t)||{status:s?"entered":c?"unmounted":"exited",isMounted:!c,isEnter:s,isResolved:!0}},ee=()=>i.useContext(O),te=({itemKey:e,initialEntered:t,disabled:n}={})=>{const o=i.useRef(null),c=ee(),r=e??o.current,s=K(c,r,t),{setItem:u,deleteItem:d,toggle:l}=c;return i.useEffect(()=>{if(n)return;const a=e??o.current;return u(a,{initialEntered:t}),()=>void d(a)},[u,d,e,t,n]),{itemRef:o,state:s,toggle:i.useCallback(a=>l(r,a),[l,r])}},ne=e=>{const t=i.forwardRef(({itemKey:n,initialEntered:o,...c},r)=>f.jsx(e,{forwardedRef:r,...c,...te({itemKey:n,initialEntered:o,disabled:c.disabled})}));return t.displayName="WithAccordionItem",t},v=(e,t)=>typeof e=="function"?e(t):e,T=i.memo(({forwardedRef:e,itemRef:t,state:n,toggle:o,className:c,disabled:r,header:s,headingTag:u="h3",headingProps:d,buttonProps:l,contentProps:a,panelProps:x,children:_,...S})=>{const h={state:n,toggle:o,disabled:r},{buttonProps:D,panelProps:M}=U(h),[k,L]=Z(n),P=b(x&&x.ref,L),{status:I,isMounted:W,isEnter:z}=n;return f.jsxs("div",{...S,ref:b(e,t),className:p(m,"item",{status:I,expanded:z})(c,n),children:[f.jsx(u,{...d,style:{margin:0,...d&&d.style},className:p(m,"item-heading")(d&&d.className,n),children:f.jsx("button",{...y(D,l),type:"button",className:p(m,"item-btn")(l&&l.className,n),children:v(s,h)})}),W&&f.jsx("div",{...a,style:{display:I==="exited"?"none":void 0,...k,...a&&a.style},className:p(m,"item-content")(a&&a.className,n),children:f.jsx("div",{...y(M,x),ref:P,className:p(m,"item-panel")(x&&x.className,n),children:v(_,h)})})]})});T.displayName="AccordionItem";const ce=ne(T);export{ce as A,F as a};
