import{r as a,j as e}from"./react-C3EGSwTV.js";import{L as ue,F as h,b as q,P as we,j as se,U as re,a6 as y,B as k,g as W,W as O,a7 as U,c as K,p as ke,v as We,s as Be,t as G,a8 as ne,q as De,G as Te}from"./app-routes-zXkCwipe.js";import{D as Ae,b as T,c as ge,L as Oe,a as oe,d as Le}from"./LoadImageBlockWithoutLoading_types-B9kDR_d6.js";import{S as Ue}from"./SelectDropdownIndicatorDarkBlueSVG-DRnPWYgc.js";import{a as he,U as X}from"./UseLocalStorage-Y7eeG9MN.js";import{U as le}from"./UseDebounce-B4wZPC3r.js";import{S as Ge,T as xe,M as Re,a as He}from"./ChangeSVG-VqwqDW7O.js";import{X as $e}from"./react-image-crop-BtOjskiH.js";import{U as j}from"./user-L82O7bsn.js";import{S as Ve}from"./DownloadSVG-CHiIXPp0.js";import{L as ie}from"./react-router-dom-BGdsm6zk.js";import"./@babel-13fjUkWY.js";import"./react-dom-DdwdgRbM.js";import"./primereact-CKVv_CF4.js";import"./chart.js-DKcZzhFa.js";import"./@kurkle-BZxJdD1U.js";import"./react-chartjs-2-CU1aPWW1.js";import"./@mui-DMlcxK31.js";import"./react-is-DcfIKM1A.js";import"./clsx-B-dksMZM.js";import"./@emotion-DvcORr5z.js";import"./hoist-non-react-statics-BzqkPicg.js";import"./stylis-FDnFs_-n.js";import"./react-transition-group-CP2SRup2.js";import"./jss-plugin-rule-value-function-NRMjr7SR.js";import"./jss-C2YbWCDG.js";import"./is-in-browser-I-S1O4Zl.js";import"./jss-plugin-global-B2s_qxL_.js";import"./jss-plugin-nested-CvQgPwbz.js";import"./jss-plugin-camel-case-B3itHn0h.js";import"./hyphenate-style-name-HOLnhz8K.js";import"./jss-plugin-default-unit-CakodQBr.js";import"./jss-plugin-vendor-prefixer-C0RmQ0NR.js";import"./css-vendor-BK3-fMEt.js";import"./jss-plugin-props-sort-D2CdvUsV.js";import"./react-select-CFGMc7l-.js";import"./@floating-ui-RYOEkms0.js";import"./use-isomorphic-layout-effect-CaxrrJkV.js";import"./memoize-one-BdPwpGay.js";import"./swiper--iI3_9IR.js";import"./styled-components-BI2Cnmee.js";import"./react-router-DjnSpTaD.js";import"./@remix-run-I3CLtn5C.js";import"./react-quill-new-BekiOLBF.js";import"./lodash-Bzo2tTgf.js";import"./quill-CX5mxdj9.js";import"./parchment-Crftfyop.js";import"./quill-delta-BfDkC5Jv.js";import"./fast-diff-Az_-rVRq.js";import"./lodash.clonedeep-DKoaPdoj.js";import"./lodash.isequal-DxbEemmG.js";import"./eventemitter3-DwnVOMR6.js";import"./lodash-es-BKPNmaDy.js";const Y=t=>{const[o,l]=a.useState("");return[o,l]},Q=()=>{const[t,o]=a.useState([]);return[t,o]},ze="_userEdit_1e68k_1",Fe={userEdit:ze},Ze="_userEditGeneral_1p2h9_1",qe="_userEditGeneral__headerLoadingModal_1p2h9_8",Ke="_userEditGeneral__headerImage_1p2h9_17",Xe="_userEditGeneral__headerImage__img_1p2h9_20",Ye="_userEditGeneral__avatar_1p2h9_27",Qe="_userEditGeneral__info_1p2h9_30",Je="_userEditGeneral__inputs_1p2h9_37",ea="_userEditGeneral__inputs__header_1p2h9_44",aa="_userEditGeneral__inputWrapper_1p2h9_51",ta="_userEditGeneral__inputWrapper__title_1p2h9_57",sa="_userEditGeneral__inputWrapper__input_1p2h9_63",oa="_userEditGeneral__select_1p2h9_77",E={userEditGeneral:Ze,userEditGeneral__headerLoadingModal:qe,userEditGeneral__headerImage:Ke,userEditGeneral__headerImage__img:Xe,userEditGeneral__avatar:Ye,userEditGeneral__info:Qe,userEditGeneral__inputs:Je,userEditGeneral__inputs__header:ea,userEditGeneral__inputWrapper:aa,userEditGeneral__inputWrapper__title:ta,userEditGeneral__inputWrapper__input:sa,userEditGeneral__select:oa},de=[{value:"Дизайнер",label:"Дизайнер"},{value:"Программист",label:"Программист"},{value:"Экономист",label:"Экономист"}],ce=(t,o)=>he(t,ue.USER_EDIT_GENERAL,o),ra="_HeaderLoadingModal_bc3n1_1",la="_HeaderLoadingModal__button_bc3n1_4",_a="_HeaderLoadingModal__caption_bc3n1_10",z={HeaderLoadingModal:ra,HeaderLoadingModal__button:la,HeaderLoadingModal__caption:_a},na="_LoadImageBlockSecondary_n6v40_1",ia="_LoadImageBlockSecondary__video_n6v40_5",da="_LoadImageBlockSecondary__hasImage_n6v40_5",ca="_LoadImageBlockSecondary__wrapper_n6v40_8",pa="_LoadImageBlockSecondary__wrapper__warn_n6v40_18",ma="_LoadImageBlockSecondary__wrapper__active_n6v40_21",ua="_LoadImageBlockSecondary__wrapper__withImg_n6v40_24",ga="_LoadImageBlockSecondary__wrapper__errors_n6v40_28",La="_LoadImageBlockSecondary__wrapper__error_n6v40_28",ha="_LoadImageBlockSecondary__wrapper__caption_n6v40_41",xa="_LoadImageBlockSecondary__wrapper__desc_n6v40_48",Ea="_LoadImageBlockSecondary__wrapperWrapper_n6v40_56",Sa="_LoadImageBlockSecondary__wrapperPadding_n6v40_67",Ia="_LoadImageBlockSecondary__wrapper__input_n6v40_78",fa="_LoadImageBlockSecondary__wrapper__input__video_n6v40_85",Ma="_LoadImageBlockSecondary__wrapper__input__hasImage_n6v40_90",ja="_LoadImageBlockSecondary__wrapper__img_n6v40_95",va="_LoadImageBlockSecondary__wrapper__imgWrapper_n6v40_102",Ca="_LoadImageBlockSecondary__wrapper__imgWrapper__icons_n6v40_109",ba="_LoadImageBlockSecondary__wrapper__imgWrapper__icons__circle_n6v40_114",ya="_LoadImageBlockSecondary__wrapper__loadingWrapper_n6v40_125",Pa="_LoadImageBlockSecondary__small_n6v40_137",Na="_LoadImageBlockSecondary__medium_n6v40_149",p={LoadImageBlockSecondary:na,LoadImageBlockSecondary__video:ia,LoadImageBlockSecondary__hasImage:da,LoadImageBlockSecondary__wrapper:ca,LoadImageBlockSecondary__wrapper__warn:pa,LoadImageBlockSecondary__wrapper__active:ma,LoadImageBlockSecondary__wrapper__withImg:ua,LoadImageBlockSecondary__wrapper__errors:ga,LoadImageBlockSecondary__wrapper__error:La,LoadImageBlockSecondary__wrapper__caption:ha,LoadImageBlockSecondary__wrapper__desc:xa,LoadImageBlockSecondary__wrapperWrapper:Ea,LoadImageBlockSecondary__wrapperPadding:Sa,LoadImageBlockSecondary__wrapper__input:Ia,LoadImageBlockSecondary__wrapper__input__video:fa,LoadImageBlockSecondary__wrapper__input__hasImage:Ma,LoadImageBlockSecondary__wrapper__img:ja,LoadImageBlockSecondary__wrapper__imgWrapper:va,LoadImageBlockSecondary__wrapper__imgWrapper__icons:Ca,LoadImageBlockSecondary__wrapper__imgWrapper__icons__circle:ba,LoadImageBlockSecondary__wrapper__loadingWrapper:ya,LoadImageBlockSecondary__small:Pa,LoadImageBlockSecondary__medium:Na},wa=t=>a.createElement("svg",{width:24,height:27,viewBox:"0 0 24 27",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{d:"M9.66667 13.5L14.7778 18.6111M14.7778 13.5L9.66667 18.6111M2 5.83333H22.4444M17.3333 5.83333L16.9876 4.79587C16.6524 3.79049 16.4848 3.2878 16.174 2.91614C15.8995 2.58794 15.5471 2.33391 15.149 2.17733C14.698 2 14.1683 2 13.1085 2H11.336C10.2762 2 9.7464 2 9.29548 2.17733C8.89734 2.33391 8.54488 2.58794 8.27043 2.91614C7.95962 3.2878 7.79206 3.79049 7.45693 4.79587L7.11111 5.83333M19.8889 5.83333V18.8667C19.8889 21.0136 19.8889 22.0869 19.4711 22.907C19.1036 23.6283 18.5172 24.2147 17.7959 24.5822C16.9758 25 15.9025 25 13.7556 25H10.6889C8.54202 25 7.46858 25 6.64859 24.5822C5.9273 24.2147 5.34088 23.6283 4.97336 22.907C4.55556 22.0869 4.55556 21.0136 4.55556 18.8667V5.83333",stroke:"#FF5555",strokeWidth:2.55556,strokeLinecap:"round",strokeLinejoin:"round"})),ka=Math.PI/180;async function Wa(t,o,l,d=1,s=0){const r=o.getContext("2d");if(!r)throw new Error("No 2d context");const g=t.naturalWidth/t.width,m=t.naturalHeight/t.height,n=window.devicePixelRatio;o.width=Math.floor(l.width*g*n),o.height=Math.floor(l.height*m*n),r.scale(n,n),r.imageSmoothingQuality="high";const u=l.x*g,c=l.y*m,L=s*ka,i=t.naturalWidth/2,S=t.naturalHeight/2;r.save(),r.translate(-u,-c),r.translate(i,S),r.rotate(L),r.scale(d,d),r.translate(-i,-S),r.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,t.naturalWidth,t.naturalHeight),r.restore()}let F="";function Ba(t){return new Promise(o=>{t.toBlob(o)})}async function Da(t,o,l=1,d=0){const s=document.createElement("canvas");Wa(t,s,o,l,d);const r=await Ba(s);return r?(F&&URL.revokeObjectURL(F),F=URL.createObjectURL(r),F):(console.error("Failed to create blob"),"")}const _e=a.memo(({className:t,LoadedImageErrors:o,setLoadedImage:l,setLoadedImageErrors:d,LoadedImage:s,size:r,isWarn:g})=>{const m=a.useRef(null),n=a.useRef(null),[u,c]=a.useState(),[L,i]=a.useState(),S=a.useRef(null),[x,D]=a.useState(),C=a.useCallback(async _=>{if(_.key=="Enter"&&u&&L!=null&&L.width&&L!=null&&L.height&&S.current){const M=await Da(S.current,L);D(M),l(M),c(void 0)}},[L,u,l]);a.useEffect(()=>(document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}),[C]);const[P,B]=a.useState(!1),v=a.useRef(!1);return a.useEffect(()=>{D(void 0),(async()=>{v.current=!1;const _=await fetch(s).then(M=>M.blob());v.current||(B(_.type.startsWith("video")),v.current=!0)})()},[s]),e.jsxs(Ae,{OnDragEnter:()=>{var _;return(_=m.current)==null?void 0:_.classList.add(p.LoadImageBlockSecondary__wrapper__active)},OnDragLeave:()=>{var _;return(_=m.current)==null?void 0:_.classList.remove(p.LoadImageBlockSecondary__wrapper__active)},setLoadedImage:l,setLoadedImageErrors:d,LoadedImageErrors:o,children:[e.jsxs("div",{className:`${p.LoadImageBlockSecondary} 
            ${p[`LoadImageBlockSecondary__${r}`]} 
            ${!s.startsWith("data:image")&&s&&s!=T?p.LoadImageBlockSecondary__video:""} 
            ${s&&s!=T?p.LoadImageBlockSecondary__hasImage:""} 
            ${t}`,children:[e.jsx("div",{ref:m,className:`${p.LoadImageBlockSecondary__wrapper}
              ${s&&s!=T?p.LoadImageBlockSecondary__wrapper__withImg:""}
              ${g?p.LoadImageBlockSecondary__wrapper__warn:""} 
            `,children:!s||o.length?e.jsxs("label",{className:p.LoadImageBlockSecondary__wrapperPadding,children:[e.jsx("div",{className:`${p.LoadImageBlockSecondary__wrapperWrapper}`}),e.jsxs(h,{max:!0,direction:"column",align:"center",justify:"center",children:[e.jsx("img",{src:r=="small"?`${q}/global/images/LoadImageBlockSecondary_img.png`:`${q}/global/images/LoadImageBlockSecondaryMedium_img.png`,alt:"Изображение того, как мужчина упоковывает в папку изображения"}),e.jsx("span",{className:p.LoadImageBlockSecondary__wrapper__caption,children:"Перетащите изображение или загрузите его."}),e.jsx("span",{className:p.LoadImageBlockSecondary__wrapper__desc,children:"Рекомендуемая ширина не менее 1600px. Не более 10 МБ каждое (20 МБ для видео)"}),e.jsx("span",{className:p.LoadImageBlockSecondary__wrapper__desc,children:"Используйте высокое разрешение и файлы формата (pdf, jpeg, png)"})]})]}):s==T?e.jsx("div",{className:p.LoadImageBlockSecondary__wrapper__loadingWrapper,children:e.jsx(we,{size:"small"})}):e.jsxs("label",{className:p.LoadImageBlockSecondary__wrapper__imgWrapper,children:[P?e.jsx("video",{controls:!0,className:p.LoadImageBlockSecondary__wrapper__img,src:s,preload:"none"}):e.jsx($e,{onComplete:_=>{i(_)},crop:u,onChange:_=>c(_),style:{width:"100%"},children:e.jsx("img",{className:p.LoadImageBlockSecondary__wrapper__img,src:x||s,alt:"Изображение, загруженное пользователем",ref:S})}),e.jsxs(h,{className:p.LoadImageBlockSecondary__wrapper__imgWrapper__icons,gap:"10",align:"center",children:[e.jsx(se,{onClick:()=>{n.current.click(),n.current.value=""},children:e.jsx(h,{className:p.LoadImageBlockSecondary__wrapper__imgWrapper__icons__circle,align:"center",justify:"center",children:e.jsx(Ge,{})})}),e.jsx(se,{onClick:()=>l(""),children:e.jsx(h,{className:p.LoadImageBlockSecondary__wrapper__imgWrapper__icons__circle,align:"center",justify:"center",children:e.jsx(wa,{})})})]})]})}),o.length>0&&e.jsx("div",{className:p.LoadImageBlockSecondary__wrapper__errors,children:o.map(_=>e.jsx("span",{className:p.LoadImageBlockSecondary__wrapper__error,children:_},_))})]}),e.jsx("input",{className:`${!s.startsWith("data:image")&&s&&s!=T?p.LoadImageBlockSecondary__wrapper__input__video:""} 
            ${s&&s!=T||x?p.LoadImageBlockSecondary__wrapper__input__hasImage:""}
            ${p.LoadImageBlockSecondary__wrapper__input}`,type:"file",onChange:_=>ge(_,l,d),accept:"image/png, image/gif, image/jpeg, image/jpg, video/*",onMouseEnter:()=>{var _;return s.startsWith("data:image")&&((_=m.current)==null?void 0:_.classList.add(p.LoadImageBlockSecondary__wrapper__active))},onMouseLeave:()=>{var _;s.startsWith("data:image")&&((_=m.current)==null||_.classList.remove(p.LoadImageBlockSecondary__wrapper__active))},ref:n})]})});_e.displayName="LoadImageBlockSecondary";const Ee=a.memo(({setHeaderLoadedImageFinish:t,CustomSetModalAppear:o,setModalOpen:l,HeaderLoadedImageFinish:d})=>{const[s,r]=Y();a.useEffect(()=>{r(d)},[d,r]);const[g,m]=Q(),[n,u]=re(),c=a.useCallback(()=>{s?(t(s),y(o,l)):u(!0)},[o,s,t,l,u]);return e.jsxs(h,{className:z.HeaderLoadingModal,max:!0,gap:"10",direction:"column",children:[e.jsx("h2",{className:z.HeaderLoadingModal__caption,children:"Загрузите шапку профиля"}),e.jsx(_e,{size:"small",LoadedImage:s,setLoadedImage:r,LoadedImageErrors:g,setLoadedImageErrors:m,isWarn:!s&&n}),e.jsxs(h,{max:!0,align:"center",justify:"end",children:[e.jsx(k,{className:z.HeaderLoadingModal__button,text:"Отменить",type:W.BLACK_WITHOUT_OUTLINE,onClick:()=>y(o,l)}),e.jsx(k,{className:z.HeaderLoadingModal__button,text:"Сохранить",type:W.RED,onClick:c})]})]})});Ee.displayName="HeaderLoadingModal";const Ta=()=>e.jsx(Ue,{className:Be.Select__svg}),Aa={fontFamily:"var(--second-family)",fontWeight:400,fontSize:"14px",letterSpacing:"-0.01em",lineHeight:"150%",color:"#b2b2b2"},Se=a.memo(()=>{const t=le(()=>{ce(X.UPDATE,{name:l,surname:n,profession:{value:s==null?void 0:s.value,label:s==null?void 0:s.label},tags:L})},1e3),o=ce(X.GET),[l,d]=a.useState(o?o.name:""),[s,r]=a.useState(o?o.profession:de[0]),g=b=>{r(b)},m=b=>{d(b.target.value)},[n,u]=a.useState(o?o.surname:""),c=b=>{u(b.target.value)},[L,i]=a.useState(o?o.tags:[]),[S,x]=Y(),[D,C]=Q(),{refs:P}=a.useContext($);a.useEffect(()=>{t()},[t,l,n,s,L]);const[B,v]=a.useState(!1),[_,M]=a.useState(!1),[N,ee]=a.useState(""),[ae,V]=a.useState(!1);return a.useEffect(()=>{(async()=>{const b=await fetch(N).then(Ne=>Ne.blob());V(b.type.startsWith("video"))})()},[N]),e.jsxs("div",{ref:P[j.GENERAL],className:E.userEditGeneral,children:[e.jsx("h4",{className:"UserEditPage__caption",children:"Основная информация:"}),e.jsxs(e.Fragment,{children:[N?e.jsx(e.Fragment,{children:ae?e.jsx("video",{className:E.userEditGeneral__headerImage__img,src:N,controls:!0,preload:"none",onClick:()=>v(!0)}):e.jsx("img",{className:E.userEditGeneral__headerImage__img,src:N,alt:"Изображение хедера",onClick:()=>v(!0)})}):e.jsx(Oe,{className:E.userEditGeneral__headerImage,size:oe.BIG,title:"Загрузить шапку профиля",onClick:()=>{v(!0)}}),B&&e.jsx(O,{setModalIsOpen:v,CustomSetModalAppear:M,CustomModalAppear:_,children:e.jsx(U,{className:E.userEditGeneral__headerLoadingModal,CustomSetModalAppear:M,setModalOpen:v,children:e.jsx(Ee,{HeaderLoadedImageFinish:N,CustomSetModalAppear:M,setModalOpen:v,setHeaderLoadedImageFinish:ee})})})]}),e.jsxs("div",{className:E.userEditGeneral__info,children:[e.jsx(Le,{className:E.userEditGeneral__avatar,size:oe.SMALL,title:"Загрузите аватарку",LoadedImage:S,setLoadedImage:x,LoadedImageErrors:D,setLoadedImageErrors:C}),e.jsxs("div",{className:E.userEditGeneral__inputs,children:[e.jsxs("div",{className:E.userEditGeneral__inputs__header,children:[e.jsxs("div",{className:E.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:E.userEditGeneral__inputWrapper__title,children:"Имя"}),e.jsx(K,{value:l,onChange:m,type:"text",placeholder:"Иван",className:E.userEditGeneral__inputWrapper__input})]}),e.jsxs("div",{className:E.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:E.userEditGeneral__inputWrapper__title,children:"Фамилия"}),e.jsx(K,{value:n,onChange:c,type:"text",placeholder:"Иванов",className:E.userEditGeneral__inputWrapper__input})]})]}),e.jsxs("div",{className:E.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:E.userEditGeneral__inputWrapper__title,children:"Профессия"}),e.jsx(ke,{className:E.userEditGeneral__select,selectedOptions:de,CustomDropdownIndicator:Ta,TextStyles:Aa,valueContainerPadding:We.SMALL,setState:g,DefaultSelectedOption:s})]}),e.jsxs("div",{className:E.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:E.userEditGeneral__inputWrapper__title,children:"Навыки"}),e.jsx(xe,{setSelectedTags:i,SelectedTags:L}),e.jsx("span",{className:"UserEditPage__desc",children:"Начните вводить название программ в которых вы работаете."})]})]})]})]})});Se.displayName="UserEditGeneral";const Oa="_userEditAbout_16ml2_1",Ua={userEditAbout:Oa},pe=(t,o)=>he(t,ue.USER_EDIT_ABOUT,o),Ga=100,Ra=500,Ie=a.memo(()=>{const t=pe(X.GET),[o,l]=a.useState(t||""),{refs:d}=a.useContext($),s=le(()=>{pe(X.UPDATE,o)},1e3);return a.useEffect(()=>{s()},[o,s]),e.jsxs("div",{ref:d[j.ABOUT],className:Ua.userEditAbout,children:[e.jsx("h4",{className:"UserEditPage__caption",children:"Обо мне:"}),e.jsx(Re,{minSymbolsAmount:Ga,maxSymbolsAmount:Ra,TextareaValue:o,setTextareaValue:l,placeholder:"Ваш текст..."})]})});Ie.displayName="UserEditAbout";const Ha="_changeablePortfolioCase_9djz5_1",$a="_changeablePortfolioCase__img_9djz5_12",Va="_changeablePortfolioCase__wrapper_9djz5_21",za="_changeablePortfolioCase__wrapper__header_9djz5_28",Fa="_changeablePortfolioCase__wrapper__title_9djz5_33",Za="_changeablePortfolioCase__delete_9djz5_40",qa="_changeablePortfolioCase__caseNameInput_9djz5_51",Ka="_changeablePortfolioCase__changeImg_9djz5_61",Xa="_changeablePortfolioCase__changeImg__title_9djz5_70",Ya="_changeablePortfolioCase__changeImg__input_9djz5_79",w={changeablePortfolioCase:Ha,changeablePortfolioCase__img:$a,changeablePortfolioCase__wrapper:Va,changeablePortfolioCase__wrapper__header:za,changeablePortfolioCase__wrapper__title:Fa,changeablePortfolioCase__delete:Za,changeablePortfolioCase__caseNameInput:qa,changeablePortfolioCase__changeImg:Ka,changeablePortfolioCase__changeImg__title:Xa,changeablePortfolioCase__changeImg__input:Ya},Qa=t=>a.createElement("svg",{width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4084 0.682144C14.4988 -0.22738 13.0242 -0.227383 12.1146 0.682144L1.12369 11.6731C0.798565 11.9982 0.576946 12.4123 0.486775 12.8631L0.0310148 15.142C-0.186271 16.2284 0.771595 17.1863 1.85802 16.969L4.13682 16.5132C4.58768 16.4231 5.00178 16.2014 5.32691 15.8763L16.3178 4.88535C17.2274 3.97583 17.2274 2.5012 16.3178 1.59167L15.4084 0.682144ZM13.2125 1.78004C13.5158 1.47686 14.0072 1.47686 14.3105 1.78004L15.22 2.68957C15.5232 2.99274 15.5232 3.48428 15.22 3.78746L13.1459 5.86149L11.1386 3.85407L13.2125 1.78004ZM10.0406 4.95196L2.22159 12.771C2.11321 12.8794 2.03934 13.0174 2.00928 13.1677L1.55352 15.4464L3.83232 14.9907C3.98261 14.9606 4.12064 14.8868 4.22901 14.7784L12.048 6.95938L10.0406 4.95196Z",fill:"#FF5555"})),fe=a.memo(({Case:t,setExistedCases:o,ExistedCases:l})=>{const[d,s]=Y(),[r,g]=Q();a.useEffect(()=>{t.caseImgURL&&s(t.caseImgURL)},[t.caseImgURL,s]),a.useEffect(()=>{if(t.caseImgURL!=d){const i=l.slice(),S=i.findIndex(x=>x.index==t.index);i[S].caseImgURL=d,o(i)}},[t.caseImgURL,t.index,d,l,o]);const[m,n]=a.useState(t.caseName||""),u=a.useRef(null);a.useEffect(()=>{u.current&&u.current.focus()},[]);const c=le(()=>{if(t.caseName!=m){const i=l.slice(),S=i.findIndex(x=>x.index==t.index);i[S].caseName=m,o(i)}},500),L=a.useCallback(i=>{n(i.target.value),c()},[c]);return e.jsxs("div",{className:w.changeablePortfolioCase,children:[e.jsx(Le,{className:w.changeablePortfolioCase__img,requirements:!1,size:oe.MEDIUM,LoadedImage:d,setLoadedImage:s,LoadedImageErrors:r,setLoadedImageErrors:g}),e.jsxs("div",{className:w.changeablePortfolioCase__wrapper,children:[e.jsxs("div",{className:w.changeablePortfolioCase__wrapper__header,children:[e.jsx("span",{className:w.changeablePortfolioCase__wrapper__title,children:"Название проекта"}),e.jsx("div",{onClick:()=>o(i=>i.filter(S=>S.index!==t.index)),children:e.jsx(He,{className:w.changeablePortfolioCase__delete})})]}),e.jsx(K,{type:"text",placeholder:"Кейс 1...",value:m,onChange:L,className:w.changeablePortfolioCase__caseNameInput,refInput:u}),e.jsxs("label",{className:w.changeablePortfolioCase__changeImg,children:[e.jsx(Qa,{}),e.jsx("input",{className:w.changeablePortfolioCase__changeImg__input,type:"file",accept:"image/png, image/gif, image/jpeg, image/jpg",onChange:i=>ge(i,s,g)}),e.jsxs("span",{className:w.changeablePortfolioCase__changeImg__title,children:[d?"Заменить":"Добавить"," изображение"]})]})]})]})});fe.displayName="СhangeablePortfolioCase";const Ja="_userEditPortfolio_1syle_1",et="_userEditPortfolio__CaseLoadingModal_1syle_8",at="_userEditPortfolio__LastDetailsModal_1syle_17",tt="_userEditPortfolio__ProjectWillNotSaveModal_1syle_26",st="_userEditPortfolio__header_1syle_35",ot="_userEditPortfolio__addCase_1syle_41",rt="_userEditPortfolio__cases_1syle_53",lt="_userEditPortfolio__cases__empty_1syle_59",_t="_userEditPortfolio__cases__empty__text_1syle_66",nt="_userEditPortfolio__isSavedModal_1syle_73",it="_userEditPortfolio__isSavedModalWrapper_1syle_76",dt="_userEditPortfolio__isSavedModal__caption_1syle_88",ct="_userEditPortfolio__isSavedModal__text_1syle_95",f={userEditPortfolio:Ja,userEditPortfolio__CaseLoadingModal:et,userEditPortfolio__LastDetailsModal:at,userEditPortfolio__ProjectWillNotSaveModal:tt,userEditPortfolio__header:st,userEditPortfolio__addCase:ot,userEditPortfolio__cases:rt,userEditPortfolio__cases__empty:lt,userEditPortfolio__cases__empty__text:_t,userEditPortfolio__isSavedModal:nt,userEditPortfolio__isSavedModalWrapper:it,userEditPortfolio__isSavedModal__caption:dt,userEditPortfolio__isSavedModal__text:ct},pt="_CaseLoadingModal_7hgu0_1",mt="_CaseLoadingModal__caption_7hgu0_4",ut="_CaseLoadingModal__button_7hgu0_12",Z={CaseLoadingModal:pt,CaseLoadingModal__caption:mt,CaseLoadingModal__button:ut},Me=a.memo(()=>{const[t,o]=Q(),{setLastDetailsModalIsOpen:l,setCaseLoadingModalIsOpen:d,setCaseLoadingModalAppear:s,CaseLoadedImage:r,setCaseLoadedImage:g}=a.useContext(J),[m,n]=re(),u=a.useCallback(()=>{r?(y(s,d),setTimeout(()=>{l(!0)},G)):n(!0)},[r,s,d,l,n]);return e.jsxs(h,{className:Z.CaseLoadingModal,align:"center",direction:"column",gap:"30",children:[e.jsx("h3",{className:Z.CaseLoadingModal__caption,children:"Над чем вы работали?"}),e.jsx(_e,{size:"medium",LoadedImage:r,setLoadedImage:g,LoadedImageErrors:t,setLoadedImageErrors:o,isWarn:!r&&m}),e.jsxs(h,{max:!0,justify:"end",children:[r&&e.jsx(k,{className:Z.CaseLoadingModal__button,type:W.RED_WITHOUT_OUTLINE,text:"+Добавить блок"}),e.jsx(k,{className:Z.CaseLoadingModal__button,type:W.RED,text:"Продолжить",onClick:u})]})]})});Me.displayName="CaseLoadingModal";const te=[{index:222,caseImgURL:`${q}/global/images/portfolioCase__example_img.png`,caseName:"Инфографика"}],gt="_LastDetailsModal_3xjr9_1",Lt="_LastDetailsModal__caption_3xjr9_8",ht="_LastDetailsModal__subcaption_3xjr9_14",xt="_LastDetailsModal__img_3xjr9_20",Et="_LastDetailsModal__imgWrapper_3xjr9_27",St="_LastDetailsModal__imgViews_3xjr9_32",It="_LastDetailsModal__imgViews__svg_3xjr9_37",ft="_LastDetailsModal__imgViews__text_3xjr9_44",Mt="_LastDetailsModal__download_3xjr9_51",jt="_LastDetailsModal__download__text_3xjr9_54",vt="_LastDetailsModal__input_3xjr9_61",Ct="_LastDetailsModal__tagsInput_3xjr9_69",bt="_LastDetailsModal__button_3xjr9_72",I={LastDetailsModal:gt,LastDetailsModal__caption:Lt,LastDetailsModal__subcaption:ht,LastDetailsModal__img:xt,LastDetailsModal__imgWrapper:Et,LastDetailsModal__imgViews:St,LastDetailsModal__imgViews__svg:It,LastDetailsModal__imgViews__text:ft,LastDetailsModal__download:Mt,LastDetailsModal__download__text:jt,LastDetailsModal__input:vt,LastDetailsModal__tagsInput:Ct,LastDetailsModal__button:bt},je=a.memo(()=>{const{CaseLoadedImage:t,setLastDetailsModalAppear:o,setLastDetailsModalIsOpen:l,setCaseLoadingModalIsOpen:d,setDraftIsSavedModalIsOpen:s,setDraftIsSavedModalAppear:r,setProjectIsPublishedModalAppear:g,setProjectIsPublishedModalIsOpen:m,setCaseLoadedImage:n}=a.useContext(J),u=a.useCallback(()=>{y(o,l);const _=setTimeout(()=>{d(!0),clearTimeout(_)},G)},[d,o,l]),[c,L]=a.useState(!1);a.useEffect(()=>{(async()=>{const _=await fetch(t).then(M=>M.blob());L(_.type.startsWith("video"))})()},[t]);const[i,S]=a.useState(""),[x,D]=a.useState([]),[C,P]=re(),B=a.useCallback(()=>{if(i&&x.length){y(o,l),s(!0);const _=setTimeout(()=>{n(""),clearTimeout(_)},G),M=setTimeout(()=>{y(r,s),clearTimeout(M)},ne)}else P(!0)},[i,x.length,n,r,s,o,l,P]),v=a.useCallback(()=>{if(i&&x.length){y(o,l),m(!0);const _=setTimeout(()=>{n(""),clearTimeout(_)},G),M=setTimeout(()=>{y(g,m),clearTimeout(M)},ne)}else P(!0)},[i,x.length,n,o,l,g,m,P]);return e.jsxs(h,{className:I.LastDetailsModal,children:[e.jsxs(h,{max:!0,gap:"10",direction:"column",children:[e.jsx("h2",{className:I.LastDetailsModal__caption,children:"Последшие штрихи"}),e.jsx("span",{className:I.LastDetailsModal__subcaption,children:"Выберите обложку"}),e.jsxs("div",{className:I.LastDetailsModal__imgWrapper,children:[c?e.jsx("video",{controls:!0,className:I.LastDetailsModal__img,src:t,preload:"none"}):e.jsx("img",{className:I.LastDetailsModal__img,src:t,alt:"Обложка кейса"}),e.jsxs(h,{align:"center",gap:"3",className:I.LastDetailsModal__imgViews,children:[e.jsx(De,{className:I.LastDetailsModal__imgViews__svg}),e.jsx("span",{className:I.LastDetailsModal__imgViews__text,children:"300"})]})]}),e.jsx(se,{onClick:u,className:I.LastDetailsModal__download,children:e.jsxs(h,{gap:"10",align:"center",children:[e.jsx(Ve,{}),e.jsx("span",{className:I.LastDetailsModal__download__text,children:"Обрезать/выбрать обложку"})]})})]}),e.jsxs(h,{max:!0,gap:"10",direction:"column",children:[e.jsxs(h,{gap:"5",direction:"column",max:!0,children:[e.jsx("span",{className:I.LastDetailsModal__subcaption,children:"Название проекта"}),e.jsx(K,{type:"text",placeholder:"Введите название проекта...",value:i,onChange:_=>S(_.target.value),className:I.LastDetailsModal__input,isWarn:C&&!i})]}),e.jsxs(h,{gap:"5",direction:"column",max:!0,children:[e.jsx("span",{className:I.LastDetailsModal__subcaption,children:"Инструменты"}),e.jsx(xe,{SelectedTags:x,setSelectedTags:D,inputClassname:`${I.LastDetailsModal__input} ${I.LastDetailsModal__tagsInput}`,placeholder:"Введите название программ которое использовали...",isWarn:C&&!x.length})]}),e.jsxs(h,{gap:"20",justify:"end",align:"center",max:!0,children:[e.jsx(k,{className:I.LastDetailsModal__button,type:W.BLACK_WITHOUT_OUTLINE,text:"Сохранить черновик",onClick:B}),e.jsx(k,{className:I.LastDetailsModal__button,type:W.RED,text:"Cохранить",onClick:v})]})]})]})});je.displayName="LastDetailsModal";const me=t=>a.createElement("svg",{width:78,height:78,viewBox:"0 0 78 78",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{d:"M39.0003 0C17.4954 0 0 17.4953 0 39C0 60.5047 17.4954 78 39.0003 78C60.5048 78 78 60.5047 78 39C78 17.4953 60.5048 0 39.0003 0ZM39.0003 71.6066C21.0207 71.6066 6.3934 56.9796 6.3934 39C6.3934 21.0206 21.0207 6.39344 39.0003 6.39344C56.9795 6.39344 71.6066 21.0206 71.6066 39C71.6066 56.9796 56.9795 71.6066 39.0003 71.6066Z",fill:"#FF5555"}),a.createElement("path",{d:"M56.3788 24.8829L32.5265 46.7215L21.6212 36.7369C20.3352 35.5597 18.2504 35.5597 16.9643 36.7369C15.6786 37.9144 15.6786 39.8231 16.9643 41.0006L30.1981 53.117C30.8411 53.7055 31.6838 54 32.5265 54C33.3693 54 34.212 53.7055 34.855 53.117L61.0357 29.1468C62.3214 27.9693 62.3214 26.0606 61.0357 24.8831C59.7496 23.7057 57.6646 23.7057 56.3788 24.8829Z",fill:"#FF5555"})),J=a.createContext({setCaseLoadingModalIsOpen:a.useState,setCaseLoadingModalAppear:a.useState,CaseLoadedImage:"",setCaseLoadedImage:a.useState,setLastDetailsModalIsOpen:a.useState,setLastDetailsModalAppear:a.useState,setDraftIsSavedModalIsOpen:a.useState,setDraftIsSavedModalAppear:a.useState,setProjectIsPublishedModalIsOpen:a.useState,setProjectIsPublishedModalAppear:a.useState,setProjectWillNotSaveModalIsOpen:a.useState,setProjectWillNotSaveModalAppear:a.useState}),yt="_ProjectWillNotSaveModal_1uzo6_1",Pt="_ProjectWillNotSaveModal__caption_1uzo6_4",Nt="_ProjectWillNotSaveModal__text_1uzo6_11",wt="_ProjectWillNotSaveModal__button_1uzo6_19",R={ProjectWillNotSaveModal:yt,ProjectWillNotSaveModal__caption:Pt,ProjectWillNotSaveModal__text:Nt,ProjectWillNotSaveModal__button:wt},ve=a.memo(()=>{const{setProjectWillNotSaveModalAppear:t,setProjectWillNotSaveModalIsOpen:o,setLastDetailsModalIsOpen:l}=a.useContext(J),d=a.useCallback(()=>{y(t,o);const r=setTimeout(()=>{l(!0),clearTimeout(r)},G)},[l,t,o]),s=a.useCallback(()=>{y(t,o)},[t,o]);return e.jsxs(h,{className:R.ProjectWillNotSaveModal,direction:"column",justify:"center",align:"center",gap:"10",children:[e.jsx("img",{src:`${q}/UserEditPage/ProjectWillNotSaveModal_img.png`,alt:"Парень в очках сидит в компьютере"}),e.jsx("h2",{className:R.ProjectWillNotSaveModal__caption,children:"Проект не будет сохранен!"}),e.jsx("p",{className:R.ProjectWillNotSaveModal__text,children:"Вы уверены что хотите закрыть не сохраненный проект? После его закрытия, все шаги публикации нужно повторит."}),e.jsxs(h,{max:!0,justify:"center",align:"center",children:[e.jsx(k,{className:R.ProjectWillNotSaveModal__button,text:"Отменить",type:W.BLACK_WITHOUT_OUTLINE,onClick:d}),e.jsx(k,{className:R.ProjectWillNotSaveModal__button,text:"Закрыть",type:W.RED,onClick:s})]})]})});ve.displayName="ProjectWillNotSaveModal";const Ce=a.memo(()=>{const{refs:t}=a.useContext($),[o,l]=Y(),[d,s]=a.useState(!1),[r,g]=a.useState(!1),[m,n]=a.useState(!1),[u,c]=a.useState(!1),[L,i]=a.useState(!1),[S,x]=a.useState(!1),[D,C]=a.useState(!1),[P,B]=a.useState(!1),[v,_]=a.useState(!1),[M,N]=a.useState(!1),[ee,ae]=a.useState(te),V=a.useCallback(()=>{y(c,n);const b=setTimeout(()=>{_(!0),clearTimeout(b)},G)},[]);return e.jsx(J.Provider,{value:{setCaseLoadingModalIsOpen:s,setCaseLoadingModalAppear:g,CaseLoadedImage:o,setCaseLoadedImage:l,setLastDetailsModalIsOpen:n,setLastDetailsModalAppear:c,setDraftIsSavedModalIsOpen:i,setDraftIsSavedModalAppear:x,setProjectIsPublishedModalIsOpen:C,setProjectIsPublishedModalAppear:B,setProjectWillNotSaveModalAppear:N,setProjectWillNotSaveModalIsOpen:_},children:e.jsxs("div",{ref:t[j.PORTFOLIO],className:f.userEditPortfolio,children:[d&&e.jsx(O,{setModalIsOpen:s,CustomSetModalAppear:g,CustomModalAppear:r,children:e.jsx(U,{className:f.userEditPortfolio__CaseLoadingModal,CustomSetModalAppear:g,setModalOpen:s,children:e.jsx(Me,{})})}),m&&e.jsx(O,{setModalIsOpen:n,CustomSetModalAppear:c,CustomModalAppear:u,onClose:V,children:e.jsx(U,{className:f.userEditPortfolio__LastDetailsModal,CustomSetModalAppear:c,setModalOpen:n,onClose:V,children:e.jsx(je,{})})}),v&&e.jsx(O,{setModalIsOpen:_,CustomSetModalAppear:N,CustomModalAppear:M,children:e.jsx(U,{className:f.userEditPortfolio__ProjectWillNotSaveModal,CustomSetModalAppear:N,setModalOpen:_,children:e.jsx(ve,{})})}),L&&e.jsx(O,{setModalIsOpen:i,CustomSetModalAppear:x,CustomModalAppear:S,children:e.jsx(U,{className:f.userEditPortfolio__isSavedModalWrapper,CustomSetModalAppear:x,setModalOpen:i,withoutHeader:!0,children:e.jsxs(h,{className:f.userEditPortfolio__isSavedModal,align:"center",gap:"30",max:!0,justify:"center",children:[e.jsx(me,{}),e.jsxs(h,{direction:"column",gap:"15",children:[e.jsx("span",{className:f.userEditPortfolio__isSavedModal__caption,children:"Черновик сохранен!"}),e.jsxs("p",{className:f.userEditPortfolio__isSavedModal__text,children:["Ваш черновик сохранен для дальнейшего использования в",e.jsx(ie,{to:"/",children:" вашем профиле."})]})]})]})})}),D&&e.jsx(O,{setModalIsOpen:C,CustomSetModalAppear:B,CustomModalAppear:P,children:e.jsx(U,{className:f.userEditPortfolio__isSavedModalWrapper,CustomSetModalAppear:B,setModalOpen:C,withoutHeader:!0,children:e.jsxs(h,{className:f.userEditPortfolio__isSavedModal,align:"center",gap:"30",max:!0,justify:"center",children:[e.jsx(me,{}),e.jsxs(h,{direction:"column",gap:"15",children:[e.jsx("span",{className:f.userEditPortfolio__isSavedModal__caption,children:"Проект опубликован!"}),e.jsxs("p",{className:f.userEditPortfolio__isSavedModal__text,children:["Ваш кейс сохранен для дальнейшего использования в",e.jsx(ie,{to:"/",children:" вашем профиле."})]})]})]})})}),e.jsxs("div",{className:f.userEditPortfolio__header,children:[e.jsx("h4",{className:"UserEditPage__caption",children:"Портфолио"}),e.jsx("span",{onClick:()=>s(!0),className:f.userEditPortfolio__addCase,children:"+ Добавить кейс"})]}),e.jsx("div",{className:f.userEditPortfolio__cases,children:te.length?te.map(b=>e.jsx(fe,{setExistedCases:ae,Case:b,ExistedCases:ee},b.index)):e.jsx("div",{className:f.userEditPortfolio__cases__empty,children:e.jsx("span",{className:f.userEditPortfolio__cases__empty__text,children:"Проектов ещё нет!"})})})]})})});Ce.displayName="UserEditPortfolio";const be=a.memo(()=>e.jsxs("div",{className:Fe.userEdit,children:[e.jsx(Se,{}),e.jsx(Ie,{}),e.jsx(Ce,{})]}));be.displayName="UserEdit";const kt="_userEditTabs_cz8nz_1",Wt="_userEditTabs__back_cz8nz_8",Bt="_userEditTabs__backWrapper_cz8nz_18",Dt="_userEditTabs__back__caption_cz8nz_22",Tt="_userEditTabs__tab_cz8nz_31",At="_userEditTabs__tab__active_cz8nz_45",A={userEditTabs:kt,userEditTabs__back:Wt,userEditTabs__backWrapper:Bt,userEditTabs__back__caption:Dt,userEditTabs__tab:Tt,userEditTabs__tab__active:At},Ot=t=>a.createElement("svg",{width:26,height:18,viewBox:"0 0 26 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},a.createElement("path",{d:"M1.14257 8.14234C0.668901 8.61601 0.668901 9.38399 1.14257 9.85766L8.86153 17.5766C9.33521 18.0503 10.1032 18.0503 10.5769 17.5766C11.0505 17.1029 11.0505 16.335 10.5769 15.8613L3.71556 9L10.5769 2.1387C11.0505 1.66503 11.0505 0.897053 10.5769 0.423379C10.1032 -0.0502939 9.33521 -0.0502939 8.86153 0.423379L1.14257 8.14234ZM25.4883 7.78708L2.00024 7.78708V10.2129L25.4883 10.2129V7.78708Z",fill:"#FF5555"})),ye=a.memo(()=>{const{ActiveUserEditTab:t,setActiveUserEditTab:o}=a.useContext($);return e.jsxs("div",{className:A.userEditTabs,children:[e.jsx("div",{className:A.userEditTabs__backWrapper,onClick:()=>Te("/user",2),children:e.jsxs("div",{className:A.userEditTabs__back,children:[e.jsx(Ot,{}),e.jsx("span",{className:A.userEditTabs__back__caption,children:"В профиль"})]})}),Object.keys(j).map(l=>e.jsx("span",{className:`${A.userEditTabs__tab} 
          ${t==j[l]?A.userEditTabs__tab__active:""}`,onClick:()=>o(j[l]),children:j[l]},l))]})});ye.displayName="UserEditTabs";const Ut="_userEditPageWrapper_16q5v_1",Gt="_userEditPageWrapper__wrapper_16q5v_6",Rt="_userEditPageWrapper__buttons_16q5v_15",Ht="_userEditPageWrapper__button_16q5v_15",H={userEditPageWrapper:Ut,userEditPageWrapper__wrapper:Gt,userEditPageWrapper__buttons:Rt,userEditPageWrapper__button:Ht},Pe=a.memo(()=>{const[t,o]=a.useState(j.GENERAL),l=a.useRef(null),d=a.useRef(null),s=a.useRef(null),r=a.useMemo(()=>({[j.GENERAL]:l,[j.ABOUT]:d,[j.PORTFOLIO]:s}),[]),g=a.useRef(null),m=a.useMemo(()=>({root:g.current,rootMargin:"0px",threshold:1}),[]),n=a.useRef(!0),u=a.useMemo(()=>new IntersectionObserver(([c])=>{if(c.isIntersecting){const L=Object.values(r).findIndex(i=>i.current==c.target);o(Object.keys(r)[L]),n.current=!1}},m),[m,r]);return a.useEffect(()=>{var c;n.current?r[t]&&((c=r[t].current)==null||c.scrollIntoView({behavior:"smooth",block:"start"})):n.current=!0},[t,r]),a.useEffect(()=>{for(const c in r)u.observe(r[c].current);return()=>{try{for(const c in r)u.unobserve(r[c].current)}catch{}}},[u,r]),a.useEffect(()=>{document.body.scrollIntoView(),setTimeout(()=>{n.current=!0},100)},[]),e.jsx($.Provider,{value:{ActiveUserEditTab:t,setActiveUserEditTab:o,refs:r},children:e.jsxs("div",{className:H.userEditPageWrapper,children:[e.jsxs("section",{className:H.userEditPageWrapper__wrapper,children:[e.jsx(ye,{}),e.jsx(be,{})]}),e.jsxs("div",{className:H.userEditPageWrapper__buttons,children:[e.jsx(k,{className:H.userEditPageWrapper__button,type:W.BLACK_WITHOUT_OUTLINE,text:"Вернуться в профиль"}),e.jsx(k,{className:H.userEditPageWrapper__button,type:W.RED,text:"Сохранить изменения"})]})]})})});Pe.displayName="UserEditPageWrapper";const $=a.createContext({ActiveUserEditTab:j.GENERAL,setActiveUserEditTab:a.useState,refs:{[j.GENERAL]:null,[j.ABOUT]:null,[j.PORTFOLIO]:null}}),$t=a.memo(()=>(a.useEffect(()=>{document.querySelector("html").classList.add("UserEditPage"),document.title="TeleWorks | Редактирование профиля"},[]),e.jsx("main",{className:"UserEditPage__main",children:e.jsx("div",{className:"padding",children:e.jsx(Pe,{})})})));$t.displayName="UserEditPage";export{$t as UserEditPage};
