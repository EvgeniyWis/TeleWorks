import{r as _,j as e}from"./react-CA4AiUJV.js";import{R}from"./react-quill-new-Dv8AEmum.js";import{w as L,F as E,E as M,m as y}from"./index-BFlVQC6e.js";const b="_markdownTextarea_ejuwt_3",F="_markdownTextareaWrapper_ejuwt_17",D="_markdownTextarea__textarea_ejuwt_24",O="_markdownTextarea__textarea__warn_ejuwt_34",P="_markdownTextarea__symbols_ejuwt_37",h={markdownTextarea:b,markdownTextareaWrapper:F,markdownTextarea__textarea:D,markdownTextarea__textarea__warn:O,markdownTextarea__symbols:P},H={toolbar:[["bold","italic"],[{list:"ordered"}]]},q=["bold","italic","list"],Ma=_.memo(({TextareaValue:a,setTextareaValue:n,maxSymbolsAmount:t,minSymbolsAmount:c,className:r,placeholder:p})=>{const[m,d]=_.useState(""),[o,g]=_.useState(""),[k,l]=L(),B=(w,I)=>{I.length<=t?(n(I),d(w),g(I)):(d(""),k||setTimeout(()=>{alert("Вы превысили ограничение по символам! Если хотите вернуть текст, нажмите CTRL+Z")},0),n(o),l(!0))};return _.useEffect(()=>{a==`
`&&n("")},[a,n]),_.useEffect(()=>{a&&d(a)},[]),e.jsxs("div",{className:`${h.markdownTextareaWrapper} ${r}`,children:[e.jsx(R,{className:`${h.markdownTextarea__textarea} ${k?h.markdownTextarea__textarea__warn:""}`,theme:"snow",value:m,onChange:(w,I,Na,$)=>B(w,$.getText()),formats:q,modules:H,placeholder:p}),e.jsxs("span",{className:`UserEditPage__desc ${h.markdownTextarea__symbols}`,children:[a.length," из ",t," символов (минимум"," ",c,")"]})]})}),A="_loadImageBlock__wrapper_1dwts_3",S="_loadImageBlock__wrapper__info_1dwts_10",U="_loadImageBlock__wrapperWrapper_1dwts_22",V="_loadImageBlock__wrapperPadding_1dwts_38",Z="_loadImageBlock__wrapper__requirements_1dwts_54",z="_loadImageBlock__wrapper__img_1dwts_60",G="_loadImageBlock__wrapper__imgWrapper_1dwts_72",Q="_loadImageBlock__big_1dwts_79",K="_loadImageBlock__medium_1dwts_88",J="_loadImageBlock__small_1dwts_92",X="_loadImageBlock__wrapper__active_1dwts_96",Y="_loadImageBlock__wrapper__withImg_1dwts_96",aa="_loadImageBlock__caption_1dwts_108",ea="_loadImageBlock__desc_1dwts_120",i={loadImageBlock__wrapper:A,loadImageBlock__wrapper__info:S,loadImageBlock__wrapperWrapper:U,loadImageBlock__wrapperPadding:V,loadImageBlock__wrapper__requirements:Z,loadImageBlock__wrapper__img:z,loadImageBlock__wrapper__imgWrapper:G,loadImageBlock__big:Q,loadImageBlock__medium:K,loadImageBlock__small:J,loadImageBlock__wrapper__active:X,loadImageBlock__wrapper__withImg:Y,loadImageBlock__caption:aa,loadImageBlock__desc:ea},N=a=>_.createElement("div",{style:{position:"relative"}},_.createElement("svg",{style:{position:"absolute",top:15,left:"11.5px",maxWidth:21,maxHeight:21},width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{d:"M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"})),_.createElement("svg",{width:74,height:74,viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{d:"M71 52.1111V67.2222C71 69.3087 69.3087 71 67.2222 71H6.77778C4.69139 71 3 69.3087 3 67.2222V59.6667M71 52.1111V6.77778C71 4.69139 69.3087 3 67.2222 3H6.77778C4.69139 3 3 4.69139 3 6.77778V59.6667M71 52.1111L50.1576 38.2161C49.0296 37.4639 47.585 37.374 46.3723 37.9803L3 59.6667",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"}))),_a=a=>_.createElement("svg",{width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{d:"M32.2587 23.8535V30.5777C32.2587 31.5061 31.5061 32.2587 30.5777 32.2587H3.68104C2.75264 32.2587 2 31.5061 2 30.5777V27.2156M32.2587 23.8535V3.68104C32.2587 2.75264 31.5061 2 30.5777 2H3.68104C2.75264 2 2 2.75264 2 3.68104V27.2156M32.2587 23.8535L22.9843 17.6705C22.4823 17.3358 21.8395 17.2958 21.2999 17.5656L2 27.2156",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"}),_.createElement("path",{d:"M10.2329 15.3495C12.076 15.3495 13.5702 13.8553 13.5702 12.0122C13.5702 10.169 12.076 8.6748 10.2329 8.6748C8.3897 8.6748 6.89551 10.169 6.89551 12.0122C6.89551 13.8553 8.3897 15.3495 10.2329 15.3495Z",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"})),T="loading";var f=(a=>(a.SIZE_ERROR="Некорректный размер файла!",a.RESOLUTION_ERROR="Неправильное разрешение изображения!",a.FORMAT_ERROR="Неправильный формат файла!",a))(f||{});const oa="_loadImageBlock__wrapper_1v9fm_1",ra="_loadImageBlock__wrapper__info_1v9fm_8",la="_loadImageBlock__wrapper__errors_1v9fm_15",ta="_loadImageBlock__wrapper__error_1v9fm_15",sa="_loadImageBlock__wrapperWrapper_1v9fm_28",na="_loadImageBlock__wrapperPadding_1v9fm_39",ca="_loadImageBlock__wrapper__requirements_1v9fm_50",pa="_loadImageBlock__wrapper__input_1v9fm_56",ma="_loadImageBlock__wrapper__img_1v9fm_64",da="_loadImageBlock__wrapper__imgWrapper_1v9fm_71",ga="_loadImageBlock__wrapper__loadingWrapper_1v9fm_78",ia="_loadImageBlock__big_1v9fm_85",ka="_loadImageBlock__medium_1v9fm_89",Ia="_loadImageBlock__small_1v9fm_93",wa="_loadImageBlock__wrapper__active_1v9fm_97",ua="_loadImageBlock__wrapper__withImg_1v9fm_97",Ba="_loadImageBlock__caption_1v9fm_109",ha="_loadImageBlock__desc_1v9fm_116",s={loadImageBlock__wrapper:oa,loadImageBlock__wrapper__info:ra,loadImageBlock__wrapper__errors:la,loadImageBlock__wrapper__error:ta,loadImageBlock__wrapperWrapper:sa,loadImageBlock__wrapperPadding:na,loadImageBlock__wrapper__requirements:ca,loadImageBlock__wrapper__input:pa,loadImageBlock__wrapper__img:ma,loadImageBlock__wrapper__imgWrapper:da,loadImageBlock__wrapper__loadingWrapper:ga,loadImageBlock__big:ia,loadImageBlock__medium:ka,loadImageBlock__small:Ia,loadImageBlock__wrapper__active:wa,loadImageBlock__wrapper__withImg:ua,loadImageBlock__caption:Ba,loadImageBlock__desc:ha},x=660,v=440,j=30720,C=10485760,fa=(a,n,t)=>{const c=a>=j&&a<=C,r=n>=x&&t>=v;return!(!c||!r)},ya=_.memo(({title:a,size:n,requirements:t=!0,className:c,LoadedImage:r,setLoadedImage:p,LoadedImageErrors:m,setLoadedImageErrors:d})=>{const o=_.useRef(null),g=l=>(l.preventDefault(),!1);_.useEffect(()=>(["dragover","drop"].forEach(function(l){document.addEventListener(l,g)}),()=>{["dragover","drop"].forEach(function(l){document.removeEventListener(l,g)})}),[]);const k=l=>{var w,I;(w=o.current)==null||w.classList.remove(s.loadImageBlock__wrapper__active);const B=(I=l.dataTransfer)==null?void 0:I.files[0];if(B)if(B.type.startsWith("image/"))W(l,p,d);else return d([...m,f.FORMAT_ERROR]),!1};return e.jsxs(E,{direction:"column",gap:"10",className:`${s[`loadImageBlock__${n}`]} ${c||""}`,onDragEnter:()=>{var l;return(l=o.current)==null?void 0:l.classList.add(s.loadImageBlock__wrapper__active)},onDragLeave:()=>{var l;return(l=o.current)==null?void 0:l.classList.remove(s.loadImageBlock__wrapper__active)},onDrop:k,children:[e.jsx("div",{className:`${s.loadImageBlock__wrapper} Page__SirineWrapper 
        ${r&&r!=T?s.loadImageBlock__wrapper__withImg:""}`,ref:o,children:!r||m.length?e.jsxs("label",{className:s.loadImageBlock__wrapperPadding,children:[e.jsx("div",{className:`${s.loadImageBlock__wrapperWrapper}`}),e.jsx("input",{className:s.loadImageBlock__wrapper__input,type:"file",onChange:l=>W(l,p,d),accept:"image/png, image/gif, image/jpeg, image/jpg"}),e.jsxs("div",{className:s.loadImageBlock__wrapper__info,children:[e.jsx(N,{}),e.jsx("h4",{className:s.loadImageBlock__caption,children:a}),t&&e.jsxs("div",{className:s.loadImageBlock__wrapper__requirements,children:[e.jsxs("span",{className:s.loadImageBlock__desc,children:["Минимальный размер: ",x," х"," ",v," px"]}),e.jsxs("span",{className:s.loadImageBlock__desc,children:["Вес: ",Math.round(j/1024)," кб —"," ",Math.round(C/1048576)," Мб"]}),e.jsx("span",{className:s.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]}):r==T?e.jsx("div",{className:s.loadImageBlock__wrapper__loadingWrapper,children:e.jsx(M,{size:"small"})}):e.jsxs("label",{className:s.loadImageBlock__wrapper__imgWrapper,children:[e.jsx("img",{className:s.loadImageBlock__wrapper__img,src:r,alt:"Изображение хедера"}),e.jsx("input",{className:s.loadImageBlock__wrapper__input,type:"file",onChange:l=>W(l,p,d),accept:"image/png, image/gif, image/jpeg, image/jpg"})]})}),m.length>0&&e.jsx("div",{className:s.loadImageBlock__wrapper__errors,children:m.map(l=>e.jsx("span",{className:s.loadImageBlock__wrapper__error,children:l},l))})]})}),W=(a,n,t)=>{var p;n(T);const c=a.target.files||((p=a.dataTransfer)==null?void 0:p.files),r=[];if(t([]),c&&c.length){const m=new FileReader,d=c[0].size>=j&&c[0].size<=C;m.onload=function(){const o=new Image;o.src=m.result,o.onload=function(){const g=o.naturalWidth>=x&&o.naturalHeight>=v;fa(c[0].size,o.naturalWidth,o.naturalHeight)?n(m.result):(g||r.push(f.RESOLUTION_ERROR),d||r.push(f.SIZE_ERROR),t(r))}},m.readAsDataURL(c[0])}},ba=_.memo(({title:a,size:n,requirements:t=!0,className:c,withBG:r=!0,inputRef:p})=>e.jsx(E,{direction:"column",gap:"10",className:`${i[`loadImageBlock__${n}`]} ${c||""} ${r?"":"Page__GrayBorderWithWhiteBGWrapper"}`,onClick:()=>{var m;return(m=p==null?void 0:p.current)==null?void 0:m.click()},children:e.jsx("div",{className:`${i.loadImageBlock__wrapper} ${r?"Page__SirineWrapper":""}`,children:e.jsxs("label",{className:i.loadImageBlock__wrapperPadding,children:[e.jsx("div",{className:`${i.loadImageBlock__wrapperWrapper}`}),e.jsxs("div",{className:i.loadImageBlock__wrapper__info,children:[y.matches?e.jsx(_a,{}):e.jsx(N,{}),e.jsx("h4",{className:i.loadImageBlock__caption,children:a}),t&&e.jsxs("div",{className:i.loadImageBlock__wrapper__requirements,children:[e.jsxs("span",{className:i.loadImageBlock__desc,children:["Минимальный размер: ",x," х"," ",v," px"]}),e.jsxs("span",{className:i.loadImageBlock__desc,children:["Вес: ",Math.round(j/1024)," кб —"," ",Math.round(C/1048576)," Мб"]}),e.jsx("span",{className:i.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]})})}));var xa=(a=>(a.SMALL="small",a.MEDIUM="medium",a.BIG="big",a))(xa||{});const va="_TagsInput__tagsInput_upmjh_3",ja="_TagsInput__tagsInputWrapper_upmjh_26",Ca="_TagsInput__tag_upmjh_3",Wa="_TagsInput__tag__text_upmjh_64",Ta="_TagsInput__tag__delete_upmjh_75",u={TagsInput__tagsInput:va,TagsInput__tagsInputWrapper:ja,TagsInput__tag:Ca,TagsInput__tag__text:Wa,TagsInput__tag__delete:Ta},Ea=a=>_.createElement("svg",{width:7,height:7,viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},_.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.869 0.790865C6.95401 0.702851 7.00105 0.58497 6.99998 0.462612C6.99892 0.340253 6.94984 0.223207 6.86332 0.136684C6.77679 0.0501599 6.65975 0.0010809 6.53739 1.76411e-05C6.41503 -0.00104562 6.29715 0.0459919 6.20913 0.130999L3.50573 2.8344L0.802334 0.130999C0.71432 0.0459919 0.596439 -0.00104562 0.474081 1.76411e-05C0.351722 0.0010809 0.234676 0.0501599 0.148153 0.136684C0.0616287 0.223207 0.0125498 0.340253 0.0114865 0.462612C0.0104232 0.58497 0.0574608 0.702851 0.142468 0.790865L2.84587 3.49427L0.142468 6.19766C0.0978965 6.24071 0.0623447 6.29221 0.0378872 6.34914C0.0134297 6.40608 0.000556068 6.46731 1.762e-05 6.52928C-0.000520828 6.59124 0.0112865 6.65269 0.0347509 6.71004C0.0582154 6.7674 0.0928668 6.8195 0.136683 6.86332C0.1805 6.90713 0.232604 6.94178 0.289956 6.96525C0.347308 6.98871 0.408758 7.00052 0.470722 6.99998C0.532685 6.99944 0.593921 6.98657 0.650856 6.96211C0.707792 6.93765 0.759286 6.9021 0.802334 6.85753L3.50573 4.15413L6.20913 6.85753C6.29715 6.94254 6.41503 6.98958 6.53739 6.98851C6.65975 6.98745 6.77679 6.93837 6.86332 6.85185C6.94984 6.76532 6.99892 6.64828 6.99998 6.52592C7.00105 6.40356 6.95401 6.28568 6.869 6.19766L4.1656 3.49427L6.869 0.790865Z",fill:"#FF5555"})),Fa=_.memo(({SelectedTags:a,setSelectedTags:n})=>{const[t,c]=_.useState(""),r=_.useRef(null),p=_.useCallback(o=>{o.preventDefault(),o.keyCode===13&&t&&document.activeElement==r.current&&(a.includes(t)||(n([...a,t]),c(""),r.current.focus()))},[a,t,n]);_.useEffect(()=>{document.activeElement==r.current&&t?document.addEventListener("keyup",p):document.removeEventListener("keyup",p)},[document.activeElement,t]),_.useEffect(()=>()=>{document.removeEventListener("keyup",p)},[p]);const m=_.useCallback(o=>{n(a.filter(g=>g!=o)),r.current.focus()},[a,n]),d=_.useCallback(o=>{if(document.activeElement==r.current&&!t){const g=o.keyCode||o.charCode;if(g==8||g==46){const k=a.slice();k.pop(),n(k)}}},[a,t,n]);return _.useEffect(()=>(document.addEventListener("keydown",d),()=>{document.removeEventListener("keydown",d)}),[d]),e.jsxs("div",{className:u.TagsInput__tagsInputWrapper,children:[a.map(o=>e.jsxs("div",{className:u.TagsInput__tag,children:[e.jsx("span",{className:u.TagsInput__tag__text,children:o}),e.jsx("div",{onClick:()=>m(o),className:u.TagsInput__tag__delete,children:e.jsx(Ea,{})})]},o)),e.jsx("input",{className:u.TagsInput__tagsInput,type:"text",value:t,onChange:o=>c(o.target.value),ref:r,placeholder:"Добавьте теги..."})]})});export{ba as L,Ma as M,Ea as S,Fa as T,xa as a,ya as b,W as c};
