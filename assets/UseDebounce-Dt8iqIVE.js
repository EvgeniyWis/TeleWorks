import{r as t,j as a}from"./react-GnO0LmOb.js";import{P as C,j as N,F as R,m as M}from"./app-routes-yP4qHj39.js";const E="_loadImageBlockWithoutLoading_1swml_3",F="_loadImageBlockWithoutLoading__warning_1swml_6",$="_loadImageBlockWithoutLoading__wrapper_1swml_9",O="_loadImageBlockWithoutLoading__wrapper__info_1swml_16",P="_loadImageBlockWithoutLoading__wrapperWrapper_1swml_28",S="_loadImageBlockWithoutLoading__wrapperPadding_1swml_44",D="_loadImageBlockWithoutLoading__wrapper__requirements_1swml_60",V="_loadImageBlockWithoutLoading__wrapper__img_1swml_66",q="_loadImageBlockWithoutLoading__wrapper__imgWrapper_1swml_78",y="_loadImageBlockWithoutLoading__big_1swml_85",H="_loadImageBlockWithoutLoading__medium_1swml_94",U="_loadImageBlockWithoutLoading__small_1swml_98",T="_loadImageBlockWithoutLoading__wrapper__active_1swml_102",z="_loadImageBlockWithoutLoading__wrapper__withImg_1swml_102",A="_loadImageBlockWithoutLoading__caption_1swml_114",Z="_loadImageBlockWithoutLoading__desc_1swml_126",r={loadImageBlockWithoutLoading:E,loadImageBlockWithoutLoading__warning:F,loadImageBlockWithoutLoading__wrapper:$,loadImageBlockWithoutLoading__wrapper__info:O,loadImageBlockWithoutLoading__wrapperWrapper:P,loadImageBlockWithoutLoading__wrapperPadding:S,loadImageBlockWithoutLoading__wrapper__requirements:D,loadImageBlockWithoutLoading__wrapper__img:V,loadImageBlockWithoutLoading__wrapper__imgWrapper:q,loadImageBlockWithoutLoading__big:y,loadImageBlockWithoutLoading__medium:H,loadImageBlockWithoutLoading__small:U,loadImageBlockWithoutLoading__wrapper__active:T,loadImageBlockWithoutLoading__wrapper__withImg:z,loadImageBlockWithoutLoading__caption:A,loadImageBlockWithoutLoading__desc:Z},b=o=>t.createElement("div",{style:{position:"relative"}},t.createElement("svg",{style:{position:"absolute",top:15,left:"11.5px",maxWidth:21,maxHeight:21},width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},t.createElement("path",{d:"M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"})),t.createElement("svg",{width:74,height:74,viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},t.createElement("path",{d:"M71 52.1111V67.2222C71 69.3087 69.3087 71 67.2222 71H6.77778C4.69139 71 3 69.3087 3 67.2222V59.6667M71 52.1111V6.77778C71 4.69139 69.3087 3 67.2222 3H6.77778C4.69139 3 3 4.69139 3 6.77778V59.6667M71 52.1111L50.1576 38.2161C49.0296 37.4639 47.585 37.374 46.3723 37.9803L3 59.6667",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"}))),G=o=>t.createElement("svg",{width:34,height:34,viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o},t.createElement("path",{d:"M32.2587 23.8535V30.5777C32.2587 31.5061 31.5061 32.2587 30.5777 32.2587H3.68104C2.75264 32.2587 2 31.5061 2 30.5777V27.2156M32.2587 23.8535V3.68104C32.2587 2.75264 31.5061 2 30.5777 2H3.68104C2.75264 2 2 2.75264 2 3.68104V27.2156M32.2587 23.8535L22.9843 17.6705C22.4823 17.3358 21.8395 17.2958 21.2999 17.5656L2 27.2156",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"}),t.createElement("path",{d:"M10.2329 15.3495C12.076 15.3495 13.5702 13.8553 13.5702 12.0122C13.5702 10.169 12.076 8.6748 10.2329 8.6748C8.3897 8.6748 6.89551 10.169 6.89551 12.0122C6.89551 13.8553 8.3897 15.3495 10.2329 15.3495Z",stroke:"#FF5555",strokeWidth:2.1917,strokeLinejoin:"round"})),f="loading";var k=(o=>(o.SIZE_ERROR="Некорректный размер файла!",o.RESOLUTION_ERROR="Неправильное разрешение изображения!",o.FORMAT_ERROR="Неправильный формат файла!",o))(k||{});const Q="_loadImageBlock_1bpid_1",J="_loadImageBlock__wrapper_1bpid_6",K="_loadImageBlock__wrapper__info_1bpid_13",X="_loadImageBlock__wrapper__errors_1bpid_20",Y="_loadImageBlock__wrapper__error_1bpid_20",aa="_loadImageBlock__wrapperWrapper_1bpid_33",oa="_loadImageBlock__wrapperPadding_1bpid_44",ea="_loadImageBlock__wrapper__requirements_1bpid_55",_a="_loadImageBlock__wrapper__input_1bpid_61",la="_loadImageBlock__wrapper__img_1bpid_69",ra="_loadImageBlock__wrapper__imgWrapper_1bpid_76",ta="_loadImageBlock__wrapper__loadingWrapper_1bpid_83",ia="_loadImageBlock__big_1bpid_90",da="_loadImageBlock__medium_1bpid_94",ca="_loadImageBlock__small_1bpid_98",ga="_loadImageBlock__wrapper__active_1bpid_102",na="_loadImageBlock__wrapper__withImg_1bpid_102",pa="_loadImageBlock__caption_1bpid_114",sa="_loadImageBlock__desc_1bpid_121",_={loadImageBlock:Q,loadImageBlock__wrapper:J,loadImageBlock__wrapper__info:K,loadImageBlock__wrapper__errors:X,loadImageBlock__wrapper__error:Y,loadImageBlock__wrapperWrapper:aa,loadImageBlock__wrapperPadding:oa,loadImageBlock__wrapper__requirements:ea,loadImageBlock__wrapper__input:_a,loadImageBlock__wrapper__img:la,loadImageBlock__wrapper__imgWrapper:ra,loadImageBlock__wrapper__loadingWrapper:ta,loadImageBlock__big:ia,loadImageBlock__medium:da,loadImageBlock__small:ca,loadImageBlock__wrapper__active:ga,loadImageBlock__wrapper__withImg:na,loadImageBlock__caption:pa,loadImageBlock__desc:sa},I=660,B=440,h=30720,u=10485760,ma=(o,i,g)=>{const n=o>=h&&o<=u,l=i>=I&&g>=B;return!(!n||!l)},wa=t.memo(({title:o,size:i,requirements:g=!0,className:n,LoadedImage:l,setLoadedImage:d,LoadedImageErrors:p,setLoadedImageErrors:c})=>{const s=t.useRef(null),m=e=>(e.preventDefault(),!1);t.useEffect(()=>(["dragover","drop"].forEach(function(e){document.addEventListener(e,m)}),()=>{["dragover","drop"].forEach(function(e){document.removeEventListener(e,m)})}),[]);const w=e=>{var v,j;(v=s.current)==null||v.classList.remove(_.loadImageBlock__wrapper__active);const x=(j=e.dataTransfer)==null?void 0:j.files[0];if(x)if(x.type.startsWith("image/"))W(e,d,c);else return c([...p,k.FORMAT_ERROR]),!1};return a.jsxs("div",{className:`${_.loadImageBlock} ${_[`loadImageBlock__${i}`]} 
        ${n||""}`,onDragEnter:()=>{var e;return(e=s.current)==null?void 0:e.classList.add(_.loadImageBlock__wrapper__active)},onDragLeave:()=>{var e;return(e=s.current)==null?void 0:e.classList.remove(_.loadImageBlock__wrapper__active)},onDrop:w,"data-testid":"LoadImageBlock.Drag&Drop",children:[a.jsx("div",{className:`${_.loadImageBlock__wrapper} Page__SirineWrapper 
        ${l&&l!=f?_.loadImageBlock__wrapper__withImg:""}`,ref:s,children:!l||p.length?a.jsxs("label",{className:_.loadImageBlock__wrapperPadding,children:[a.jsx("div",{className:`${_.loadImageBlock__wrapperWrapper}`}),a.jsx("input",{className:_.loadImageBlock__wrapper__input,type:"file",onChange:e=>W(e,d,c,ka),accept:"image/png, image/gif, image/jpeg, image/jpg","data-testid":"LoadImageBlock.Input"}),a.jsxs("div",{className:_.loadImageBlock__wrapper__info,children:[a.jsx(b,{}),a.jsx("h4",{className:_.loadImageBlock__caption,children:o}),g&&a.jsxs("div",{className:_.loadImageBlock__wrapper__requirements,children:[a.jsxs("span",{className:_.loadImageBlock__desc,children:["Минимальный размер: ",I," х"," ",B," px"]}),a.jsxs("span",{className:_.loadImageBlock__desc,children:["Вес: ",Math.round(h/1024)," кб —"," ",Math.round(u/1048576)," Мб"]}),a.jsx("span",{className:_.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]}):l==f?a.jsx("div",{className:_.loadImageBlock__wrapper__loadingWrapper,children:a.jsx(C,{size:"small"})}):a.jsxs("label",{className:_.loadImageBlock__wrapper__imgWrapper,children:[a.jsx("img",{className:_.loadImageBlock__wrapper__img,src:l,alt:"Изображение хедера","data-testid":"LoadImageBlock.Image"}),a.jsx("input",{className:_.loadImageBlock__wrapper__input,type:"file",onChange:e=>W(e,d,c,Ia),accept:"image/png, image/gif, image/jpeg, image/jpg","data-testid":"LoadImageBlock.Change"})]})}),p.length>0&&a.jsx("div",{className:_.loadImageBlock__wrapper__errors,children:p.map(e=>a.jsx("span",{"data-testid":`LoadImageBlock.Error.${e}`,className:_.loadImageBlock__wrapper__error,children:e},e))})]})}),W=(o,i,g,n)=>{var p;N?i(f):n&&i(n);const l=o.target.files||((p=o.dataTransfer)==null?void 0:p.files),d=[];if(g([]),l&&l.length){const c=new FileReader,s=l[0].size>=h&&l[0].size<=u;c.onload=function(){const m=new Image;m.src=c.result,m.onload=function(){const w=m.naturalWidth>=I&&m.naturalHeight>=B;ma(l[0].size,m.naturalWidth,m.naturalHeight)?i(c.result):(w||d.push(k.RESOLUTION_ERROR),s||d.push(k.SIZE_ERROR),g(d))}},c.readAsDataURL(l[0])}},ka="test.png",Ia="test2.png",Wa=t.memo(({title:o,size:i,requirements:g=!0,className:n,withBG:l=!0,inputRef:d,isWarn:p=!1,isHovered:c=!1})=>a.jsx(R,{max:!0,direction:"column",gap:"10",className:`${r[`loadImageBlockWithoutLoading__${i}`]} ${n||""} 
          ${l?"":"Page__GrayBorderWithWhiteBGWrapper"}
          ${p?r.loadImageBlockWithoutLoading__warning:""} ${r.loadImageBlockWithoutLoading}`,onClick:()=>{var s;return(s=d==null?void 0:d.current)==null?void 0:s.click()},children:a.jsx("div",{className:`${r.loadImageBlockWithoutLoading__wrapper} ${l?"Page__SirineWrapper":""}`,children:a.jsxs("label",{className:r.loadImageBlockWithoutLoading__wrapperPadding,children:[c&&a.jsx("div",{className:`${r.loadImageBlockWithoutLoading__wrapperWrapper}`}),a.jsxs("div",{className:r.loadImageBlockWithoutLoading__wrapper__info,children:[M.matches?a.jsx(G,{}):a.jsx(b,{}),a.jsx("h4",{className:r.loadImageBlockWithoutLoading__caption,children:o}),g&&a.jsxs("div",{className:r.loadImageBlockWithoutLoading__wrapper__requirements,children:[a.jsxs("span",{className:r.loadImageBlockWithoutLoading__desc,children:["Минимальный размер: ",I," х"," ",B," px"]}),a.jsxs("span",{className:r.loadImageBlockWithoutLoading__desc,children:["Вес: ",Math.round(h/1024)," кб —"," ",Math.round(u/1048576)," Мб"]}),a.jsx("span",{className:r.loadImageBlockWithoutLoading__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]})})}));var Ba=(o=>(o.SMALL="small",o.MEDIUM="medium",o.BIG="big",o))(Ba||{});let L;function La(o,i){return(...g)=>{L&&clearTimeout(L),L=setTimeout(()=>{o(...g)},i)}}export{Wa as L,La as U,Ba as a,wa as b,W as c};
