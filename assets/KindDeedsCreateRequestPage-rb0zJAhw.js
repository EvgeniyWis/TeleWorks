import{r as a,j as e}from"./react-GnO0LmOb.js";import{I as k,T as U}from"./TransitionBetweenBlocks-DUP8KDKb.js";import{H as $,L as A,h as V,i as F,A as q,t as z,F as u,q as G,I as D,k as O,B as S,a as N,U as H,o as M,p as Q}from"./app-routes-C4n3CW9s.js";import{S as J}from"./BackSVG-jUZplsqU.js";import{L as X}from"./react-router-dom-QUkaKMPq.js";import{U as Y}from"./index-2FZNO8MH.js";import{L as Z,a as ee}from"./LoadImageBlockWithoutLoading_types-ChwGlFsh.js";import{A as te,a as ae}from"./AttachFileContainerItems-C4OjNvHG.js";import{U as se}from"./UseDebounce-B4wZPC3r.js";import"./@babel-BoqLWp7i.js";import"./react-dom-D4eIH3yJ.js";import"./react-share-social-DgRi0E-b.js";import"./react-is-DcfIKM1A.js";import"./clsx-B-dksMZM.js";import"./@emotion-C_ibbh6v.js";import"./hoist-non-react-statics-DWNbBR1I.js";import"./stylis-FDnFs_-n.js";import"./react-transition-group-CzWA12An.js";import"./@popperjs-BQBsAJpH.js";import"./@mui-DtOm6wgI.js";import"./jss-plugin-rule-value-function-P3FhxEwN.js";import"./jss-DAkgY5qt.js";import"./is-in-browser-I-S1O4Zl.js";import"./jss-plugin-global-SbrwI9VQ.js";import"./jss-plugin-nested-mmogzEqH.js";import"./jss-plugin-camel-case-B3itHn0h.js";import"./hyphenate-style-name-HOLnhz8K.js";import"./jss-plugin-default-unit-zsTukSBu.js";import"./jss-plugin-vendor-prefixer-Dq8p7DI_.js";import"./css-vendor-v3ZYP5j7.js";import"./jss-plugin-props-sort-D2CdvUsV.js";import"./react-share-CbqYIZxE.js";import"./classnames-DTKT5ssy.js";import"./jsonp-Daw0h_Hj.js";import"./@reduxjs-BCqweWi6.js";import"./redux-DITMfSWq.js";import"./immer-fBqQtvEc.js";import"./redux-thunk-ClJT1hhx.js";import"./reselect-C27TLnWV.js";import"./react-redux-DfXJ0qGx.js";import"./use-sync-external-store-9xXU9FlP.js";import"./styled-components-CkumfAB6.js";import"./primereact-CaVLV2bU.js";import"./chart.js-DKcZzhFa.js";import"./@kurkle-BZxJdD1U.js";import"./react-chartjs-2-C2kzdvfa.js";import"./react-select-DExkn266.js";import"./@floating-ui-RYOEkms0.js";import"./use-isomorphic-layout-effect-SVXGVfvv.js";import"./memoize-one-BdPwpGay.js";import"./swiper-CZB9Z16M.js";import"./react-router-B2pE81Sw.js";import"./@remix-run-I3CLtn5C.js";const ne="_KindDeedsCreateRequestContainer_147wh_2",re="_KindDeedsCreateRequestContainer__caption_147wh_9",ie="_KindDeedsCreateRequestContainer__back_147wh_14",oe="_KindDeedsCreateRequestContainer__inputsWrapper_147wh_18",ue="_KindDeedsCreateRequestContainer__wrapper_147wh_21",de="_KindDeedsCreateRequestContainer__firstSubcaption_147wh_24",_e="_KindDeedsCreateRequestContainer__button_147wh_30",ce="_KindDeedsCreateRequestContainer__input_147wh_18",me="_KindDeedsCreateRequestContainer__input__sum_147wh_48",pe="_KindDeedsCreateRequestContainer__textarea_147wh_64",le="_KindDeedsCreateRequestContainer__loadDocumentsWrapper_147wh_73",n={KindDeedsCreateRequestContainer:ne,KindDeedsCreateRequestContainer__caption:re,KindDeedsCreateRequestContainer__back:ie,KindDeedsCreateRequestContainer__inputsWrapper:oe,KindDeedsCreateRequestContainer__wrapper:ue,KindDeedsCreateRequestContainer__firstSubcaption:de,KindDeedsCreateRequestContainer__button:_e,KindDeedsCreateRequestContainer__input:ce,KindDeedsCreateRequestContainer__input__sum:me,KindDeedsCreateRequestContainer__textarea:pe,KindDeedsCreateRequestContainer__loadDocumentsWrapper:le},Ce="_Textarea_orfq3_3",De="_Textarea__warning_orfq3_48",v={Textarea:Ce,Textarea__warning:De},Re=a.memo(({className:d,placeholder:s,value:r,onChange:g,isWarn:i,refTextarea:x,"data-testid":o,id:K})=>e.jsx("textarea",{id:K,"data-tesid":o,className:`${v.Textarea} ${d} ${i?v.Textarea__warning:""}`,placeholder:s,value:r,onChange:g,ref:x})),E=(d,s)=>$(d,A.CREATE_ORDER_STEP,s),qe=a.memo(({setRequestIsCreated:d})=>{const s=E(V.GET),[r,g]=a.useState(s?s.surnameInputValue:""),[i,x]=a.useState(s?s.nameInputValue:""),[o,K]=a.useState(s?s.patronymicInputValue:""),[_,w]=a.useState(s?s.organizationInputValue:""),[c,B]=a.useState(s?s.requestSumInputValue:""),[m,W]=a.useState(s?s.goalTextareaValue:""),[C,h]=a.useState([]),[L,b]=a.useState(0),f=a.useRef(null),l=a.useCallback(se(t=>{E(V.UPDATE,t)},1e3),[]),I=a.useRef(),j=a.useMemo(()=>F.find(t=>t.route==q.KIND_DEEDS_CREATE_REQUEST).name,[]),[p,T]=Y(),y=a.useRef(),P=a.useCallback(()=>{if(!r||!i||!o||!_||!c||!C.length)return T(!0);d(!0),y.current=setTimeout(()=>{var t;(t=document.getElementById("KindDeedsRequestCreated"))==null||t.scrollIntoView({behavior:"smooth"}),clearTimeout(y.current)},z+100)},[C.length,i,_,o,c,d,T,r]);return e.jsx(k,{setFiles:h,indexedDB:I,indexedDBStoreName:j,children:e.jsxs(u,{max:!0,className:n.KindDeedsCreateRequestContainer,gap:"15",direction:"column",children:[e.jsx(G,{children:e.jsx(X,{to:q.KIND_DEEDS,children:e.jsxs(u,{align:"center",gap:"15",children:[e.jsx(J,{className:n.KindDeedsCreateRequestContainer__back}),e.jsx("h1",{className:n.KindDeedsCreateRequestContainer__caption,children:"Создание запроса средств"})]})})}),e.jsxs(u,{max:!0,className:"Page__GrayBorderSecondaryWrapper",gap:"10",direction:"column",children:[e.jsx("h2",{className:`KindDeedsCreateRequestPage__subcaption 
              ${n.KindDeedsCreateRequestContainer__firstSubcaption}`,children:"Контактные данные"}),e.jsxs(u,{max:!0,className:n.KindDeedsCreateRequestContainer__wrapper,gap:"20",direction:"column",children:[e.jsxs(u,{max:!0,className:n.KindDeedsCreateRequestContainer__inputsWrapper,gap:"20",direction:"column",children:[e.jsx(D,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:r,onChange:t=>{g(t.target.value),l({surnameInputValue:t.target.value,nameInputValue:i,patronymicInputValue:o,organizationInputValue:_,requestSumInputValue:Number(c),goalTextareaValue:m})},isWarn:p&&!r,placeholder:"Фамилия"}),e.jsx(D,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:i,onChange:t=>{x(t.target.value),l({surnameInputValue:r,nameInputValue:t.target.value,patronymicInputValue:o,organizationInputValue:_,requestSumInputValue:Number(c),goalTextareaValue:m})},isWarn:p&&!i,placeholder:"Имя"}),e.jsx(D,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:o,onChange:t=>{K(t.target.value),l({surnameInputValue:r,nameInputValue:i,patronymicInputValue:t.target.value,organizationInputValue:_,requestSumInputValue:Number(c),goalTextareaValue:m})},isWarn:p&&!o,placeholder:"Отчество"})]}),e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Название организации/инициативы:"}),e.jsx(D,{className:n.KindDeedsCreateRequestContainer__input,type:"text",value:_,onChange:t=>{w(t.target.value),l({surnameInputValue:r,nameInputValue:i,patronymicInputValue:o,organizationInputValue:t.target.value,requestSumInputValue:Number(c),goalTextareaValue:m})},isWarn:p&&!_,placeholder:"Организация"}),e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Цель финансирования"}),e.jsx(Re,{className:n.KindDeedsCreateRequestContainer__textarea,value:m,onChange:t=>{W(t.target.value),l({surnameInputValue:r,nameInputValue:i,patronymicInputValue:o,organizationInputValue:_,requestSumInputValue:Number(c),goalTextareaValue:t.target.value})},isWarn:p&&!m,placeholder:"Подробно объясните, как будут использованы запрашиваемые средства и какое влияние они окажут"}),e.jsxs(u,{className:n.KindDeedsCreateRequestContainer__loadDocumentsWrapper,max:!0,children:[e.jsx(Z,{title:"Загрузите документы",size:ee.BIG,withBG:!1,isWarn:p&&!C.length,isHovered:!0,inputRef:f}),e.jsx(te,{inputRef:f,setInputFiles:h,InputFiles:C,setInputFileProgress:b,accept:"image/jpg, image/jpeg, image/png, image/gif",zIndex:-1,indexedDB:I.current,indexedDBStoreName:j})]}),e.jsx(ae,{InputFileProgress:L,setInputFileProgress:b,setInputFiles:h,files:C,fileView:"medium",accept:"image/jpg, image/jpeg, image/png, image/gif",indexedDBName:O,indexedDBStore:j,indexedDB:I.current}),e.jsx("h2",{className:"KindDeedsCreateRequestPage__subcaption",children:"Сумма запроса"}),e.jsx(u,{max:!0,className:n.KindDeedsCreateRequestContainer__input__sum,children:e.jsx(D,{className:n.KindDeedsCreateRequestContainer__input,type:"number",value:c,onChange:t=>{B(t.target.value),l({surnameInputValue:r,nameInputValue:i,patronymicInputValue:o,organizationInputValue:_,requestSumInputValue:Number(t.target.value),goalTextareaValue:m})},isWarn:p&&!c,placeholder:"1 422 223₽"})})]})]}),e.jsxs(u,{max:!0,justify:"end",align:"center",children:[e.jsx(S,{to:q.KIND_DEEDS,type:N.BLACK_WITHOUT_OUTLINE,text:"Назад",className:n.KindDeedsCreateRequestContainer__button}),e.jsx(S,{type:N.RED,text:"Создать запрос",className:n.KindDeedsCreateRequestContainer__button,onClick:P})]})]})})}),ge="_KindDeedsRequestCreated_2bh8i_1",xe="_KindDeedsRequestCreated__img_2bh8i_9",Ke="_KindDeedsRequestCreated__caption_2bh8i_14",he="_KindDeedsRequestCreated__desc_2bh8i_19",Ie="_KindDeedsRequestCreated__button_2bh8i_26",R={KindDeedsRequestCreated:ge,KindDeedsRequestCreated__img:xe,KindDeedsRequestCreated__caption:Ke,KindDeedsRequestCreated__desc:he,KindDeedsRequestCreated__button:Ie},je=a.memo(()=>e.jsxs(u,{className:`${R.KindDeedsRequestCreated} Page__GrayBorderSecondaryWrapper`,align:"center",justify:"center",direction:"column",gap:"10",max:!0,children:[e.jsx("img",{className:R.KindDeedsRequestCreated__img,src:`${H}/KindDeeds/letterOfKindness_img.png`,alt:"Письмо с сердечком и логотипов TeleWorks"}),e.jsx("h1",{className:R.KindDeedsRequestCreated__caption,children:"Запрос создан!"}),e.jsx("p",{className:R.KindDeedsRequestCreated__desc,children:"Сейчас запрос проходит модерацию, после проверки мы пришлем вам уведомление или другая важна информация"}),e.jsx(S,{className:R.KindDeedsRequestCreated__button,text:"На главную",to:q.KIND_DEEDS,type:N.RED})]})),jt=a.memo(()=>{a.useEffect(()=>{document.querySelector("html").classList.add("KindDeedsCreateRequestPage"),document.title=`${document.title} | Создание запроса средств`},[]);const[d,s]=a.useState(!1);return e.jsx("main",{className:"Page KindDeedsCreateRequestPage__main",children:e.jsx("div",{className:"padding",children:e.jsxs(u,{max:!0,align:"center",justify:"center",className:"KindDeedsCreateRequestPage__contentWrapper",children:[e.jsx("div",{id:"KindDeedsRequestCreated",style:{position:"absolute",top:M.matches?"70vh":"5vh"}}),e.jsx(U,{blocks:[{component:e.jsx(qe,{setRequestIsCreated:s}),condition:!d,id:0},{component:e.jsx(je,{}),condition:d,id:1}],transitionDuration:Q,defaultIndex:0})]})})})});export{jt as KindDeedsCreateRequestPage};
