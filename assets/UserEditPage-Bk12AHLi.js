import{r as t,j as e}from"./react-SWQbpNdl.js";import{f as G,g as k,I as T,U as ce,h as de,a as V,B as z,H as pe,F as me}from"./index-BbCPJEel.js";import{l as ge}from"./react-loadingg-mexSmHAC.js";import{S as ue,v as Ee,s as fe}from"./Select-Mj55-qEJ.js";import{U as J,L as X,a as L}from"./LocalStorageKeys-CBh8Enln.js";import{R as he}from"./react-quill-BdfKoJx8.js";import"./@babel-BUiOBcM-.js";import"./react-dom-DxN2oLL9.js";import"./scheduler-CzFDRTuY.js";import"./react-router-dom-DjGoV6A_.js";import"./react-router-D0TulCCO.js";import"./@remix-run-BFLWy9pZ.js";import"./flowbite-react-BQ69OgIf.js";import"./react-icons-B6XOnTk_.js";import"./tailwind-merge-3VKOpVsw.js";import"./classnames-iR1RLlz2.js";import"./debounce-0BFaHC-l.js";import"./@floating-ui-Yq7M0TBs.js";import"./tabbable-DNPBiPWX.js";import"./@mui-BcRc7fw5.js";import"./clsx-B-dksMZM.js";import"./@emotion-CMQ2GY60.js";import"./hoist-non-react-statics-Buxaj0Kl.js";import"./react-is-8JwjhRSi.js";import"./react-transition-group-MCX_ZxWf.js";import"./react-redux-DTcQUcTr.js";import"./use-sync-external-store-CU8T5Q8Q.js";import"./@reduxjs-BMC_f8BA.js";import"./redux-DITMfSWq.js";import"./immer-BPoY8EgY.js";import"./reselect-BeKUwQU7.js";import"./redux-thunk-ClJT1hhx.js";import"./styled-components-B8tnORu1.js";import"./stylis-CMHfHRFC.js";import"./stylis-rule-sheet-D4hHYmwC.js";import"./merge-anything-D_kaZiAl.js";import"./is-what-BcD0NeHv.js";import"./react-select-Dw5wxA7o.js";import"./use-isomorphic-layout-effect-Cdzwp0gt.js";import"./memoize-one-BdPwpGay.js";import"./lodash-BJ1LT6TK.js";import"./quill-D7XF09Kk.js";const Ie="_userEdit_1e68k_1",xe={userEdit:Ie},ke="_userEditGeneral_1dxqs_1",we="_userEditGeneral__headerImage_1dxqs_8",Ce="_userEditGeneral__avatar_1dxqs_11",ve="_userEditGeneral__info_1dxqs_14",be="_userEditGeneral__inputs_1dxqs_20",Pe="_userEditGeneral__inputs__header_1dxqs_27",je="_userEditGeneral__inputWrapper_1dxqs_34",Le="_userEditGeneral__inputWrapper__title_1dxqs_40",Be="_userEditGeneral__inputWrapper__input_1dxqs_46",Ne="_userEditGeneral__select_1dxqs_60",Ge="_userEditGeneral__tagsInput_1dxqs_68",Re="_userEditGeneral__tagsInputWrapper_1dxqs_74",We="_userEditGeneral__tag_1dxqs_68",Se="_userEditGeneral__tag__text_1dxqs_98",Te="_userEditGeneral__tag__delete_1dxqs_104",d={userEditGeneral:ke,userEditGeneral__headerImage:we,userEditGeneral__avatar:Ce,userEditGeneral__info:ve,userEditGeneral__inputs:be,userEditGeneral__inputs__header:Pe,userEditGeneral__inputWrapper:je,userEditGeneral__inputWrapper__title:Le,userEditGeneral__inputWrapper__input:Be,userEditGeneral__select:Ne,userEditGeneral__tagsInput:Ge,userEditGeneral__tagsInputWrapper:Re,userEditGeneral__tag:We,userEditGeneral__tag__text:Se,userEditGeneral__tag__delete:Te},U="loading";var B=(a=>(a.SMALL="small",a.MEDIUM="medium",a.BIG="big",a))(B||{}),N=(a=>(a.SIZE_ERROR="Некорректный размер файла!",a.RESOLUTION_ERROR="Неправильное разрешение изображения!",a.FORMAT_ERROR="Неправильный формат файла!",a))(N||{});const Ue="_loadImageBlock_8g5n6_1",ye="_loadImageBlock__wrapper_8g5n6_6",Ae="_loadImageBlock__wrapper__info_8g5n6_13",Oe="_loadImageBlock__wrapper__errors_8g5n6_20",Me="_loadImageBlock__wrapper__error_8g5n6_20",De="_loadImageBlock__wrapperWrapper_8g5n6_33",qe="_loadImageBlock__wrapperPadding_8g5n6_44",Fe="_loadImageBlock__wrapper__requirements_8g5n6_55",$e="_loadImageBlock__wrapper__input_8g5n6_61",He="_loadImageBlock__wrapper__img_8g5n6_69",Ve="_loadImageBlock__wrapper__imgWrapper_8g5n6_76",ze="_loadImageBlock__wrapper__loadingWrapper_8g5n6_83",Ze="_loadImageBlock__big_8g5n6_90",Ke="_loadImageBlock__medium_8g5n6_94",Qe="_loadImageBlock__small_8g5n6_98",Je="_loadImageBlock__wrapper__active_8g5n6_102",Xe="_loadImageBlock__wrapper__withImg_8g5n6_102",Ye="_loadImageBlock__caption_8g5n6_114",ea="_loadImageBlock__desc_8g5n6_121",p={loadImageBlock:Ue,loadImageBlock__wrapper:ye,loadImageBlock__wrapper__info:Ae,loadImageBlock__wrapper__errors:Oe,loadImageBlock__wrapper__error:Me,loadImageBlock__wrapperWrapper:De,loadImageBlock__wrapperPadding:qe,loadImageBlock__wrapper__requirements:Fe,loadImageBlock__wrapper__input:$e,loadImageBlock__wrapper__img:He,loadImageBlock__wrapper__imgWrapper:Ve,loadImageBlock__wrapper__loadingWrapper:ze,loadImageBlock__big:Ze,loadImageBlock__medium:Ke,loadImageBlock__small:Qe,loadImageBlock__wrapper__active:Je,loadImageBlock__wrapper__withImg:Xe,loadImageBlock__caption:Ye,loadImageBlock__desc:ea},aa=a=>t.createElement("div",{style:{position:"relative"}},t.createElement("svg",{style:{position:"absolute",top:15,left:"11.5px"},width:21,height:21,viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},t.createElement("path",{d:"M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"})),t.createElement("svg",{width:74,height:74,viewBox:"0 0 74 74",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},t.createElement("path",{d:"M71 52.1111V67.2222C71 69.3087 69.3087 71 67.2222 71H6.77778C4.69139 71 3 69.3087 3 67.2222V59.6667M71 52.1111V6.77778C71 4.69139 69.3087 3 67.2222 3H6.77778C4.69139 3 3 4.69139 3 6.77778V59.6667M71 52.1111L50.1576 38.2161C49.0296 37.4639 47.585 37.374 46.3723 37.9803L3 59.6667",stroke:"#FF5555",strokeWidth:5,strokeLinejoin:"round"}))),M=660,D=440,q=30720,F=10485760,ta=(a,r,_)=>{const n=a>=q&&a<=F,s=r>=M&&_>=D;return!(!n||!s)},y=t.memo(({title:a,size:r,requirements:_=!0,className:n,LoadedImage:s,setLoadedImage:l,LoadedImageErrors:g,setLoadedImageErrors:f})=>{const i=t.useRef(null),E=o=>(o.preventDefault(),!1);t.useEffect(()=>(["dragover","drop"].forEach(function(o){document.addEventListener(o,E)}),()=>{["dragover","drop"].forEach(function(o){document.removeEventListener(o,E)})}),[]);const m=o=>{var I,h;(I=i.current)==null||I.classList.remove(p.loadImageBlock__wrapper__active);const c=(h=o.dataTransfer)==null?void 0:h.files[0];if(c)if(c.type.startsWith("image/"))j(o,l,f);else return f([...g,N.FORMAT_ERROR]),!1};return e.jsxs("div",{className:`${p.loadImageBlock} ${p[`loadImageBlock__${r}`]} ${n||""}`,onDragEnter:()=>{var o;return(o=i.current)==null?void 0:o.classList.add(p.loadImageBlock__wrapper__active)},onDragLeave:()=>{var o;return(o=i.current)==null?void 0:o.classList.remove(p.loadImageBlock__wrapper__active)},onDrop:m,children:[e.jsx("div",{className:`${p.loadImageBlock__wrapper} Page__SirineWrapper 
        ${s&&s!=U?p.loadImageBlock__wrapper__withImg:""}`,ref:i,children:!s||g.length?e.jsxs("label",{className:p.loadImageBlock__wrapperPadding,children:[e.jsx("div",{className:`${p.loadImageBlock__wrapperWrapper}`}),e.jsx("input",{className:p.loadImageBlock__wrapper__input,type:"file",onChange:o=>j(o,l,f),accept:"image/png, image/gif, image/jpeg, image/jpg"}),e.jsxs("div",{className:p.loadImageBlock__wrapper__info,children:[e.jsx(aa,{}),e.jsx("h4",{className:p.loadImageBlock__caption,children:a}),_&&e.jsxs("div",{className:p.loadImageBlock__wrapper__requirements,children:[e.jsxs("span",{className:p.loadImageBlock__desc,children:["Минимальный размер: ",M," х"," ",D," px"]}),e.jsxs("span",{className:p.loadImageBlock__desc,children:["Вес: ",Math.round(q/1024)," кб —"," ",Math.round(F/1048576)," Мб"]}),e.jsx("span",{className:p.loadImageBlock__desc,children:"Форматы: jpg, jpeg, png, gif"})]})]})]}):s==U?e.jsx("div",{className:p.loadImageBlock__wrapper__loadingWrapper,children:e.jsx(ge.SemipolarLoading,{color:"var(--main-color)",size:"small"})}):e.jsxs("label",{className:p.loadImageBlock__wrapper__imgWrapper,children:[e.jsx("img",{className:p.loadImageBlock__wrapper__img,src:s,alt:"Изображение хедера"}),e.jsx("input",{className:p.loadImageBlock__wrapper__input,type:"file",onChange:o=>j(o,l,f),accept:"image/png, image/gif, image/jpeg, image/jpg"})]})}),g.length>0&&e.jsx("div",{className:p.loadImageBlock__wrapper__errors,children:g.map(o=>e.jsx("span",{className:p.loadImageBlock__wrapper__error,children:o},o))})]})}),A=a=>{const[r,_]=t.useState("");return[r,_]},O=()=>{const[a,r]=t.useState([]);return[a,r]},j=(a,r,_)=>{var l;r(U);const n=a.target.files||((l=a.dataTransfer)==null?void 0:l.files),s=[];if(_([]),n&&n.length){const g=new FileReader,f=n[0].size>=q&&n[0].size<=F;g.onload=function(){const i=new Image;i.src=g.result,i.onload=function(){const E=i.naturalWidth>=M&&i.naturalHeight>=D;ta(n[0].size,i.naturalWidth,i.naturalHeight)?r(g.result):(E||s.push(N.RESOLUTION_ERROR),f||s.push(N.SIZE_ERROR),_(s))}},g.readAsDataURL(n[0])}},ra=a=>t.createElement("svg",{width:8,height:15,viewBox:"0 0 8 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.270361 14.7135C-0.0901204 14.3314 -0.0901205 13.712 0.270361 13.33L5.77147 7.49999L0.270361 1.66993C-0.090121 1.28788 -0.090121 0.668578 0.270361 0.286533C0.630842 -0.0955115 1.21526 -0.0955115 1.57576 0.286533L7.72963 6.80829C8.09012 7.19033 8.09012 7.80964 7.72963 8.19168L1.57576 14.7135C1.21526 15.0955 0.630843 15.0955 0.270361 14.7135Z",fill:"#001A72"})),Z=[{value:"Дизайнер",label:"Дизайнер"},{value:"Программист",label:"Программист"},{value:"Экономист",label:"Экономист"}],Y=a=>t.createElement("svg",{width:7,height:7,viewBox:"0 0 7 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.869 0.790865C6.95401 0.702851 7.00105 0.58497 6.99998 0.462612C6.99892 0.340253 6.94984 0.223207 6.86332 0.136684C6.77679 0.0501599 6.65975 0.0010809 6.53739 1.76411e-05C6.41503 -0.00104562 6.29715 0.0459919 6.20913 0.130999L3.50573 2.8344L0.802334 0.130999C0.71432 0.0459919 0.596439 -0.00104562 0.474081 1.76411e-05C0.351722 0.0010809 0.234676 0.0501599 0.148153 0.136684C0.0616287 0.223207 0.0125498 0.340253 0.0114865 0.462612C0.0104232 0.58497 0.0574608 0.702851 0.142468 0.790865L2.84587 3.49427L0.142468 6.19766C0.0978965 6.24071 0.0623447 6.29221 0.0378872 6.34914C0.0134297 6.40608 0.000556068 6.46731 1.762e-05 6.52928C-0.000520828 6.59124 0.0112865 6.65269 0.0347509 6.71004C0.0582154 6.7674 0.0928668 6.8195 0.136683 6.86332C0.1805 6.90713 0.232604 6.94178 0.289956 6.96525C0.347308 6.98871 0.408758 7.00052 0.470722 6.99998C0.532685 6.99944 0.593921 6.98657 0.650856 6.96211C0.707792 6.93765 0.759286 6.9021 0.802334 6.85753L3.50573 4.15413L6.20913 6.85753C6.29715 6.94254 6.41503 6.98958 6.53739 6.98851C6.65975 6.98745 6.77679 6.93837 6.86332 6.85185C6.94984 6.76532 6.99892 6.64828 6.99998 6.52592C7.00105 6.40356 6.95401 6.28568 6.869 6.19766L4.1656 3.49427L6.869 0.790865Z",fill:"#FF5555"}));let S;function $(a,r){return(..._)=>{S&&clearTimeout(S),S=setTimeout(()=>{a(..._)},r)}}const K=(a,r)=>J(a,X.USER_EDIT_GENERAL,r),sa=()=>e.jsx(ra,{className:fe.Select__svg}),oa={fontFamily:"var(--second-family)",fontWeight:400,fontSize:"14px",letterSpacing:"-0.01em",lineHeight:"150%",color:"#b2b2b2"},_a=t.memo(()=>{const a=$(()=>{K(L.UPDATE,{name:_,surname:i,profession:{value:s==null?void 0:s.value,label:s==null?void 0:s.label},tags:h})},1e3),r=K(L.GET),[_,n]=t.useState(r?r.name:""),[s,l]=t.useState(r?r.profession:Z[0]),g=u=>{l(u)},f=u=>{n(u.target.value)},[i,E]=t.useState(r?r.surname:""),m=u=>{E(u.target.value)},[o,c]=t.useState(""),I=t.useRef(null),[h,R]=t.useState(r?r.tags:[]),v=t.useCallback(u=>{u.preventDefault(),u.keyCode===13&&o&&document.activeElement==I.current&&(h.includes(o)||(R([...h,o]),c(""),I.current.focus()))},[h,o]);t.useEffect(()=>{document.activeElement==I.current&&o?document.addEventListener("keyup",v):document.removeEventListener("keyup",v)},[document.activeElement,o]),t.useEffect(()=>()=>{document.removeEventListener("keyup",v)},[v]);const ee=t.useCallback(u=>{R(h.filter(b=>b!=u)),I.current.focus()},[h]),W=t.useCallback(u=>{if(document.activeElement==I.current&&!o){const b=u.keyCode||u.charCode;if(b==8||b==46){const H=h.slice();H.pop(),R(H)}}},[h,o]);t.useEffect(()=>(document.addEventListener("keydown",W),()=>{document.removeEventListener("keydown",W)}),[W]);const[ae,te]=A(),[re,se]=O(),[oe,_e]=A(),[ne,le]=O(),{refs:ie}=t.useContext(G);return t.useEffect(()=>{a()},[a,_,i,s,h]),e.jsxs("div",{ref:ie[k.GENERAL],className:d.userEditGeneral,children:[e.jsx("h4",{className:"UserEditPage__caption",children:"Основная информация:"}),e.jsx(y,{className:d.userEditGeneral__headerImage,size:B.BIG,title:"Загрузить шапку профиля",LoadedImage:ae,setLoadedImage:te,LoadedImageErrors:re,setLoadedImageErrors:se}),e.jsxs("div",{className:d.userEditGeneral__info,children:[e.jsx(y,{className:d.userEditGeneral__avatar,size:B.SMALL,title:"Загрузите аватарку",LoadedImage:oe,setLoadedImage:_e,LoadedImageErrors:ne,setLoadedImageErrors:le}),e.jsxs("div",{className:d.userEditGeneral__inputs,children:[e.jsxs("div",{className:d.userEditGeneral__inputs__header,children:[e.jsxs("div",{className:d.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:d.userEditGeneral__inputWrapper__title,children:"Имя"}),e.jsx(T,{value:_,onChange:f,type:"text",placeholder:"Иван",className:d.userEditGeneral__inputWrapper__input})]}),e.jsxs("div",{className:d.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:d.userEditGeneral__inputWrapper__title,children:"Фамилия"}),e.jsx(T,{value:i,onChange:m,type:"text",placeholder:"Иванов",className:d.userEditGeneral__inputWrapper__input})]})]}),e.jsxs("div",{className:d.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:d.userEditGeneral__inputWrapper__title,children:"Профессия"}),e.jsx(ue,{className:d.userEditGeneral__select,selectedOptions:Z,CustomDropdownIndicator:sa,TextStyles:oa,valueContainerPadding:Ee.SMALL,setState:g,DefaultSelectedOption:s})]}),e.jsxs("div",{className:d.userEditGeneral__inputWrapper,children:[e.jsx("span",{className:d.userEditGeneral__inputWrapper__title,children:"Навыки"}),e.jsxs("div",{className:d.userEditGeneral__tagsInputWrapper,children:[h.map(u=>e.jsxs("div",{className:d.userEditGeneral__tag,children:[e.jsx("span",{className:d.userEditGeneral__tag__text,children:u}),e.jsx("div",{onClick:()=>ee(u),className:d.userEditGeneral__tag__delete,children:e.jsx(Y,{})})]},u)),e.jsx("input",{className:d.userEditGeneral__tagsInput,type:"text",value:o,onChange:u=>c(u.target.value),ref:I})]}),e.jsx("span",{className:"UserEditPage__desc",children:"Начните вводить название программ в которых вы работаете."})]})]})]})]})}),na="_markdownTextarea_qpbdj_1",la="_markdownTextareaWrapper_qpbdj_9",ia="_markdownTextarea__textarea_qpbdj_14",ca="_markdownTextarea__textarea__warn_qpbdj_19",da="_markdownTextarea__symbols_qpbdj_22",P={markdownTextarea:na,markdownTextareaWrapper:la,markdownTextarea__textarea:ia,markdownTextarea__textarea__warn:ca,markdownTextarea__symbols:da},pa={toolbar:[["bold","italic"],[{list:"ordered"}]]},ma=["bold","italic","list"],ga=t.memo(({TextareaValue:a,setTextareaValue:r,maxSymbolsAmount:_,minSymbolsAmount:n})=>{const[s,l]=t.useState(""),[g,f]=t.useState(""),i=(E,m)=>{m.length<=_?(r(m),l(E),f(m)):(l(g),r(g))};return t.useEffect(()=>{a==`
`&&r("")},[a,r]),t.useEffect(()=>{a&&l(a)},[]),e.jsxs("div",{className:P.markdownTextareaWrapper,children:[e.jsx(he,{className:`${P.markdownTextarea__textarea} ${a.length>=_?P.markdownTextarea__textarea__warn:""}`,theme:"snow",value:s,onChange:(E,m,o,c)=>i(E,c.getText()),formats:ma,modules:pa}),e.jsxs("span",{className:`UserEditPage__desc ${P.markdownTextarea__symbols}`,children:[a.length," из ",_," символов (минимум"," ",n,")"]})]})}),ua="_userEditAbout_16ml2_1",Ea={userEditAbout:ua},Q=(a,r)=>J(a,X.USER_EDIT_ABOUT,r),fa=100,ha=500,Ia=t.memo(()=>{const a=Q(L.GET),[r,_]=t.useState(a||""),{refs:n}=t.useContext(G),s=$(()=>{Q(L.UPDATE,r)},1e3);return t.useEffect(()=>{s()},[r,s]),e.jsxs("div",{ref:n[k.ABOUT],className:Ea.userEditAbout,children:[e.jsx("h4",{className:"UserEditPage__caption",children:"Обо мне:"}),e.jsx(ga,{minSymbolsAmount:fa,maxSymbolsAmount:ha,TextareaValue:r,setTextareaValue:_})]})}),xa="_changeablePortfolioCase_3dn41_1",ka="_changeablePortfolioCase__img_3dn41_11",wa="_changeablePortfolioCase__wrapper_3dn41_20",Ca="_changeablePortfolioCase__wrapper__header_3dn41_27",va="_changeablePortfolioCase__wrapper__title_3dn41_32",ba="_changeablePortfolioCase__delete_3dn41_39",Pa="_changeablePortfolioCase__caseNameInput_3dn41_50",ja="_changeablePortfolioCase__changeImg_3dn41_60",La="_changeablePortfolioCase__changeImg__title_3dn41_69",Ba="_changeablePortfolioCase__changeImg__input_3dn41_78",x={changeablePortfolioCase:xa,changeablePortfolioCase__img:ka,changeablePortfolioCase__wrapper:wa,changeablePortfolioCase__wrapper__header:Ca,changeablePortfolioCase__wrapper__title:va,changeablePortfolioCase__delete:ba,changeablePortfolioCase__caseNameInput:Pa,changeablePortfolioCase__changeImg:ja,changeablePortfolioCase__changeImg__title:La,changeablePortfolioCase__changeImg__input:Ba},Na=a=>t.createElement("svg",{width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a},t.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.4084 0.682144C14.4988 -0.22738 13.0242 -0.227383 12.1146 0.682144L1.12369 11.6731C0.798565 11.9982 0.576946 12.4123 0.486775 12.8631L0.0310148 15.142C-0.186271 16.2284 0.771595 17.1863 1.85802 16.969L4.13682 16.5132C4.58768 16.4231 5.00178 16.2014 5.32691 15.8763L16.3178 4.88535C17.2274 3.97583 17.2274 2.5012 16.3178 1.59167L15.4084 0.682144ZM13.2125 1.78004C13.5158 1.47686 14.0072 1.47686 14.3105 1.78004L15.22 2.68957C15.5232 2.99274 15.5232 3.48428 15.22 3.78746L13.1459 5.86149L11.1386 3.85407L13.2125 1.78004ZM10.0406 4.95196L2.22159 12.771C2.11321 12.8794 2.03934 13.0174 2.00928 13.1677L1.55352 15.4464L3.83232 14.9907C3.98261 14.9606 4.12064 14.8868 4.22901 14.7784L12.048 6.95938L10.0406 4.95196Z",fill:"#FF5555"})),Ga=t.memo(({Case:a,setExistedCases:r,ExistedCases:_})=>{const[n,s]=A(),[l,g]=O();t.useEffect(()=>{a.caseImgURL&&s(a.caseImgURL)},[a.caseImgURL,s]),t.useEffect(()=>{if(a.caseImgURL!=n){const c=_.slice(),I=c.findIndex(h=>h.index==a.index);c[I].caseImgURL=n,r(c)}},[a.caseImgURL,a.index,n,_,r]);const[f,i]=t.useState(a.caseName||""),E=t.useRef(null);t.useEffect(()=>{E.current&&E.current.focus()},[]);const m=$(()=>{if(a.caseName!=f){const c=_.slice(),I=c.findIndex(h=>h.index==a.index);c[I].caseName=f,r(c)}},500),o=t.useCallback(c=>{i(c.target.value),m()},[m]);return e.jsxs("div",{className:x.changeablePortfolioCase,children:[e.jsx(y,{className:x.changeablePortfolioCase__img,requirements:!1,size:B.MEDIUM,LoadedImage:n,setLoadedImage:s,LoadedImageErrors:l,setLoadedImageErrors:g}),e.jsxs("div",{className:x.changeablePortfolioCase__wrapper,children:[e.jsxs("div",{className:x.changeablePortfolioCase__wrapper__header,children:[e.jsx("span",{className:x.changeablePortfolioCase__wrapper__title,children:"Название проекта"}),e.jsx("div",{onClick:()=>r(c=>c.filter(I=>I.index!==a.index)),children:e.jsx(Y,{className:x.changeablePortfolioCase__delete})})]}),e.jsx(T,{type:"text",placeholder:"Кейс 1...",value:f,onChange:o,className:x.changeablePortfolioCase__caseNameInput,refInput:E}),e.jsxs("label",{className:x.changeablePortfolioCase__changeImg,children:[e.jsx(Na,{}),e.jsx("input",{className:x.changeablePortfolioCase__changeImg__input,type:"file",accept:"image/png, image/gif, image/jpeg, image/jpg",onChange:c=>j(c,s,g)}),e.jsxs("span",{className:x.changeablePortfolioCase__changeImg__title,children:[n?"Заменить":"Добавить"," изображение"]})]})]})]})}),Ra="_userEditPortfolio_18mg9_1",Wa="_userEditPortfolio__header_18mg9_8",Sa="_userEditPortfolio__addCase_18mg9_14",Ta="_userEditPortfolio__cases_18mg9_26",Ua="_userEditPortfolio__cases__empty_18mg9_32",ya="_userEditPortfolio__cases__empty__text_18mg9_39",w={userEditPortfolio:Ra,userEditPortfolio__header:Wa,userEditPortfolio__addCase:Sa,userEditPortfolio__cases:Ta,userEditPortfolio__cases__empty:Ua,userEditPortfolio__cases__empty__text:ya},Aa=[{index:222,caseImgURL:`${ce}/global/images/portfolioCase__example_img.png`,caseName:"Инфографика"}],Oa=t.memo(()=>{const[a,r]=t.useState(Aa),_=t.useCallback(s=>{r([{index:s},...a])},[a]),{refs:n}=t.useContext(G);return e.jsxs("div",{ref:n[k.PORTFOLIO],className:w.userEditPortfolio,children:[e.jsxs("div",{className:w.userEditPortfolio__header,children:[e.jsx("h4",{className:"UserEditPage__caption",children:"Портфолио"}),e.jsx("span",{onClick:()=>_(a.length),className:w.userEditPortfolio__addCase,children:"+ Добавить кейс"})]}),e.jsx("div",{className:w.userEditPortfolio__cases,children:a.length?a.map(s=>e.jsx(Ga,{setExistedCases:r,Case:s,ExistedCases:a},s.index)):e.jsx("div",{className:w.userEditPortfolio__cases__empty,children:e.jsx("span",{className:w.userEditPortfolio__cases__empty__text,children:"Проектов ещё нет!"})})})]})}),Ma=t.memo(()=>e.jsxs("div",{className:xe.userEdit,children:[e.jsx(_a,{}),e.jsx(Ia,{}),e.jsx(Oa,{})]})),Da="_userEditPageWrapper_16hsk_1",qa="_userEditPageWrapper__wrapper_16hsk_6",Fa="_userEditPageWrapper__buttons_16hsk_15",$a="_userEditPageWrapper__button_16hsk_15",C={userEditPageWrapper:Da,userEditPageWrapper__wrapper:qa,userEditPageWrapper__buttons:Fa,userEditPageWrapper__button:$a},Ha=t.memo(()=>{const[a,r]=t.useState(k.GENERAL),_=t.useRef(null),n=t.useRef(null),s=t.useRef(null),l=t.useMemo(()=>({[k.GENERAL]:_,[k.ABOUT]:n,[k.PORTFOLIO]:s}),[]),g=t.useRef(null),f=t.useMemo(()=>({root:g.current,rootMargin:"0px",threshold:1}),[]),i=t.useRef(!0),E=t.useMemo(()=>new IntersectionObserver(([m])=>{if(m.isIntersecting){const o=Object.values(l).findIndex(c=>c.current==m.target);r(Object.keys(l)[o]),i.current=!1}},f),[f,l]);return t.useEffect(()=>{var m;i.current?l[a]&&((m=l[a].current)==null||m.scrollIntoView({behavior:"smooth",block:"start"})):i.current=!0},[a,l]),t.useEffect(()=>{for(const m in l)E.observe(l[m].current);return()=>{for(const m in l)E.unobserve(l[m].current)}},[E,l]),e.jsx(G.Provider,{value:{ActiveUserEditTab:a,setActiveUserEditTab:r,refs:l},children:e.jsxs("div",{className:C.userEditPageWrapper,children:[e.jsxs("section",{className:C.userEditPageWrapper__wrapper,children:[e.jsx(de,{}),e.jsx(Ma,{})]}),e.jsxs("div",{className:C.userEditPageWrapper__buttons,children:[e.jsx(V,{className:C.userEditPageWrapper__button,type:z.BLACK_WITHOUT_OUTLINE,text:"Вернуться в профиль"}),e.jsx(V,{className:C.userEditPageWrapper__button,type:z.RED,text:"Сохранить изменения"})]})]})})}),St=t.memo(()=>(t.useEffect(()=>{document.querySelector("html").classList.add("UserEditPage")},[]),e.jsxs(e.Fragment,{children:[e.jsx(pe,{}),e.jsx("main",{className:"UserEditPage__main",children:e.jsx("div",{className:"padding",children:e.jsx(Ha,{})})}),e.jsx(me,{})]})));export{St as UserEditPage};
